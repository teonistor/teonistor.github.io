"use strict";(self["webpackChunkpersonal_website_frontend"]=self["webpackChunkpersonal_website_frontend"]||[]).push([[490],{662:function(t,e,i){i.d(e,{A:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",[e("Notifications",{attrs:{alerts:t.alerts,floating:!0}}),t.restCallsGoing?e("v-progress-circular",{staticStyle:{margin:"15px 0 0 130px"},attrs:{indeterminate:""}}):e("div",[null===t.entryMd?e("v-icon",[t._v("mdi-account-alert")]):e("span",{domProps:{innerHTML:t._s(t.entryHtml)}})],1)],1)},a=[],o=i(23),n=i(7963),l=i(3020),r={props:["sourcePath","withCredentials"],components:{Notifications:l.A},mixins:[n.A],data:()=>({entryMd:null}),computed:{entryHtml(){return this.entryMd?(0,o["default"])(this.entryMd,{smartypants:!0,gfm:!0,breaks:!0}):""}},mounted(){(this.withCredentials&&this.credentialedAxios||this.plainAxios)("reading "+this.sourcePath,t=>t.get(this.sourcePath),t=>this.entryMd=t)}},c=r,d=i(845),h=(0,d.A)(c,s,a,!1,null,null,null),u=h.exports},1001:function(t,e,i){i.r(e),i.d(e,{default:function(){return x}});var s=function(){var t=this,e=t._self._c;return e("div",[e("v-container",[e("v-list",{staticStyle:{padding:"4px 4px 0px"},attrs:{dense:"",nav:""}},[t._l(t.categories,function(i){return e("v-list-item",{staticStyle:{display:"inline-block",width:"220px",padding:"10px","text-align":"center"},attrs:{link:"",to:"/l/"+i}},[e("span",[t._v(t._s(t.showLanguageSlider&&t.englishCategoryNames[i]||i))])])}),t.restCallsGoing?e("v-progress-circular",{staticStyle:{width:"220px"},attrs:{indeterminate:""}}):t._e(),e("span",{staticClass:"floating-controls"},[e("v-icon",{on:{click:function(e){t.widthSlider=0}}},[t._v("mdi-arrow-collapse-horizontal")]),e("v-slider",{staticClass:"floating-controls-slider",attrs:{min:"0",step:"1",max:"100"},model:{value:t.widthSlider,callback:function(e){t.widthSlider=e},expression:"widthSlider"}}),e("v-icon",{on:{click:function(e){t.widthSlider=100}}},[t._v("mdi-arrow-expand-horizontal")])],1),t.showLanguageSlider?e("span",{staticClass:"floating-controls"},[e("span",{staticClass:"flag-button",on:{click:function(e){t.languageSlider=0}}},[t._v("ðŸ‡¬ðŸ‡§")]),e("v-slider",{staticClass:"floating-controls-slider",attrs:{min:"0",step:"1",max:"2"},model:{value:t.languageSlider,callback:function(e){t.languageSlider=e},expression:"languageSlider"}}),e("span",{staticClass:"flag-button",on:{click:function(e){t.languageSlider=2}}},[t._v("ðŸ‡·ðŸ‡´")])],1):t._e()],2)],1),e("v-container",{style:{"max-width":t.viewerMaxWidth},attrs:{fluid:""}},[e("Notifications",{attrs:{alerts:t.alerts}}),t.rootCollection?e("LiteratureCollection",{attrs:{category:t.category,collection:t.rootCollection}}):t._e()],1)],1)},a=[],o=(i(8111),i(7588),i(1701),i(7642),i(8004),i(3853),i(5876),i(2475),i(5024),i(1698),i(7635)),n=i(7963),l=function(){var t=this,e=t._self._c;return e("v-expansion-panels",{attrs:{popout:""},model:{value:t.expanded,callback:function(e){t.expanded=e},expression:"expanded"}},[t._l(t.collection.subCollections,function(i){return e("v-expansion-panel",{key:i.title,attrs:{hover:"",focusable:"",popout:""}},[e("v-expansion-panel-header",[t._v(" ðŸ“–â€‚"+t._s(i.title)+" ")]),e("v-expansion-panel-content",{staticClass:"outer-panel"},[e("LiteratureCollection",{attrs:{category:t.category,collection:i}})],1)],1)}),t._l(t.collection.entries,function(i,s){return e("v-expansion-panel",{key:i.title,attrs:{hover:"",focusable:"",popout:""}},[e("v-expansion-panel-header",[t._v(" ðŸ–‹â€‚ "+t._s((i.stickyTitle||!t.isCurrentlyExpanded(s))&&i.title||"")+" "),"en"===i.lang?e("span",{staticStyle:{"text-align":"right"}},[t._v(" ðŸ‡¬ðŸ‡§ ")]):t._e(),"ro"===i.lang?e("span",{staticStyle:{"text-align":"right"}},[t._v(" ðŸ‡·ðŸ‡´ ")]):t._e()]),e("v-expansion-panel-content",[i.htmlPath?e("HtmlEntry",{attrs:{sourcePath:i.htmlPath,withCredentials:!0}}):t._e(),i.staticHtmlPath?e("HtmlEntry",{attrs:{sourcePath:i.staticHtmlPath,withCredentials:!1}}):t._e(),i.mdPath?e("BasicMdEntry",{attrs:{sourcePath:i.mdPath,withCredentials:!0}}):t._e(),i.staticMdPath?e("BasicMdEntry",{attrs:{sourcePath:i.staticMdPath,withCredentials:!1}}):t._e(),i.pdfPath?e("iframe",{staticClass:"pdf-entry",attrs:{src:i.pdfPath}}):t._e(),i.staticPdfPath?e("iframe",{staticClass:"pdf-entry",attrs:{src:i.staticPdfPath}}):t._e()],1)],1)})],2)},r=[],c=i(662),d=i(5982),h={name:"LiteratureCollection",components:{BasicMdEntry:c.A,HtmlEntry:d.A},props:["category","collection"],data:()=>({expanded:null}),methods:{isCurrentlyExpanded(t){return this.expanded===(this.collection.subCollections.length||0)+t}},mounted(){console.log("LiteratureCollection :: this.collection =",this.collection)}},u=h,p=i(845),g=(0,p.A)(u,l,r,!1,null,null,null),m=g.exports,f=i(3020),C={components:{LiteratureCollection:m,Notifications:f.A},mixins:[n.A],props:["category"],data:()=>({englishCategoryNames:{Eseuri:"Essays",Poezii:"Poetry"},widthSlider:0,languageSlider:1,staticRootCollections:{},loadedCategories:[],loadedRootCollection:null}),computed:{viewerMaxWidth(){return this.widthSlider<100&&675+12*Math.max(this.widthSlider,0)+"px"||null},showLanguageSlider(){return!1},categories(){let t=new Set(this.loadedCategories||[]);return Object.keys(this.staticRootCollections).forEach(e=>t.add(e)),t},rootCollection(){let t=this.staticRootCollections&&this.staticRootCollections[this.category]&&this.staticRootCollections[this.category].entries||[],e=this.staticRootCollections&&this.staticRootCollections[this.category]&&this.staticRootCollections[this.category].subCollections||[],i=this.loadedRootCollection&&this.loadedRootCollection.entries||[],s=this.loadedRootCollection&&this.loadedRootCollection.subCollections||[];return this.absolutisePaths({title:"(root)",entries:t.concat(i),subCollections:e.concat(s)})}},methods:{loadTocIfNeeded(){this.category&&this.credentialedAxios("loading TOC",t=>t.get(this.$apiUrl+"/l/toc/"+encodeURIComponent(this.category)),t=>this.loadedRootCollection=t)},absolutisePaths(t){if(!t||!t.entries&&!t.subCollections)return t;let e=(t.entries||[]).map(t=>Object.assign({},t,{htmlPath:this.absolutiseServerPath(t.htmlPath),mdPath:this.absolutiseServerPath(t.mdPath),pdfPath:this.absolutiseServerPath(t.pdfPath),staticHtmlPath:this.absolutiseStaticPath(t.staticHtmlPath),staticMdPath:this.absolutiseStaticPath(t.staticMdPath),staticPdfPath:this.absolutiseStaticPath(t.staticPdfPath)})),i=(t.subCollections||[]).map(this.absolutisePaths);return Object.assign({},t,{entries:e,subCollections:i})},absolutiseStaticPath(t){return t&&this.$dataUrl+"/l/"+t},absolutiseServerPath(t){return t&&this.$apiUrl+"/l/toc/"+encodeURIComponent(this.category)+"/"+encodeURIComponent(t)},navigateToFirstCategoryIfNeeded(){!this.category&&this.categories.size&&o.A.replace("/l/"+this.categories.entries().next().value[0])}},watch:{category(){this.loadTocIfNeeded()}},beforeMount(){Promise.all([this.credentialedAxios("loading categories",t=>t.get(this.$apiUrl+"/l/categories"),t=>this.loadedCategories=t.d||[]),this.plainAxios("loading static index",t=>t.get(this.$dataUrl+"/l/index.json"),t=>this.staticRootCollections=t)]).then(this.navigateToFirstCategoryIfNeeded)},mounted(){this.loadTocIfNeeded()}},v=C,y=(0,p.A)(v,s,a,!1,null,null,null),x=y.exports},5982:function(t,e,i){i.d(e,{A:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",[e("Notifications",{attrs:{alerts:t.alerts,floating:!0}}),t.restCallsGoing?e("v-progress-circular",{staticStyle:{margin:"15px 0 0 130px"},attrs:{indeterminate:""}}):e("div",[null===t.entryHtml?e("v-icon",[t._v("mdi-account-alert")]):e("span",{domProps:{innerHTML:t._s(t.entryHtml)}})],1)],1)},a=[],o=i(7963),n=i(3020),l={props:["sourcePath","withCredentials"],components:{Notifications:n.A},mixins:[o.A],data:()=>({entryHtml:""}),mounted(){(this.withCredentials&&this.credentialedAxios||this.plainAxios)("reading "+this.sourcePath,t=>t.get(this.sourcePath),t=>this.entryHtml=t)}},r=l,c=i(845),d=(0,c.A)(r,s,a,!1,null,null,null),h=d.exports}}]);
//# sourceMappingURL=490.3e637291.js.map