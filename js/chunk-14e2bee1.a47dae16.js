(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14e2bee1"],{"0881":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"4"}},[n("h3",[t._v("Filters")]),n("v-expansion-panels",{attrs:{popout:""}},t._l(t.filters,(function(e){return n("v-expansion-panel",{key:e.name,attrs:{hover:"",focusable:"",popout:""}},[n("v-expansion-panel-header",[t._v(" "+t._s(e.name)+" ")]),e.values.length<20?n("v-expansion-panel-content",t._l(e.values,(function(e){return n("v-checkbox",{key:e.label,attrs:{label:t.computeFilterLabel(e),disabled:!e.enabled},on:{change:function(e){return t.onFilterChange()}},model:{value:e.selected,callback:function(n){t.$set(e,"selected",n)},expression:"value.selected"}})})),1):n("v-expansion-panel-content",["Interlocutors"===e.name?n("span",[n("small",{staticStyle:{opacity:"0.66"}},[t._v("Sorry that some names which should be the same aren't and some which shouldn't be are. Data quality is difficult.")])]):t._e(),n("v-autocomplete",{attrs:{chips:"","deletable-chips":"",clearable:"",multiple:"",solo:"",items:t.computeListedItems(e)},on:{change:function(n){return t.onListedFilterChange(e)}},model:{value:e.listed,callback:function(n){t.$set(e,"listed",n)},expression:"filter.listed"}})],1)],1)})),1)],1),n("v-col",{attrs:{cols:"12",sm:"8"}},[t.restCallsGoing||t.results.length?t._e():n("span",[n("h3",[t._v(" Found nothing. "),n("span",{staticStyle:{"font-size":"medium"}},[t._v(" Perhaps the filters are set in an impossible combination, or you may need to "),t.userId?n("span",[t._v("logout and login as another user")]):n("span",[t._v("login")]),t._v(" (from the left bar). ")])]),n("br")]),n("v-tabs",{attrs:{grow:"","background-color":"#0000"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[t.restCallsGoing?n("v-progress-circular",{staticStyle:{position:"absolute",height:"32px",width:"32px",top:"10px",left:"10px"},attrs:{indeterminate:""}}):t._e(),n("v-tab",{key:"general"},[t._v(" Browse Quotes ")]),n("v-tab",{key:"qoty"},[t._v(" Quotes of the Year ")])],1),n("v-tabs-items",{staticStyle:{background:"#0000"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{key:"general"},[n("v-checkbox",{attrs:{label:"Shuffle"},model:{value:t.shuffle,callback:function(e){t.shuffle=e},expression:"shuffle"}}),!t.restCallsGoing&&t.results.length?n("h3",[t._v(t._s(t.truncatedResults.length)+" of "+t._s(t.results.length)+" shown")]):t._e(),n("hr"),n("br"),t._l(t.truncatedResults,(function(e,r){return n("p",{key:r,domProps:{innerHTML:t._s(e)}})})),t.results.length>t.resultsShown?n("v-btn",{on:{click:function(e){return t.showMore()}}},[t._v("Show more...")]):t._e()],2),n("v-tab-item",{key:"qoty"},[n("br"),n("h3",[t._v("Feature under construction")])])],1),n("Notifications",{attrs:{alerts:t.alerts,floating:!0}})],1)],1)],1)},i=[],a=(n("4de4"),n("5db7"),n("4160"),n("a630"),n("c975"),n("a15b"),n("d81d"),n("73d9"),n("b0c0"),n("b64b"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("159b"),n("ddb0"),n("2cc9")),o=n("c4f7"),s=n("343b"),l=n("e5a4"),u=n("e985"),c={components:{HtmlEntry:l["a"],Notifications:u["a"]},mixins:[s["a"]],props:["userId"],data:function(){return{tab:"general",results:[],shuffle:!0,resultsShown:30,filtersFirstLoaded:!0,filters:[]}},computed:{intermediateResults:function(){if(this.shuffle){var t=Array.from(this.results);return Object(o["a"])(t),t}return this.results},truncatedResults:function(){var t=this;return this.intermediateResults.filter((function(e,n){return n<t.resultsShown}))}},methods:{computeFilterLabel:function(t){return t.visibleCount===t.totalCount?t.label+" ("+t.visibleCount+")":t.label+" ("+t.visibleCount+"/"+t.totalCount+")"},computeListedItems:function(t){var e=this;return t.values.filter((function(t){return t.visibleCount>0||t.selected})).sort((function(t,e){return(e.selected?1e6:0)+e.visibleCount-(t.selected?1e6:0)-t.visibleCount})).map((function(t){return{text:e.computeFilterLabel(t),value:t.label,disabled:!t.enabled}}))},loadFilters:function(){var t=this,e=this.$route.query||{};function n(t){return Array.isArray(t)&&t||[t]}var r=Object.keys(e).flatMap((function(t){return n(e[t]).map((function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}))})).join("&");this.credentialedAxios("loading filters",(function(e){return e.get(t.$apiUrl+"/diary/gagmine/filters?"+r)}),this.setFilterData)},loadFiltersFromExistingQuery:function(){var t=this;this.credentialedAxios("loading filters",(function(e){return e.get(t.$apiUrl+"/diary/gagmine/filters?"+t.query())}),(function(e){t.setFilterData(e),t.updateUrlFromSelections()}))},setFilterData:function(t){var e={};this.filters.forEach((function(t){return e[t.name]=t.values.filter((function(t){return t.selected})).map((function(t){return t.label}))})),t.forEach((function(t){t.listed=e[t.name]||[],t.values.forEach((function(e){return e.selected=t.listed.indexOf(e.label)>=0}))})),this.filters=t,this.filtersFirstLoaded&&(this.filtersFirstLoaded=!1,this.updateSelectionsFromUrlOrFallback(),this.loadData())},query:function(){return this.filters.flatMap((function(t){return t.values.filter((function(t){return t.selected})).map((function(e){return encodeURIComponent(t.name)+"="+encodeURIComponent(e.label)}))})).join("&")},updateSelectionsFromUrlOrFallback:function(){var t=this.$route.query||{},e=this.filters;function n(t,e){return Array.isArray(t)&&t.indexOf(e)>=0||t===e}Object.keys(t).length>0?Object.keys(t).forEach((function(r){return e.filter((function(t){return t.name===r})).forEach((function(e){e.values.forEach((function(e){return e.selected=e.enabled&&n(t[r],e.label)})),e.listed=e.values.filter((function(t){return t.selected})).map((function(t){return t.label}))}))})):(e.filter((function(t){return"Category"===t.name})).forEach((function(t){t.values.forEach((function(t){return t.selected=t.enabled})),t.listed=t.values.filter((function(t){return t.enabled})).map((function(t){return t.label}))})),e.filter((function(t){return"Year"===t.name})).forEach((function(t){var e=t.values.map((function(t){return t.label})).sort()[t.values.length-1];t.values.forEach((function(t){return t.selected=t.label===e})),t.listed=t.values.filter((function(t){return t.enabled&&t.selected})).map((function(t){return t.label}))}))),this.filters=e},loadData:function(){var t=this;this.resultsShown=30,this.credentialedAxios("loading data",(function(e){return e.get(t.$apiUrl+"/diary/gagmine/query?"+t.query())}),(function(e){return t.results=e}))},onListedFilterChange:function(t){t.values.forEach((function(e){return e.selected=t.listed.indexOf(e.label)>=0})),this.onFilterChange()},onFilterChange:function(){this.loadData(),this.loadFiltersFromExistingQuery()},updateUrlFromSelections:function(){var t={};this.filters.forEach((function(e){return t[e.name]=e.values.filter((function(t){return t.selected})).map((function(t){return t.label}))})),a["a"].replace({query:t})},showMore:function(){this.resultsShown+=50}},mounted:function(){this.loadFilters()}},f=c,d=(n("deff"),n("2877")),h=Object(d["a"])(f,r,i,!1,null,null,null);e["default"]=h.exports},"0cb2":function(t,e,n){var r=n("e330"),i=n("7b0b"),a=Math.floor,o=r("".charAt),s=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,d){var h=n+t.length,v=r.length,p=c;return void 0!==f&&(f=i(f),p=u),s(d,p,(function(i,s){var u;switch(o(s,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,n);case"'":return l(e,h);case"<":u=f[l(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>v){var d=a(c/10);return 0===d?i:d<=v?void 0===r[d-1]?o(s,1):r[d-1]+o(s,1):i}u=r[c-1]}return void 0===u?"":u}))}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),a=n("785a"),o=n("17c2"),s=n("9112"),l=function(t){if(t&&t.forEach!==o)try{s(t,"forEach",o)}catch(e){t.forEach=o}};for(var u in i)i[u]&&l(r[u]&&r[u].prototype);l(a)},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),a=i("forEach");t.exports=a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1caf":function(t,e,n){},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,i=n("577e"),a=n("69f3"),o=n("c6d2"),s=n("4754"),l="String Iterator",u=a.set,c=a.getterFor(l);o(String,"String",(function(t){u(this,{type:l,string:i(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?s(void 0,!0):(t=r(n,i),e.index+=t.length,s(t,!1))}))},4160:function(t,e,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"4de4":function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").filter,a=n("1dde"),o=a("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("c65b"),a=n("7b0b"),o=n("9bdd"),s=n("e95a"),l=n("68ee"),u=n("07fa"),c=n("8418"),f=n("9a1f"),d=n("35a1"),h=Array;t.exports=function(t){var e=a(t),n=l(this),v=arguments.length,p=v>1?arguments[1]:void 0,b=void 0!==p;b&&(p=r(p,v>2?arguments[2]:void 0));var m,g,y,x,S,L,_=d(e),k=0;if(!_||this===h&&s(_))for(m=u(e),g=n?new this(m):h(m);m>k;k++)L=b?p(e[k],k):e[k],c(g,k,L);else for(x=f(e,_),S=x.next,g=n?new this:[];!(y=i(S,x)).done;k++)L=b?o(x,p,[y.value,k],!0):y.value,c(g,k,L);return g.length=k,g}},5319:function(t,e,n){"use strict";var r=n("2ba4"),i=n("c65b"),a=n("e330"),o=n("d784"),s=n("d039"),l=n("825a"),u=n("1626"),c=n("7234"),f=n("5926"),d=n("50c4"),h=n("577e"),v=n("1d80"),p=n("8aa5"),b=n("dc4a"),m=n("0cb2"),g=n("14c3"),y=n("b622"),x=y("replace"),S=Math.max,L=Math.min,_=a([].concat),k=a([].push),F=a("".indexOf),w=a("".slice),C=function(t){return void 0===t?t:String(t)},E=function(){return"$0"==="a".replace(/./,"$0")}(),M=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),$=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));o("replace",(function(t,e,n){var a=M?"$":"$0";return[function(t,n){var r=v(this),a=c(t)?void 0:b(t,x);return a?i(a,t,r,n):i(e,h(r),t,n)},function(t,i){var o=l(this),s=h(t);if("string"==typeof i&&-1===F(i,a)&&-1===F(i,"$<")){var c=n(e,o,s,i);if(c.done)return c.value}var v=u(i);v||(i=h(i));var b=o.global;if(b){var y=o.unicode;o.lastIndex=0}var x=[];while(1){var E=g(o,s);if(null===E)break;if(k(x,E),!b)break;var M=h(E[0]);""===M&&(o.lastIndex=p(s,d(o.lastIndex),y))}for(var $="",A=0,O=0;O<x.length;O++){E=x[O];for(var T=h(E[0]),j=S(L(f(E.index),s.length),0),I=[],R=1;R<E.length;R++)k(I,C(E[R]));var D=E.groups;if(v){var q=_([T],I,j,s);void 0!==D&&k(q,D);var H=h(r(i,void 0,q))}else H=m(T,s,j,I,D,i);j>=A&&($+=w(s,A,j)+H,A=j+T.length)}return $+w(s,A)}]}),!$||!E||M)},"53c4":function(t,e,n){},"5db7":function(t,e,n){"use strict";var r=n("23e7"),i=n("a2bf"),a=n("59ed"),o=n("7b0b"),s=n("07fa"),l=n("65f0");r({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),r=s(n);return a(t),e=l(n,0),e.length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},"73d9":function(t,e,n){var r=n("44d2");r("flatMap")},"785a":function(t,e,n){var r=n("cc12"),i=r("span").classList,a=i&&i.constructor&&i.constructor.prototype;t.exports=a===Object.prototype?void 0:a},"9bdd":function(t,e,n){var r=n("825a"),i=n("2a62");t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(o){i(t,"throw",o)}}},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("e330"),a=n("44ad"),o=n("fc6a"),s=n("a640"),l=i([].join),u=a!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(t){return l(o(this),void 0===t?",":t)}})},a2bf:function(t,e,n){"use strict";var r=n("e8b5"),i=n("07fa"),a=n("3511"),o=n("0366"),s=function(t,e,n,l,u,c,f,d){var h,v,p=u,b=0,m=!!f&&o(f,d);while(b<l)b in n&&(h=m?m(n[b],b,e):n[b],c>0&&r(h)?(v=i(h),p=s(t,e,h,v,p,c-1)-1):(a(p+1),t[p]=h),p++),b++;return p};t.exports=s},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),a=n("1c7e"),o=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:o},{from:i})},b64b:function(t,e,n){var r=n("23e7"),i=n("7b0b"),a=n("df75"),o=n("d039"),s=o((function(){a(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return a(i(t))}})},b727:function(t,e,n){var r=n("0366"),i=n("e330"),a=n("44ad"),o=n("7b0b"),s=n("07fa"),l=n("65f0"),u=i([].push),c=function(t){var e=1==t,n=2==t,i=3==t,c=4==t,f=6==t,d=7==t,h=5==t||f;return function(v,p,b,m){for(var g,y,x=o(v),S=a(x),L=r(p,b),_=s(S),k=0,F=m||l,w=e?F(v,_):n||d?F(v,0):void 0;_>k;k++)if((h||k in S)&&(g=S[k],y=L(g,k,x),t))if(e)w[k]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:u(w,g)}else switch(t){case 4:return!1;case 7:u(w,g)}return f?-1:i||c?c:w}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},c4f7:function(t,e,n){"use strict";function r(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function i(t,e,n){"undefined"===typeof e&&(e=0),"undefined"===typeof n&&(n=t.length);for(var i=n-e,a=e;a<n;a++)r(t,e+Math.floor(Math.random()*i),e+Math.floor(Math.random()*i))}n.d(e,"a",(function(){return i}))},cf45:function(t,e,n){"use strict";var r=n("53c4"),i=n.n(r);i.a},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),o=a("map");r({target:"Array",proto:!0,forced:!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},ddb0:function(t,e,n){var r=n("da84"),i=n("fdbc"),a=n("785a"),o=n("e260"),s=n("9112"),l=n("b622"),u=l("iterator"),c=l("toStringTag"),f=o.values,d=function(t,e){if(t){if(t[u]!==f)try{s(t,u,f)}catch(r){t[u]=f}if(t[c]||s(t,c,e),i[e])for(var n in o)if(t[n]!==o[n])try{s(t,n,o[n])}catch(r){t[n]=o[n]}}};for(var h in i)d(r[h]&&r[h].prototype,h);d(a,"DOMTokenList")},deff:function(t,e,n){"use strict";var r=n("1caf"),i=n.n(r);i.a},e5a4:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Notifications",{attrs:{alerts:t.alerts,floating:!0}}),t.restCallsGoing?n("v-progress-circular",{staticStyle:{margin:"15px 0 0 130px"},attrs:{indeterminate:""}}):n("div",[null===t.entryHtml?n("v-icon",[t._v("mdi-account-alert")]):n("span",{domProps:{innerHTML:t._s(t.entryHtml)}})],1)],1)},i=[],a=n("343b"),o=n("e985"),s={props:["sourcePath","withCredentials"],components:{Notifications:o["a"]},mixins:[a["a"]],data:function(){return{entryHtml:""}},mounted:function(){var t=this;(this.withCredentials&&this.credentialedAxios||this.plainAxios)("reading "+this.sourcePath,(function(e){return e.get(t.sourcePath)}),(function(e){return t.entryHtml=e}))}},l=s,u=n("2877"),c=Object(u["a"])(l,r,i,!1,null,null,null);e["a"]=c.exports},e985:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"alerts-outer-floating":t.floating}},t._l(t.alerts,(function(e,r){return n("v-alert",{key:r,attrs:{elevation:"7",type:e.type},on:{click:function(e){return t.$delete(t.alerts,r)}}},[t._v(" "+t._s(e.text)+" ")])})),1)},i=[],a={name:"Notifications",props:["alerts","floating"]},o=a,s=(n("cf45"),n("2877")),l=Object(s["a"])(o,r,i,!1,null,null,null);e["a"]=l.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-14e2bee1.a47dae16.js.map