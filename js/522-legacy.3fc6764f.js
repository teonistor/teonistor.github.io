"use strict";(self["webpackChunkpersonal_website_frontend"]=self["webpackChunkpersonal_website_frontend"]||[]).push([[522],{235:function(t,e,i){var n=i(9213).forEach,o=i(4598),r=o("forEach");t.exports=r?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},237:function(t,e,i){var n=i(6469);n("flatMap")},259:function(t,e,i){var n=i(4376),o=i(6198),r=i(6837),s=i(6080),a=function(t,e,i,h,c,d,l,u){var f,p,g=c,v=0,y=!!l&&s(l,u);while(v<h)v in i&&(f=y?y(i[v],v,e):i[v],d>0&&n(f)?(p=o(f),g=a(t,e,f,p,g,d-1)-1):(r(g+1),t[g]=f),g++),v++;return g};t.exports=a},531:function(t,e,i){var n=i(6518),o=i(9565),r=i(9306),s=i(8551),a=i(1767),h=i(8646),c=i(9462),d=i(9539),l=i(6395),u=i(684),f=i(4549),p=!l&&!u("flatMap",function(){}),g=!l&&!p&&f("flatMap",TypeError),v=l||p||g,y=c(function(){var t,e,i=this.iterator,n=this.mapper;while(1){if(e=this.inner)try{if(t=s(o(e.next,e.iterator)),!t.done)return t.value;this.inner=null}catch(r){d(i,"throw",r)}if(t=s(o(this.next,i)),this.done=!!t.done)return;try{this.inner=h(n(t.value,this.counter++),!1)}catch(r){d(i,"throw",r)}}});n({target:"Iterator",proto:!0,real:!0,forced:v},{flatMap:function(t){s(this);try{r(t)}catch(e){d(this,"throw",e)}return g?o(g,this,t):new y(a(this),{mapper:t,inner:null})}})},706:function(t,e,i){var n=i(350).PROPER,o=i(9039),r=i(7452),s="​᠎";t.exports=function(t){return o(function(){return!!r[t]()||s[t]()!==s||n&&r[t].name!==t})}},744:function(t,e,i){var n=i(9565),o=i(9504),r=i(9228),s=i(8551),a=i(34),h=i(7750),c=i(2293),d=i(7829),l=i(8014),u=i(655),f=i(5966),p=i(6682),g=i(8429),v=i(9039),y=g.UNSUPPORTED_Y,m=4294967295,b=Math.min,w=o([].push),_=o("".slice),x=!v(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}),E="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;r("split",function(t,e,i){var o="0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:n(e,this,t,i)}:e;return[function(e,i){var r=h(this),s=a(e)?f(e,t):void 0;return s?n(s,e,r,i):n(o,u(r),e,i)},function(t,n){var r=s(this),a=u(t);if(!E){var h=i(o,r,a,n,o!==e);if(h.done)return h.value}var f=c(r,RegExp),g=r.unicode,v=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(y?"g":"y"),x=new f(y?"^(?:"+r.source+")":r,v),O=void 0===n?m:n>>>0;if(0===O)return[];if(0===a.length)return null===p(x,a)?[a]:[];var S=0,C=0,k=[];while(C<a.length){x.lastIndex=y?0:C;var T,D=p(x,y?_(a,C):a);if(null===D||(T=b(l(x.lastIndex+(y?C:0)),a.length))===S)C=d(a,C,g);else{if(w(k,_(a,S,C)),k.length===O)return k;for(var M=1;M<=D.length-1;M++)if(w(k,D[M]),k.length===O)return k;C=S=T}}return w(k,_(a,S)),k}]},E||!x,y)},761:function(t,e,i){var n=i(6518),o=i(741);n({target:"Math",stat:!0},{trunc:o})},2357:function(t,e,i){var n=i(3724),o=i(9039),r=i(9504),s=i(2787),a=i(1072),h=i(5397),c=i(8773).f,d=r(c),l=r([].push),u=n&&o(function(){var t=Object.create(null);return t[2]=2,!d(t,2)}),f=function(t){return function(e){var i,o=h(e),r=a(o),c=u&&null===s(o),f=r.length,p=0,g=[];while(f>p)i=r[p++],n&&!(c?i in o:d(o,i))||l(g,t?[i,o[i]]:o[i]);return g}};t.exports={entries:f(!0),values:f(!1)}},2478:function(t,e,i){var n=i(9504),o=i(8981),r=Math.floor,s=n("".charAt),a=n("".replace),h=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,i,n,l,u){var f=i+t.length,p=n.length,g=d;return void 0!==l&&(l=o(l),g=c),a(u,g,function(o,a){var c;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return h(e,0,i);case"'":return h(e,f);case"<":c=l[h(a,1,-1)];break;default:var d=+a;if(0===d)return o;if(d>p){var u=r(d/10);return 0===u?o:u<=p?void 0===n[u-1]?s(a,1):n[u-1]+s(a,1):o}c=n[d-1]}return void 0===c?"":c})}},2762:function(t,e,i){var n=i(6518),o=i(3802).trim,r=i(706);n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return o(this)}})},3500:function(t,e,i){var n=i(2195),o=i(7400),r=i(9296),s=i(235),a=i(6699),h=function(t){if(t&&t.forEach!==s)try{a(t,"forEach",s)}catch(e){t.forEach=s}};for(var c in o)o[c]&&h(n[c]&&n[c].prototype);h(r)},3802:function(t,e,i){var n=i(9504),o=i(7750),r=i(655),s=i(7452),a=n("".replace),h=RegExp("^["+s+"]+"),c=RegExp("(^|[^"+s+"])["+s+"]+$"),d=function(t){return function(e){var i=r(o(e));return 1&t&&(i=a(i,h,"")),2&t&&(i=a(i,c,"$1")),i}};t.exports={start:d(1),end:d(2),trim:d(3)}},4782:function(t,e,i){var n=i(6518),o=i(4376),r=i(3517),s=i(34),a=i(5610),h=i(6198),c=i(5397),d=i(4659),l=i(8227),u=i(597),f=i(7680),p=u("slice"),g=l("species"),v=Array,y=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var i,n,l,u=c(this),p=h(u),m=a(t,p),b=a(void 0===e?p:e,p);if(o(u)&&(i=u.constructor,r(i)&&(i===v||o(i.prototype))?i=void 0:s(i)&&(i=i[g],null===i&&(i=void 0)),i===v||void 0===i))return f(u,m,b);for(n=new(void 0===i?v:i)(y(b-m,0)),l=0;m<b;m++,l++)m in u&&d(n,l,u[m]);return n.length=l,n}})},5440:function(t,e,i){var n=i(8745),o=i(9565),r=i(9504),s=i(9228),a=i(9039),h=i(8551),c=i(4901),d=i(34),l=i(1291),u=i(8014),f=i(655),p=i(7750),g=i(7829),v=i(5966),y=i(2478),m=i(1034),b=i(6682),w=i(8227),_=w("replace"),x=Math.max,E=Math.min,O=r([].concat),S=r([].push),C=r("".indexOf),k=r("".slice),T=function(t){return void 0===t?t:String(t)},D=function(){return"$0"==="a".replace(/./,"$0")}(),M=function(){return!!/./[_]&&""===/./[_]("a","$0")}(),I=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")});s("replace",function(t,e,i){var r=M?"$":"$0";return[function(t,i){var n=p(this),r=d(t)?v(t,_):void 0;return r?o(r,t,n,i):o(e,f(n),t,i)},function(t,o){var s=h(this),a=f(t);if("string"==typeof o&&-1===C(o,r)&&-1===C(o,"$<")){var d=i(e,s,a,o);if(d.done)return d.value}var p=c(o);p||(o=f(o));var v,w=f(m(s)),_=-1!==C(w,"g");_&&(v=-1!==C(w,"u"),s.lastIndex=0);var D,M=[];while(1){if(D=b(s,a),null===D)break;if(S(M,D),!_)break;var I=f(D[0]);""===I&&(s.lastIndex=g(a,u(s.lastIndex),v))}for(var P="",F=0,z=0;z<M.length;z++){D=M[z];for(var N,A=f(D[0]),B=x(E(l(D.index),a.length),0),j=[],R=1;R<D.length;R++)S(j,T(D[R]));var L=D.groups;if(p){var H=O([A],j,B,a);void 0!==L&&S(H,L),N=f(n(o,void 0,H))}else N=y(A,a,B,j,L,o);B>=F&&(P+=k(a,F,B)+N,F=B+A.length)}return P+k(a,F)}]},!I||!D||M)},5489:function(t,e,i){i.r(e),i.d(e,{default:function(){return h2}});var n=function(){var t=this,e=t._self._c;return e("v-container",{attrs:{fluid:""}},[e("h2",[t._v("Graful expresiilor")]),t.graphData?e("VisWrapper",{attrs:{data:t.graphData}}):t._e()],1)},o=[],r=(i(8350),i(8598),i(2062),i(4782),i(237),i(8111),i(531),i(1701),i(6099),i(7495),i(5440),i(744),i(2762),i(7963)),s=i(3020),a=function(){var t=this,e=t._self._c;return e("div",[e("v-overlay",{attrs:{opacity:"0",id:t.networkContainerId}}),e("div",{style:t.floatingMenuStyle},[t.showCopy?e("v-btn",{attrs:{elevation:"2","x-small":""},on:{click:function(e){return t.onCopy()}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-content-copy")])],1):t._e(),t.showExpand?e("v-btn",{attrs:{elevation:"2","x-small":""},on:{click:function(e){return t.onExpand()}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-arrow-expand")])],1):t._e(),t.showCollapse?e("v-btn",{attrs:{elevation:"2","x-small":""},on:{click:function(e){return t.onCollapse()}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-arrow-collapse")])],1):t._e()],1)],1)},h=[],c=(i(761),i(2008),i(4114),i(6910),i(2489),i(7588),i(9432),i(6034),i(3500),"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{});function d(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}var l,u,f,p,g,v,y,m,b,w,_,x,E,O,S,C,k={exports:{}},T={};function D(){if(u)return l;u=1;var t=function(t){return t&&t.Math===Math&&t};return l=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof c&&c)||t("object"==typeof l&&l)||function(){return this}()||Function("return this")(),l}function M(){return p||(p=1,f=function(t){try{return!!t()}catch(e){return!0}}),f}function I(){if(v)return g;v=1;var t=M();return g=!t(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),g}function P(){if(m)return y;m=1;var t=I(),e=Function.prototype,i=e.apply,n=e.call;return y="object"==typeof Reflect&&Reflect.apply||(t?n.bind(i):function(){return n.apply(i,arguments)}),y}function F(){if(w)return b;w=1;var t=I(),e=Function.prototype,i=e.call,n=t&&e.bind.bind(i,i);return b=t?n:function(t){return function(){return i.apply(t,arguments)}},b}function z(){if(x)return _;x=1;var t=F(),e=t({}.toString),i=t("".slice);return _=function(t){return i(e(t),8,-1)},_}function N(){if(O)return E;O=1;var t=z(),e=F();return E=function(i){if("Function"===t(i))return e(i)},E}function A(){if(C)return S;C=1;var t="object"==typeof document&&document.all;return S="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t},S}var B,j,R,L,H={};function W(){if(j)return B;j=1;var t=M();return B=!t(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),B}function U(){if(L)return R;L=1;var t=I(),e=Function.prototype.call;return R=t?e.bind(e):function(){return e.apply(e,arguments)},R}var q,V,Y,X,G,K,$,Z,Q,J,tt,et,it,nt,ot,rt,st,at,ht,ct,dt,lt,ut,ft,pt,gt,vt,yt,mt,bt,wt,_t,xt,Et,Ot,St,Ct,kt={};function Tt(){if(q)return kt;q=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,i=e&&!t.call({1:2},1);return kt.f=i?function(t){var i=e(this,t);return!!i&&i.enumerable}:t,kt}function Dt(){return Y||(Y=1,V=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}),V}function Mt(){if(G)return X;G=1;var t=F(),e=M(),i=z(),n=Object,o=t("".split);return X=e(function(){return!n("z").propertyIsEnumerable(0)})?function(t){return"String"===i(t)?o(t,""):n(t)}:n,X}function It(){return $||($=1,K=function(t){return null===t||void 0===t}),K}function Pt(){if(Q)return Z;Q=1;var t=It(),e=TypeError;return Z=function(i){if(t(i))throw new e("Can't call method on "+i);return i},Z}function Ft(){if(tt)return J;tt=1;var t=Mt(),e=Pt();return J=function(i){return t(e(i))},J}function zt(){if(it)return et;it=1;var t=A();return et=function(e){return"object"==typeof e?null!==e:t(e)},et}function Nt(){return ot||(ot=1,nt={}),nt}function At(){if(st)return rt;st=1;var t=Nt(),e=D(),i=A(),n=function(t){return i(t)?t:void 0};return rt=function(i,o){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][o]||e[i]&&e[i][o]},rt}function Bt(){if(ht)return at;ht=1;var t=F();return at=t({}.isPrototypeOf),at}function jt(){if(dt)return ct;dt=1;var t=D(),e=t.navigator,i=e&&e.userAgent;return ct=i?String(i):"",ct}function Rt(){if(ut)return lt;ut=1;var t,e,i=D(),n=jt(),o=i.process,r=i.Deno,s=o&&o.versions||r&&r.version,a=s&&s.v8;return a&&(t=a.split("."),e=t[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&n&&(t=n.match(/Edge\/(\d+)/),(!t||t[1]>=74)&&(t=n.match(/Chrome\/(\d+)/),t&&(e=+t[1]))),lt=e,lt}function Lt(){if(pt)return ft;pt=1;var t=Rt(),e=M(),i=D(),n=i.String;return ft=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol("symbol detection");return!n(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41}),ft}function Ht(){if(vt)return gt;vt=1;var t=Lt();return gt=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,gt}function Wt(){if(mt)return yt;mt=1;var t=At(),e=A(),i=Bt(),n=Ht(),o=Object;return yt=n?function(t){return"symbol"==typeof t}:function(n){var r=t("Symbol");return e(r)&&i(r.prototype,o(n))},yt}function Ut(){if(wt)return bt;wt=1;var t=String;return bt=function(e){try{return t(e)}catch(i){return"Object"}},bt}function qt(){if(xt)return _t;xt=1;var t=A(),e=Ut(),i=TypeError;return _t=function(n){if(t(n))return n;throw new i(e(n)+" is not a function")},_t}function Vt(){if(Ot)return Et;Ot=1;var t=qt(),e=It();return Et=function(i,n){var o=i[n];return e(o)?void 0:t(o)},Et}function Yt(){if(Ct)return St;Ct=1;var t=U(),e=A(),i=zt(),n=TypeError;return St=function(o,r){var s,a;if("string"===r&&e(s=o.toString)&&!i(a=t(s,o)))return a;if(e(s=o.valueOf)&&!i(a=t(s,o)))return a;if("string"!==r&&e(s=o.toString)&&!i(a=t(s,o)))return a;throw new n("Can't convert object to primitive value")},St}var Xt,Gt,Kt,$t,Zt,Qt,Jt,te,ee,ie,ne,oe,re,se,ae,he,ce,de,le,ue,fe,pe,ge,ve,ye,me,be,we,_e={exports:{}};function xe(){return Gt||(Gt=1,Xt=!0),Xt}function Ee(){if($t)return Kt;$t=1;var t=D(),e=Object.defineProperty;return Kt=function(i,n){try{e(t,i,{value:n,configurable:!0,writable:!0})}catch(o){t[i]=n}return n},Kt}function Oe(){if(Zt)return _e.exports;Zt=1;var t=xe(),e=D(),i=Ee(),n="__core-js_shared__",o=_e.exports=e[n]||i(n,{});return(o.versions||(o.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),_e.exports}function Se(){if(Jt)return Qt;Jt=1;var t=Oe();return Qt=function(e,i){return t[e]||(t[e]=i||{})},Qt}function Ce(){if(ee)return te;ee=1;var t=Pt(),e=Object;return te=function(i){return e(t(i))},te}function ke(){if(ne)return ie;ne=1;var t=F(),e=Ce(),i=t({}.hasOwnProperty);return ie=Object.hasOwn||function(t,n){return i(e(t),n)},ie}function Te(){if(re)return oe;re=1;var t=F(),e=0,i=Math.random(),n=t(1.1.toString);return oe=function(t){return"Symbol("+(void 0===t?"":t)+")_"+n(++e+i,36)},oe}function De(){if(ae)return se;ae=1;var t=D(),e=Se(),i=ke(),n=Te(),o=Lt(),r=Ht(),s=t.Symbol,a=e("wks"),h=r?s["for"]||s:s&&s.withoutSetter||n;return se=function(t){return i(a,t)||(a[t]=o&&i(s,t)?s[t]:h("Symbol."+t)),a[t]},se}function Me(){if(ce)return he;ce=1;var t=U(),e=zt(),i=Wt(),n=Vt(),o=Yt(),r=De(),s=TypeError,a=r("toPrimitive");return he=function(r,h){if(!e(r)||i(r))return r;var c,d=n(r,a);if(d){if(void 0===h&&(h="default"),c=t(d,r,h),!e(c)||i(c))return c;throw new s("Can't convert object to primitive value")}return void 0===h&&(h="number"),o(r,h)},he}function Ie(){if(le)return de;le=1;var t=Me(),e=Wt();return de=function(i){var n=t(i,"string");return e(n)?n:n+""},de}function Pe(){if(fe)return ue;fe=1;var t=D(),e=zt(),i=t.document,n=e(i)&&e(i.createElement);return ue=function(t){return n?i.createElement(t):{}},ue}function Fe(){if(ge)return pe;ge=1;var t=W(),e=M(),i=Pe();return pe=!t&&!e(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}),pe}function ze(){if(ve)return H;ve=1;var t=W(),e=U(),i=Tt(),n=Dt(),o=Ft(),r=Ie(),s=ke(),a=Fe(),h=Object.getOwnPropertyDescriptor;return H.f=t?h:function(t,c){if(t=o(t),c=r(c),a)try{return h(t,c)}catch(d){}if(s(t,c))return n(!e(i.f,t,c),t[c])},H}function Ne(){if(me)return ye;me=1;var t=M(),e=A(),i=/#|\.prototype\./,n=function(i,n){var h=r[o(i)];return h===a||h!==s&&(e(n)?t(n):!!n)},o=n.normalize=function(t){return String(t).replace(i,".").toLowerCase()},r=n.data={},s=n.NATIVE="N",a=n.POLYFILL="P";return ye=n,ye}function Ae(){if(we)return be;we=1;var t=N(),e=qt(),i=I(),n=t(t.bind);return be=function(t,o){return e(t),void 0===o?t:i?n(t,o):function(){return t.apply(o,arguments)}},be}var Be,je,Re,Le,He,We,Ue,qe,Ve,Ye,Xe,Ge,Ke,$e,Ze,Qe,Je,ti,ei,ii={};function ni(){if(je)return Be;je=1;var t=W(),e=M();return Be=t&&e(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Be}function oi(){if(Le)return Re;Le=1;var t=zt(),e=String,i=TypeError;return Re=function(n){if(t(n))return n;throw new i(e(n)+" is not an object")},Re}function ri(){if(He)return ii;He=1;var t=W(),e=Fe(),i=ni(),n=oi(),o=Ie(),r=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,h="enumerable",c="configurable",d="writable";return ii.f=t?i?function(t,e,i){if(n(t),e=o(e),n(i),"function"===typeof t&&"prototype"===e&&"value"in i&&d in i&&!i[d]){var r=a(t,e);r&&r[d]&&(t[e]=i.value,i={configurable:c in i?i[c]:r[c],enumerable:h in i?i[h]:r[h],writable:!1})}return s(t,e,i)}:s:function(t,i,a){if(n(t),i=o(i),n(a),e)try{return s(t,i,a)}catch(h){}if("get"in a||"set"in a)throw new r("Accessors not supported");return"value"in a&&(t[i]=a.value),t},ii}function si(){if(Ue)return We;Ue=1;var t=W(),e=ri(),i=Dt();return We=t?function(t,n,o){return e.f(t,n,i(1,o))}:function(t,e,i){return t[e]=i,t},We}function ai(){if(Ve)return qe;Ve=1;var t=D(),e=P(),i=N(),n=A(),o=ze().f,r=Ne(),s=Nt(),a=Ae(),h=si(),c=ke(),d=function(t){var i=function(n,o,r){if(this instanceof i){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,o)}return new t(n,o,r)}return e(t,this,arguments)};return i.prototype=t.prototype,i};return qe=function(e,l){var u,f,p,g,v,y,m,b,w,_=e.target,x=e.global,E=e.stat,O=e.proto,S=x?t:E?t[_]:t[_]&&t[_].prototype,C=x?s:s[_]||h(s,_,{})[_],k=C.prototype;for(g in l)u=r(x?g:_+(E?".":"#")+g,e.forced),f=!u&&S&&c(S,g),y=C[g],f&&(e.dontCallGetSet?(w=o(S,g),m=w&&w.value):m=S[g]),v=f&&m?m:l[g],(u||O||typeof y!=typeof v)&&(b=e.bind&&f?a(v,t):e.wrap&&f?d(v):O&&n(v)?i(v):v,(e.sham||v&&v.sham||y&&y.sham)&&h(b,"sham",!0),h(C,g,b),O&&(p=_+"Prototype",c(s,p)||h(s,p,{}),h(s[p],g,v),e.real&&k&&(u||!k[g])&&h(k,g,v)))},qe}function hi(){if(Ye)return T;Ye=1;var t=ai(),e=W(),i=ri().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!e},{defineProperty:i}),T}function ci(){if(Xe)return k.exports;Xe=1,hi();var t=Nt(),e=t.Object,i=k.exports=function(t,i,n){return e.defineProperty(t,i,n)};return e.defineProperty.sham&&(i.sham=!0),k.exports}function di(){if(Ke)return Ge;Ke=1;var t=ci();return Ge=t,Ge}function li(){if(Ze)return $e;Ze=1;var t=di();return $e=t,$e}function ui(){if(Je)return Qe;Je=1;var t=li();return Qe=t,Qe}function fi(){return ei||(ei=1,ti=ui()),ti}var pi,gi,vi,yi,mi,bi,wi,_i,xi,Ei,Oi,Si,Ci,ki,Ti,Di,Mi,Ii,Pi,Fi,zi,Ni,Ai,Bi,ji,Ri,Li,Hi,Wi,Ui=fi(),qi=d(Ui),Vi={};function Yi(){if(gi)return pi;gi=1;var t=z();return pi=Array.isArray||function(e){return"Array"===t(e)},pi}function Xi(){if(yi)return vi;yi=1;var t=Math.ceil,e=Math.floor;return vi=Math.trunc||function(i){var n=+i;return(n>0?e:t)(n)},vi}function Gi(){if(bi)return mi;bi=1;var t=Xi();return mi=function(e){var i=+e;return i!==i||0===i?0:t(i)},mi}function Ki(){if(_i)return wi;_i=1;var t=Gi(),e=Math.min;return wi=function(i){var n=t(i);return n>0?e(n,9007199254740991):0},wi}function $i(){if(Ei)return xi;Ei=1;var t=Ki();return xi=function(e){return t(e.length)},xi}function Zi(){if(Si)return Oi;Si=1;var t=TypeError,e=9007199254740991;return Oi=function(i){if(i>e)throw t("Maximum allowed index exceeded");return i},Oi}function Qi(){if(ki)return Ci;ki=1;var t=W(),e=ri(),i=Dt();return Ci=function(n,o,r){t?e.f(n,o,i(0,r)):n[o]=r},Ci}function Ji(){if(Di)return Ti;Di=1;var t=De(),e=t("toStringTag"),i={};return i[e]="z",Ti="[object z]"===String(i),Ti}function tn(){if(Ii)return Mi;Ii=1;var t=Ji(),e=A(),i=z(),n=De(),o=n("toStringTag"),r=Object,s="Arguments"===i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(i){}};return Mi=t?i:function(t){var n,h,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(h=a(n=r(t),o))?h:s?i(n):"Object"===(c=i(n))&&e(n.callee)?"Arguments":c},Mi}function en(){if(Fi)return Pi;Fi=1;var t=F(),e=A(),i=Oe(),n=t(Function.toString);return e(i.inspectSource)||(i.inspectSource=function(t){return n(t)}),Pi=i.inspectSource,Pi}function nn(){if(Ni)return zi;Ni=1;var t=F(),e=M(),i=A(),n=tn(),o=At(),r=en(),s=function(){},a=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,c=t(h.exec),d=!h.test(s),l=function(t){if(!i(t))return!1;try{return a(s,[],t),!0}catch(e){return!1}},u=function(t){if(!i(t))return!1;switch(n(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(h,r(t))}catch(e){return!0}};return u.sham=!0,zi=!a||e(function(){var t;return l(l.call)||!l(Object)||!l(function(){t=!0})||t})?u:l,zi}function on(){if(Bi)return Ai;Bi=1;var t=Yi(),e=nn(),i=zt(),n=De(),o=n("species"),r=Array;return Ai=function(n){var s;return t(n)&&(s=n.constructor,e(s)&&(s===r||t(s.prototype))?s=void 0:i(s)&&(s=s[o],null===s&&(s=void 0))),void 0===s?r:s},Ai}function rn(){if(Ri)return ji;Ri=1;var t=on();return ji=function(e,i){return new(t(e))(0===i?0:i)},ji}function sn(){if(Hi)return Li;Hi=1;var t=M(),e=De(),i=Rt(),n=e("species");return Li=function(e){return i>=51||!t(function(){var t=[],i=t.constructor={};return i[n]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Li}function an(){if(Wi)return Vi;Wi=1;var t=ai(),e=M(),i=Yi(),n=zt(),o=Ce(),r=$i(),s=Zi(),a=Qi(),h=rn(),c=sn(),d=De(),l=Rt(),u=d("isConcatSpreadable"),f=l>=51||!e(function(){var t=[];return t[u]=!1,t.concat()[0]!==t}),p=function(t){if(!n(t))return!1;var e=t[u];return void 0!==e?!!e:i(t)},g=!f||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:g},{concat:function(t){var e,i,n,c,d,l=o(this),u=h(l,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(d=-1===e?l:arguments[e],p(d))for(c=r(d),s(f+c),i=0;i<c;i++,f++)i in d&&a(u,f,d[i]);else s(f+1),a(u,f++,d);return u.length=f,u}}),Vi}var hn,cn,dn={},ln={};function un(){if(cn)return hn;cn=1;var t=tn(),e=String;return hn=function(i){if("Symbol"===t(i))throw new TypeError("Cannot convert a Symbol value to a string");return e(i)},hn}var fn,pn,gn,vn,yn,mn,bn,wn,_n,xn,En,On,Sn,Cn,kn,Tn,Dn,Mn,In,Pn={};function Fn(){if(pn)return fn;pn=1;var t=Gi(),e=Math.max,i=Math.min;return fn=function(n,o){var r=t(n);return r<0?e(r+o,0):i(r,o)},fn}function zn(){if(vn)return gn;vn=1;var t=Ft(),e=Fn(),i=$i(),n=function(n){return function(o,r,s){var a=t(o),h=i(a);if(0===h)return!n&&-1;var c,d=e(s,h);if(n&&r!==r){while(h>d)if(c=a[d++],c!==c)return!0}else for(;h>d;d++)if((n||d in a)&&a[d]===r)return n||d||0;return!n&&-1}};return gn={includes:n(!0),indexOf:n(!1)},gn}function Nn(){return mn||(mn=1,yn={}),yn}function An(){if(wn)return bn;wn=1;var t=F(),e=ke(),i=Ft(),n=zn().indexOf,o=Nn(),r=t([].push);return bn=function(t,s){var a,h=i(t),c=0,d=[];for(a in h)!e(o,a)&&e(h,a)&&r(d,a);while(s.length>c)e(h,a=s[c++])&&(~n(d,a)||r(d,a));return d},bn}function Bn(){return xn||(xn=1,_n=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),_n}function jn(){if(On)return En;On=1;var t=An(),e=Bn();return En=Object.keys||function(i){return t(i,e)},En}function Rn(){if(Sn)return Pn;Sn=1;var t=W(),e=ni(),i=ri(),n=oi(),o=Ft(),r=jn();return Pn.f=t&&!e?Object.defineProperties:function(t,e){n(t);var s,a=o(e),h=r(e),c=h.length,d=0;while(c>d)i.f(t,s=h[d++],a[s]);return t},Pn}function Ln(){if(kn)return Cn;kn=1;var t=At();return Cn=t("document","documentElement"),Cn}function Hn(){if(Dn)return Tn;Dn=1;var t=Se(),e=Te(),i=t("keys");return Tn=function(t){return i[t]||(i[t]=e(t))},Tn}function Wn(){if(In)return Mn;In=1;var t,e=oi(),i=Rn(),n=Bn(),o=Nn(),r=Ln(),s=Pe(),a=Hn(),h=">",c="<",d="prototype",l="script",u=a("IE_PROTO"),f=function(){},p=function(t){return c+l+h+t+c+"/"+l+h},g=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){var t,e=s("iframe"),i="java"+l+":";return e.style.display="none",r.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(p("document.F=Object")),t.close(),t.F},y=function(){try{t=new ActiveXObject("htmlfile")}catch(i){}y="undefined"!=typeof document?document.domain&&t?g(t):v():g(t);var e=n.length;while(e--)delete y[d][n[e]];return y()};return o[u]=!0,Mn=Object.create||function(t,n){var o;return null!==t?(f[d]=e(t),o=new f,f[d]=null,o[u]=t):o=y(),void 0===n?o:i.f(o,n)},Mn}var Un,qn={};function Vn(){if(Un)return qn;Un=1;var t=An(),e=Bn(),i=e.concat("length","prototype");return qn.f=Object.getOwnPropertyNames||function(e){return t(e,i)},qn}var Yn,Xn,Gn,Kn={};function $n(){if(Xn)return Yn;Xn=1;var t=F();return Yn=t([].slice),Yn}function Zn(){if(Gn)return Kn;Gn=1;var t=z(),e=Ft(),i=Vn().f,n=$n(),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return i(t)}catch(e){return n(o)}};return Kn.f=function(n){return o&&"Window"===t(n)?r(n):i(e(n))},Kn}var Qn,Jn,to,eo,io,no={};function oo(){return Qn||(Qn=1,no.f=Object.getOwnPropertySymbols),no}function ro(){if(to)return Jn;to=1;var t=si();return Jn=function(e,i,n,o){return o&&o.enumerable?e[i]=n:t(e,i,n),e},Jn}function so(){if(io)return eo;io=1;var t=ri();return eo=function(e,i,n){return t.f(e,i,n)},eo}var ao,ho,co,lo,uo,fo,po,go,vo,yo,mo,bo,wo,_o,xo,Eo,Oo={};function So(){if(ao)return Oo;ao=1;var t=De();return Oo.f=t,Oo}function Co(){if(co)return ho;co=1;var t=Nt(),e=ke(),i=So(),n=ri().f;return ho=function(o){var r=t.Symbol||(t.Symbol={});e(r,o)||n(r,o,{value:i.f(o)})},ho}function ko(){if(uo)return lo;uo=1;var t=U(),e=At(),i=De(),n=ro();return lo=function(){var o=e("Symbol"),r=o&&o.prototype,s=r&&r.valueOf,a=i("toPrimitive");r&&!r[a]&&n(r,a,function(e){return t(s,this)},{arity:1})},lo}function To(){if(po)return fo;po=1;var t=Ji(),e=tn();return fo=t?{}.toString:function(){return"[object "+e(this)+"]"},fo}function Do(){if(vo)return go;vo=1;var t=Ji(),e=ri().f,i=si(),n=ke(),o=To(),r=De(),s=r("toStringTag");return go=function(r,a,h,c){var d=h?r:r&&r.prototype;d&&(n(d,s)||e(d,s,{configurable:!0,value:a}),c&&!t&&i(d,"toString",o))},go}function Mo(){if(mo)return yo;mo=1;var t=D(),e=A(),i=t.WeakMap;return yo=e(i)&&/native code/.test(String(i)),yo}function Io(){if(wo)return bo;wo=1;var t,e,i,n=Mo(),o=D(),r=zt(),s=si(),a=ke(),h=Oe(),c=Hn(),d=Nn(),l="Object already initialized",u=o.TypeError,f=o.WeakMap,p=function(n){return i(n)?e(n):t(n,{})},g=function(t){return function(i){var n;if(!r(i)||(n=e(i)).type!==t)throw new u("Incompatible receiver, "+t+" required");return n}};if(n||h.state){var v=h.state||(h.state=new f);v.get=v.get,v.has=v.has,v.set=v.set,t=function(t,e){if(v.has(t))throw new u(l);return e.facade=t,v.set(t,e),e},e=function(t){return v.get(t)||{}},i=function(t){return v.has(t)}}else{var y=c("state");d[y]=!0,t=function(t,e){if(a(t,y))throw new u(l);return e.facade=t,s(t,y,e),e},e=function(t){return a(t,y)?t[y]:{}},i=function(t){return a(t,y)}}return bo={set:t,get:e,has:i,enforce:p,getterFor:g},bo}function Po(){if(xo)return _o;xo=1;var t=Ae(),e=F(),i=Mt(),n=Ce(),o=$i(),r=rn(),s=e([].push),a=function(e){var a=1===e,h=2===e,c=3===e,d=4===e,l=6===e,u=7===e,f=5===e||l;return function(p,g,v,y){for(var m,b,w=n(p),_=i(w),x=o(_),E=t(g,v),O=0,S=y||r,C=a?S(p,x):h||u?S(p,0):void 0;x>O;O++)if((f||O in _)&&(m=_[O],b=E(m,O,w),e))if(a)C[O]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:s(C,m)}else switch(e){case 4:return!1;case 7:s(C,m)}return l?-1:c||d?d:C}};return _o={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},_o}function Fo(){if(Eo)return ln;Eo=1;var t=ai(),e=D(),i=U(),n=F(),o=xe(),r=W(),s=Lt(),a=M(),h=ke(),c=Bt(),d=oi(),l=Ft(),u=Ie(),f=un(),p=Dt(),g=Wn(),v=jn(),y=Vn(),m=Zn(),b=oo(),w=ze(),_=ri(),x=Rn(),E=Tt(),O=ro(),S=so(),C=Se(),k=Hn(),T=Nn(),I=Te(),P=De(),z=So(),N=Co(),A=ko(),B=Do(),j=Io(),R=Po().forEach,L=k("hidden"),H="Symbol",q="prototype",V=j.set,Y=j.getterFor(H),X=Object[q],G=e.Symbol,K=G&&G[q],$=e.RangeError,Z=e.TypeError,Q=e.QObject,J=w.f,tt=_.f,et=m.f,it=E.f,nt=n([].push),ot=C("symbols"),rt=C("op-symbols"),st=C("wks"),at=!Q||!Q[q]||!Q[q].findChild,ht=function(t,e,i){var n=J(X,e);n&&delete X[e],tt(t,e,i),n&&t!==X&&tt(X,e,n)},ct=r&&a(function(){return 7!==g(tt({},"a",{get:function(){return tt(this,"a",{value:7}).a}})).a})?ht:tt,dt=function(t,e){var i=ot[t]=g(K);return V(i,{type:H,tag:t,description:e}),r||(i.description=e),i},lt=function(t,e,i){t===X&&lt(rt,e,i),d(t);var n=u(e);return d(i),h(ot,n)?(i.enumerable?(h(t,L)&&t[L][n]&&(t[L][n]=!1),i=g(i,{enumerable:p(0,!1)})):(h(t,L)||tt(t,L,p(1,g(null))),t[L][n]=!0),ct(t,n,i)):tt(t,n,i)},ut=function(t,e){d(t);var n=l(e),o=v(n).concat(yt(n));return R(o,function(e){r&&!i(pt,n,e)||lt(t,e,n[e])}),t},ft=function(t,e){return void 0===e?g(t):ut(g(t),e)},pt=function(t){var e=u(t),n=i(it,this,e);return!(this===X&&h(ot,e)&&!h(rt,e))&&(!(n||!h(this,e)||!h(ot,e)||h(this,L)&&this[L][e])||n)},gt=function(t,e){var i=l(t),n=u(e);if(i!==X||!h(ot,n)||h(rt,n)){var o=J(i,n);return!o||!h(ot,n)||h(i,L)&&i[L][n]||(o.enumerable=!0),o}},vt=function(t){var e=et(l(t)),i=[];return R(e,function(t){h(ot,t)||h(T,t)||nt(i,t)}),i},yt=function(t){var e=t===X,i=et(e?rt:l(t)),n=[];return R(i,function(t){!h(ot,t)||e&&!h(X,t)||nt(n,ot[t])}),n};return s||(G=function(){if(c(K,this))throw new Z("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?f(arguments[0]):void 0,n=I(t),o=function(t){var r=void 0===this?e:this;r===X&&i(o,rt,t),h(r,L)&&h(r[L],n)&&(r[L][n]=!1);var s=p(1,t);try{ct(r,n,s)}catch(a){if(!(a instanceof $))throw a;ht(r,n,s)}};return r&&at&&ct(X,n,{configurable:!0,set:o}),dt(n,t)},K=G[q],O(K,"toString",function(){return Y(this).tag}),O(G,"withoutSetter",function(t){return dt(I(t),t)}),E.f=pt,_.f=lt,x.f=ut,w.f=gt,y.f=m.f=vt,b.f=yt,z.f=function(t){return dt(P(t),t)},r&&(S(K,"description",{configurable:!0,get:function(){return Y(this).description}}),o||O(X,"propertyIsEnumerable",pt,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:G}),R(v(st),function(t){N(t)}),t({target:H,stat:!0,forced:!s},{useSetter:function(){at=!0},useSimple:function(){at=!1}}),t({target:"Object",stat:!0,forced:!s,sham:!r},{create:ft,defineProperty:lt,defineProperties:ut,getOwnPropertyDescriptor:gt}),t({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:vt}),A(),B(G,H),T[L]=!0,ln}var zo,No,Ao,Bo={};function jo(){if(No)return zo;No=1;var t=Lt();return zo=t&&!!Symbol["for"]&&!!Symbol.keyFor,zo}function Ro(){if(Ao)return Bo;Ao=1;var t=ai(),e=At(),i=ke(),n=un(),o=Se(),r=jo(),s=o("string-to-symbol-registry"),a=o("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!r},{for:function(t){var o=n(t);if(i(s,o))return s[o];var r=e("Symbol")(o);return s[o]=r,a[r]=o,r}}),Bo}var Lo,Ho={};function Wo(){if(Lo)return Ho;Lo=1;var t=ai(),e=ke(),i=Wt(),n=Ut(),o=Se(),r=jo(),s=o("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!r},{keyFor:function(t){if(!i(t))throw new TypeError(n(t)+" is not a symbol");if(e(s,t))return s[t]}}),Ho}var Uo,qo,Vo,Yo={};function Xo(){if(qo)return Uo;qo=1;var t=F(),e=Yi(),i=A(),n=z(),o=un(),r=t([].push);return Uo=function(t){if(i(t))return t;if(e(t)){for(var s=t.length,a=[],h=0;h<s;h++){var c=t[h];"string"==typeof c?r(a,c):"number"!=typeof c&&"Number"!==n(c)&&"String"!==n(c)||r(a,o(c))}var d=a.length,l=!0;return function(t,i){if(l)return l=!1,i;if(e(this))return i;for(var n=0;n<d;n++)if(a[n]===t)return i}}},Uo}function Go(){if(Vo)return Yo;Vo=1;var t=ai(),e=At(),i=P(),n=U(),o=F(),r=M(),s=A(),a=Wt(),h=$n(),c=Xo(),d=Lt(),l=String,u=e("JSON","stringify"),f=o(/./.exec),p=o("".charAt),g=o("".charCodeAt),v=o("".replace),y=o(1.1.toString),m=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||r(function(){var t=e("Symbol")("stringify detection");return"[null]"!==u([t])||"{}"!==u({a:t})||"{}"!==u(Object(t))}),x=r(function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}),E=function(t,e){var o=h(arguments),r=c(e);if(s(r)||void 0!==t&&!a(t))return o[1]=function(t,e){if(s(r)&&(e=n(r,this,l(t),e)),!a(e))return e},i(u,null,o)},O=function(t,e,i){var n=p(i,e-1),o=p(i,e+1);return f(b,t)&&!f(w,o)||f(w,t)&&!f(b,n)?"\\u"+y(g(t,0),16):t};return u&&t({target:"JSON",stat:!0,arity:3,forced:_||x},{stringify:function(t,e,n){var o=h(arguments),r=i(_?E:u,null,o);return x&&"string"==typeof r?v(r,m,O):r}}),Yo}var Ko,$o,Zo={};function Qo(){if(Ko)return Zo;Ko=1;var t=ai(),e=Lt(),i=M(),n=oo(),o=Ce(),r=!e||i(function(){n.f(1)});return t({target:"Object",stat:!0,forced:r},{getOwnPropertySymbols:function(t){var e=n.f;return e?e(o(t)):[]}}),Zo}function Jo(){return $o||($o=1,Fo(),Ro(),Wo(),Go(),Qo()),dn}var tr,er={};function ir(){if(tr)return er;tr=1;var t=Co();return t("asyncDispose"),er}var nr,or={};function rr(){if(nr)return or;nr=1;var t=Co();return t("asyncIterator"),or}var sr,ar={};function hr(){if(sr)return ar;sr=1;var t=Co();return t("dispose"),ar}var cr,dr={};function lr(){if(cr)return dr;cr=1;var t=Co();return t("hasInstance"),dr}var ur,fr={};function pr(){if(ur)return fr;ur=1;var t=Co();return t("isConcatSpreadable"),fr}var gr,vr={};function yr(){if(gr)return vr;gr=1;var t=Co();return t("iterator"),vr}var mr,br={};function wr(){if(mr)return br;mr=1;var t=Co();return t("match"),br}var _r,xr={};function Er(){if(_r)return xr;_r=1;var t=Co();return t("matchAll"),xr}var Or,Sr={};function Cr(){if(Or)return Sr;Or=1;var t=Co();return t("replace"),Sr}var kr,Tr={};function Dr(){if(kr)return Tr;kr=1;var t=Co();return t("search"),Tr}var Mr,Ir={};function Pr(){if(Mr)return Ir;Mr=1;var t=Co();return t("species"),Ir}var Fr,zr={};function Nr(){if(Fr)return zr;Fr=1;var t=Co();return t("split"),zr}var Ar,Br={};function jr(){if(Ar)return Br;Ar=1;var t=Co(),e=ko();return t("toPrimitive"),e(),Br}var Rr,Lr={};function Hr(){if(Rr)return Lr;Rr=1;var t=At(),e=Co(),i=Do();return e("toStringTag"),i(t("Symbol"),"Symbol"),Lr}var Wr,Ur={};function qr(){if(Wr)return Ur;Wr=1;var t=Co();return t("unscopables"),Ur}var Vr,Yr,Xr,Gr={};function Kr(){if(Vr)return Gr;Vr=1;var t=D(),e=Do();return e(t.JSON,"JSON",!0),Gr}function $r(){if(Xr)return Yr;Xr=1,an(),Jo(),ir(),rr(),hr(),lr(),pr(),yr(),wr(),Er(),Cr(),Dr(),Pr(),Nr(),jr(),Hr(),qr(),Kr();var t=Nt();return Yr=t.Symbol,Yr}var Zr,Qr,Jr,ts,es,is,ns,os,rs,ss,as,hs,cs,ds,ls,us,fs,ps,gs,vs,ys,ms,bs,ws,_s,xs,Es,Os,Ss,Cs,ks,Ts,Ds,Ms={};function Is(){return Qr||(Qr=1,Zr=function(){}),Zr}function Ps(){return ts||(ts=1,Jr={}),Jr}function Fs(){if(is)return es;is=1;var t=W(),e=ke(),i=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,o=e(i,"name"),r=o&&"something"===function(){}.name,s=o&&(!t||t&&n(i,"name").configurable);return es={EXISTS:o,PROPER:r,CONFIGURABLE:s},es}function zs(){if(os)return ns;os=1;var t=M();return ns=!t(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),ns}function Ns(){if(ss)return rs;ss=1;var t=ke(),e=A(),i=Ce(),n=Hn(),o=zs(),r=n("IE_PROTO"),s=Object,a=s.prototype;return rs=o?s.getPrototypeOf:function(n){var o=i(n);if(t(o,r))return o[r];var h=o.constructor;return e(h)&&o instanceof h?h.prototype:o instanceof s?a:null},rs}function As(){if(hs)return as;hs=1;var t,e,i,n=M(),o=A(),r=zt(),s=Wn(),a=Ns(),h=ro(),c=De(),d=xe(),l=c("iterator"),u=!1;[].keys&&(i=[].keys(),"next"in i?(e=a(a(i)),e!==Object.prototype&&(t=e)):u=!0);var f=!r(t)||n(function(){var e={};return t[l].call(e)!==e});return f?t={}:d&&(t=s(t)),o(t[l])||h(t,l,function(){return this}),as={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:u},as}function Bs(){if(ds)return cs;ds=1;var t=As().IteratorPrototype,e=Wn(),i=Dt(),n=Do(),o=Ps(),r=function(){return this};return cs=function(s,a,h,c){var d=a+" Iterator";return s.prototype=e(t,{next:i(+!c,h)}),n(s,d,!1,!0),o[d]=r,s},cs}function js(){if(us)return ls;us=1;var t=F(),e=qt();return ls=function(i,n,o){try{return t(e(Object.getOwnPropertyDescriptor(i,n)[o]))}catch(r){}},ls}function Rs(){if(ps)return fs;ps=1;var t=zt();return fs=function(e){return t(e)||null===e},fs}function Ls(){if(vs)return gs;vs=1;var t=Rs(),e=String,i=TypeError;return gs=function(n){if(t(n))return n;throw new i("Can't set "+e(n)+" as a prototype")},gs}function Hs(){if(ms)return ys;ms=1;var t=js(),e=zt(),i=Pt(),n=Ls();return ys=Object.setPrototypeOf||("__proto__"in{}?function(){var o,r=!1,s={};try{o=t(Object.prototype,"__proto__","set"),o(s,[]),r=s instanceof Array}catch(a){}return function(t,s){return i(t),n(s),e(t)?(r?o(t,s):t.__proto__=s,t):t}}():void 0),ys}function Ws(){if(ws)return bs;ws=1;var t=ai(),e=U(),i=xe(),n=Fs(),o=A(),r=Bs(),s=Ns(),a=Hs(),h=Do(),c=si(),d=ro(),l=De(),u=Ps(),f=As(),p=n.PROPER,g=n.CONFIGURABLE,v=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,m=l("iterator"),b="keys",w="values",_="entries",x=function(){return this};return bs=function(n,l,f,E,O,S,C){r(f,l,E);var k,T,D,M=function(t){if(t===O&&N)return N;if(!y&&t&&t in F)return F[t];switch(t){case b:return function(){return new f(this,t)};case w:return function(){return new f(this,t)};case _:return function(){return new f(this,t)}}return function(){return new f(this)}},I=l+" Iterator",P=!1,F=n.prototype,z=F[m]||F["@@iterator"]||O&&F[O],N=!y&&z||M(O),A="Array"===l&&F.entries||z;if(A&&(k=s(A.call(new n)),k!==Object.prototype&&k.next&&(i||s(k)===v||(a?a(k,v):o(k[m])||d(k,m,x)),h(k,I,!0,!0),i&&(u[I]=x))),p&&O===w&&z&&z.name!==w&&(!i&&g?c(F,"name",w):(P=!0,N=function(){return e(z,this)})),O)if(T={values:M(w),keys:S?N:M(b),entries:M(_)},C)for(D in T)(y||P||!(D in F))&&d(F,D,T[D]);else t({target:l,proto:!0,forced:y||P},T);return i&&!C||F[m]===N||d(F,m,N,{name:O}),u[l]=N,T},bs}function Us(){return xs||(xs=1,_s=function(t,e){return{value:t,done:e}}),_s}function qs(){if(Os)return Es;Os=1;var t=Ft(),e=Is(),i=Ps(),n=Io(),o=ri().f,r=Ws(),s=Us(),a=xe(),h=W(),c="Array Iterator",d=n.set,l=n.getterFor(c);Es=r(Array,"Array",function(e,i){d(this,{type:c,target:t(e),index:0,kind:i})},function(){var t=l(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=null,s(void 0,!0);switch(t.kind){case"keys":return s(i,!1);case"values":return s(e[i],!1)}return s([i,e[i]],!1)},"values");var u=i.Arguments=i.Array;if(e("keys"),e("values"),e("entries"),!a&&h&&"values"!==u.name)try{o(u,"name",{value:"values"})}catch(f){}return Es}function Vs(){return Cs||(Cs=1,Ss={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Ss}function Ys(){if(ks)return Ms;ks=1,qs();var t=Vs(),e=D(),i=Do(),n=Ps();for(var o in t)i(e[o],o),n[o]=n.Array;return Ms}function Xs(){if(Ds)return Ts;Ds=1;var t=$r();return Ys(),Ts=t,Ts}var Gs,Ks={};function $s(){if(Gs)return Ks;Gs=1;var t=De(),e=ri().f,i=t("metadata"),n=Function.prototype;return void 0===n[i]&&e(n,i,{value:null}),Ks}var Zs,Qs={};function Js(){return Zs||(Zs=1,ir()),Qs}var ta,ea={};function ia(){return ta||(ta=1,hr()),ea}var na,oa,ra,sa={};function aa(){if(na)return sa;na=1;var t=Co();return t("metadata"),sa}function ha(){if(ra)return oa;ra=1;var t=Xs();return $s(),Js(),ia(),aa(),oa=t,oa}var ca,da,la,ua={};function fa(){if(da)return ca;da=1;var t=At(),e=F(),i=t("Symbol"),n=i.keyFor,o=e(i.prototype.valueOf);return ca=i.isRegisteredSymbol||function(t){try{return void 0!==n(o(t))}catch(e){return!1}},ca}function pa(){if(la)return ua;la=1;var t=ai(),e=fa();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),ua}var ga,va,ya,ma={};function ba(){if(va)return ga;va=1;for(var t=Se(),e=At(),i=F(),n=Wt(),o=De(),r=e("Symbol"),s=r.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),h=i(r.prototype.valueOf),c=t("wks"),d=0,l=a(r),u=l.length;d<u;d++)try{var f=l[d];n(r[f])&&o(f)}catch(p){}return ga=function(t){if(s&&s(t))return!0;try{for(var e=h(t),i=0,n=a(c),o=n.length;i<o;i++)if(c[n[i]]==e)return!0}catch(p){}return!1},ga}function wa(){if(ya)return ma;ya=1;var t=ai(),e=ba();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),ma}var _a,xa={};function Ea(){if(_a)return xa;_a=1;var t=Co();return t("customMatcher"),xa}var Oa,Sa={};function Ca(){if(Oa)return Sa;Oa=1;var t=Co();return t("observable"),Sa}var ka,Ta={};function Da(){if(ka)return Ta;ka=1;var t=ai(),e=fa();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Ta}var Ma,Ia={};function Pa(){if(Ma)return Ia;Ma=1;var t=ai(),e=ba();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Ia}var Fa,za={};function Na(){if(Fa)return za;Fa=1;var t=Co();return t("matcher"),za}var Aa,Ba={};function ja(){if(Aa)return Ba;Aa=1;var t=Co();return t("metadataKey"),Ba}var Ra,La={};function Ha(){if(Ra)return La;Ra=1;var t=Co();return t("patternMatch"),La}var Wa,Ua,qa,Va,Ya,Xa={};function Ga(){if(Wa)return Xa;Wa=1;var t=Co();return t("replaceAll"),Xa}function Ka(){if(qa)return Ua;qa=1;var t=ha();return pa(),wa(),Ea(),Ca(),Da(),Pa(),Na(),ja(),Ha(),Ga(),Ua=t,Ua}function $a(){return Ya||(Ya=1,Va=Ka()),Va}var Za,Qa,Ja,th,eh,ih,nh,oh,rh,sh,ah,hh,ch,dh=$a(),lh=d(dh),uh={};function fh(){if(Qa)return Za;Qa=1;var t=F(),e=Gi(),i=un(),n=Pt(),o=t("".charAt),r=t("".charCodeAt),s=t("".slice),a=function(t){return function(a,h){var c,d,l=i(n(a)),u=e(h),f=l.length;return u<0||u>=f?t?"":void 0:(c=r(l,u),c<55296||c>56319||u+1===f||(d=r(l,u+1))<56320||d>57343?t?o(l,u):c:t?s(l,u,u+2):d-56320+(c-55296<<10)+65536)}};return Za={codeAt:a(!1),charAt:a(!0)},Za}function ph(){if(Ja)return uh;Ja=1;var t=fh().charAt,e=un(),i=Io(),n=Ws(),o=Us(),r="String Iterator",s=i.set,a=i.getterFor(r);return n(String,"String",function(t){s(this,{type:r,string:e(t),index:0})},function(){var e,i=a(this),n=i.string,r=i.index;return r>=n.length?o(void 0,!0):(e=t(n,r),i.index+=e.length,o(e,!1))}),uh}function gh(){if(eh)return th;eh=1,qs(),ph(),yr();var t=So();return th=t.f("iterator"),th}function vh(){if(nh)return ih;nh=1;var t=gh();return Ys(),ih=t,ih}function yh(){if(rh)return oh;rh=1;var t=vh();return oh=t,oh}function mh(){if(ah)return sh;ah=1;var t=yh();return sh=t,sh}function bh(){return ch||(ch=1,hh=mh()),hh}var wh,_h,xh,Eh,Oh,Sh,Ch,kh,Th,Dh,Mh=bh(),Ih=d(Mh);function Ph(t){return Ph="function"==typeof lh&&"symbol"==typeof Ih?function(t){return typeof t}:function(t){return t&&"function"==typeof lh&&t.constructor===lh&&t!==lh.prototype?"symbol":typeof t},Ph(t)}function Fh(){if(_h)return wh;_h=1,jr();var t=So();return wh=t.f("toPrimitive"),wh}function zh(){if(Eh)return xh;Eh=1;var t=Fh();return xh=t,xh}function Nh(){if(Sh)return Oh;Sh=1;var t=zh();return Oh=t,Oh}function Ah(){if(kh)return Ch;kh=1;var t=Nh();return Ch=t,Ch}function Bh(){return Dh||(Dh=1,Th=Ah()),Th}var jh=Bh(),Rh=d(jh);function Lh(t,e){if("object"!=Ph(t)||!t)return t;var i=t[Rh];if(void 0!==i){var n=i.call(t,e);if("object"!=Ph(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Hh(t){var e=Lh(t,"string");return"symbol"==Ph(e)?e:e+""}function Wh(t,e,i){return(e=Hh(e))in t?qi(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Uh,qh,Vh,Yh,Xh,Gh,Kh,$h,Zh,Qh,Jh,tc,ec,ic={};function nc(){if(qh)return Uh;qh=1;var t=F(),e=qt(),i=zt(),n=ke(),o=$n(),r=I(),s=Function,a=t([].concat),h=t([].join),c={},d=function(t,e,i){if(!n(c,e)){for(var o=[],r=0;r<e;r++)o[r]="a["+r+"]";c[e]=s("C,a","return new C("+h(o,",")+")")}return c[e](t,i)};return Uh=r?s.bind:function(t){var n=e(this),r=n.prototype,s=o(arguments,1),h=function(){var e=a(s,o(arguments));return this instanceof h?d(n,e.length,e):n.apply(t,e)};return i(r)&&(h.prototype=r),h},Uh}function oc(){if(Vh)return ic;Vh=1;var t=ai(),e=nc();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),ic}function rc(){if(Xh)return Yh;Xh=1;var t=D(),e=Nt();return Yh=function(i,n){var o=e[i+"Prototype"],r=o&&o[n];if(r)return r;var s=t[i],a=s&&s.prototype;return a&&a[n]},Yh}function sc(){if(Kh)return Gh;Kh=1,oc();var t=rc();return Gh=t("Function","bind"),Gh}function ac(){if(Zh)return $h;Zh=1;var t=Bt(),e=sc(),i=Function.prototype;return $h=function(n){var o=n.bind;return n===i||t(i,n)&&o===i.bind?e:o},$h}function hc(){if(Jh)return Qh;Jh=1;var t=ac();return Qh=t,Qh}function cc(){return ec||(ec=1,tc=hc()),tc}var dc,lc,uc,fc,pc,gc,vc,yc,mc,bc,wc,_c,xc,Ec,Oc,Sc,Cc,kc=cc(),Tc=d(kc),Dc={};function Mc(){if(lc)return dc;lc=1;var t=qt(),e=Ce(),i=Mt(),n=$i(),o=TypeError,r="Reduce of empty array with no initial value",s=function(s){return function(a,h,c,d){var l=e(a),u=i(l),f=n(l);if(t(h),0===f&&c<2)throw new o(r);var p=s?f-1:0,g=s?-1:1;if(c<2)while(1){if(p in u){d=u[p],p+=g;break}if(p+=g,s?p<0:f<=p)throw new o(r)}for(;s?p>=0:f>p;p+=g)p in u&&(d=h(d,u[p],p,l));return d}};return dc={left:s(!1),right:s(!0)},dc}function Ic(){if(fc)return uc;fc=1;var t=M();return uc=function(e,i){var n=[][e];return!!n&&t(function(){n.call(null,i||function(){return 1},1)})},uc}function Pc(){if(gc)return pc;gc=1;var t=D(),e=jt(),i=z(),n=function(t){return e.slice(0,t.length)===t};return pc=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}(),pc}function Fc(){if(yc)return vc;yc=1;var t=Pc();return vc="NODE"===t,vc}function zc(){if(mc)return Dc;mc=1;var t=ai(),e=Mc().left,i=Ic(),n=Rt(),o=Fc(),r=!o&&n>79&&n<83,s=r||!i("reduce");return t({target:"Array",proto:!0,forced:s},{reduce:function(t){var i=arguments.length;return e(this,t,i,i>1?arguments[1]:void 0)}}),Dc}function Nc(){if(wc)return bc;wc=1,zc();var t=rc();return bc=t("Array","reduce"),bc}function Ac(){if(xc)return _c;xc=1;var t=Bt(),e=Nc(),i=Array.prototype;return _c=function(n){var o=n.reduce;return n===i||t(i,n)&&o===i.reduce?e:o},_c}function Bc(){if(Oc)return Ec;Oc=1;var t=Ac();return Ec=t,Ec}function jc(){return Cc||(Cc=1,Sc=Bc()),Sc}var Rc,Lc,Hc,Wc,Uc,qc,Vc,Yc,Xc,Gc=jc(),Kc=d(Gc),$c={};function Zc(){if(Rc)return $c;Rc=1;var t=ai(),e=Po().filter,i=sn(),n=i("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),$c}function Qc(){if(Hc)return Lc;Hc=1,Zc();var t=rc();return Lc=t("Array","filter"),Lc}function Jc(){if(Uc)return Wc;Uc=1;var t=Bt(),e=Qc(),i=Array.prototype;return Wc=function(n){var o=n.filter;return n===i||t(i,n)&&o===i.filter?e:o},Wc}function td(){if(Vc)return qc;Vc=1;var t=Jc();return qc=t,qc}function ed(){return Xc||(Xc=1,Yc=td()),Yc}var id,nd,od,rd,sd,ad,hd,cd,dd,ld=ed(),ud=d(ld),fd={};function pd(){if(id)return fd;id=1;var t=ai(),e=Po().map,i=sn(),n=i("map");return t({target:"Array",proto:!0,forced:!n},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),fd}function gd(){if(od)return nd;od=1,pd();var t=rc();return nd=t("Array","map"),nd}function vd(){if(sd)return rd;sd=1;var t=Bt(),e=gd(),i=Array.prototype;return rd=function(n){var o=n.map;return n===i||t(i,n)&&o===i.map?e:o},rd}function yd(){if(hd)return ad;hd=1;var t=vd();return ad=t,ad}function md(){return dd||(dd=1,cd=yd()),cd}var bd,wd,_d,xd=md(),Ed=d(xd),Od={};function Sd(){if(wd)return bd;wd=1;var t=Yi(),e=$i(),i=Zi(),n=Ae(),o=function(r,s,a,h,c,d,l,u){var f,p,g=c,v=0,y=!!l&&n(l,u);while(v<h)v in a&&(f=y?y(a[v],v,s):a[v],d>0&&t(f)?(p=e(f),g=o(r,s,f,p,g,d-1)-1):(i(g+1),r[g]=f),g++),v++;return g};return bd=o,bd}function Cd(){if(_d)return Od;_d=1;var t=ai(),e=Sd(),i=qt(),n=Ce(),o=$i(),r=rn();return t({target:"Array",proto:!0},{flatMap:function(t){var s,a=n(this),h=o(a);return i(t),s=r(a,0),s.length=e(s,a,a,h,0,1,t,arguments.length>1?arguments[1]:void 0),s}}),Od}var kd,Td,Dd,Md,Id,Pd,Fd,zd,Nd,Ad={};function Bd(){if(kd)return Ad;kd=1;var t=Is();return t("flatMap"),Ad}function jd(){if(Dd)return Td;Dd=1,Cd(),Bd();var t=rc();return Td=t("Array","flatMap"),Td}function Rd(){if(Id)return Md;Id=1;var t=Bt(),e=jd(),i=Array.prototype;return Md=function(n){var o=n.flatMap;return n===i||t(i,n)&&o===i.flatMap?e:o},Md}function Ld(){if(Fd)return Pd;Fd=1;var t=Rd();return Pd=t,Pd}function Hd(){return Nd||(Nd=1,zd=Ld()),zd}var Wd,Ud;Hd();function qd(){return Ud||(Ud=1,Wd=Xs()),Wd}var Vd,Yd,Xd,Gd,Kd,$d,Zd,Qd,Jd,tl=qd(),el=d(tl),il={};function nl(){if(Vd)return il;Vd=1;var t=ai(),e=Yi(),i=nn(),n=zt(),o=Fn(),r=$i(),s=Ft(),a=Qi(),h=De(),c=sn(),d=$n(),l=c("slice"),u=h("species"),f=Array,p=Math.max;return t({target:"Array",proto:!0,forced:!l},{slice:function(t,h){var c,l,g,v=s(this),y=r(v),m=o(t,y),b=o(void 0===h?y:h,y);if(e(v)&&(c=v.constructor,i(c)&&(c===f||e(c.prototype))?c=void 0:n(c)&&(c=c[u],null===c&&(c=void 0)),c===f||void 0===c))return d(v,m,b);for(l=new(void 0===c?f:c)(p(b-m,0)),g=0;m<b;m++,g++)m in v&&a(l,g,v[m]);return l.length=g,l}}),il}function ol(){if(Xd)return Yd;Xd=1,nl();var t=rc();return Yd=t("Array","slice"),Yd}function rl(){if(Kd)return Gd;Kd=1;var t=Bt(),e=ol(),i=Array.prototype;return Gd=function(n){var o=n.slice;return n===i||t(i,n)&&o===i.slice?e:o},Gd}function sl(){if(Zd)return $d;Zd=1;var t=rl();return $d=t,$d}function al(){return Jd||(Jd=1,Qd=sl()),Qd}var hl,cl,dl,ll,ul,fl,pl,gl,vl,yl=al(),ml=d(yl),bl={};function wl(){if(cl)return hl;cl=1;var t=At(),e=F(),i=Vn(),n=oo(),o=oi(),r=e([].concat);return hl=t("Reflect","ownKeys")||function(t){var e=i.f(o(t)),s=n.f;return s?r(e,s(t)):e},hl}function _l(){if(dl)return bl;dl=1;var t=ai(),e=wl();return t({target:"Reflect",stat:!0},{ownKeys:e}),bl}function xl(){if(ul)return ll;ul=1,_l();var t=Nt();return ll=t.Reflect.ownKeys,ll}function El(){if(pl)return fl;pl=1;var t=xl();return fl=t,fl}function Ol(){return vl||(vl=1,gl=El()),gl}var Sl,Cl,kl,Tl,Dl,Ml,Il,Pl=Ol(),Fl=d(Pl),zl={};function Nl(){if(Sl)return zl;Sl=1;var t=ai(),e=Yi();return t({target:"Array",stat:!0},{isArray:e}),zl}function Al(){if(kl)return Cl;kl=1,Nl();var t=Nt();return Cl=t.Array.isArray,Cl}function Bl(){if(Dl)return Tl;Dl=1;var t=Al();return Tl=t,Tl}function jl(){return Il||(Il=1,Ml=Bl()),Ml}var Rl,Ll,Hl,Wl,Ul,ql,Vl,Yl=jl(),Xl=d(Yl),Gl={};function Kl(){if(Rl)return Gl;Rl=1;var t=ai(),e=Ce(),i=jn(),n=M(),o=n(function(){i(1)});return t({target:"Object",stat:!0,forced:o},{keys:function(t){return i(e(t))}}),Gl}function $l(){if(Hl)return Ll;Hl=1,Kl();var t=Nt();return Ll=t.Object.keys,Ll}function Zl(){if(Ul)return Wl;Ul=1;var t=$l();return Wl=t,Wl}function Ql(){return Vl||(Vl=1,ql=Zl()),ql}var Jl,tu,eu,iu,nu,ou,ru,su,au,hu,cu,du=Ql(),lu=d(du),uu={};function fu(){if(tu)return Jl;tu=1;var t=Po().forEach,e=Ic(),i=e("forEach");return Jl=i?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)},Jl}function pu(){if(eu)return uu;eu=1;var t=ai(),e=fu();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),uu}function gu(){if(nu)return iu;nu=1,pu();var t=rc();return iu=t("Array","forEach"),iu}function vu(){if(ru)return ou;ru=1;var t=gu();return ou=t,ou}function yu(){if(au)return su;au=1;var t=tn(),e=ke(),i=Bt(),n=vu(),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};return su=function(s){var a=s.forEach;return s===o||i(o,s)&&a===o.forEach||e(r,t(s))?n:a},su}function mu(){return cu||(cu=1,hu=yu()),hu}var bu,wu,_u,xu,Eu,Ou,Su,Cu,ku,Tu=mu(),Du=d(Tu),Mu={};function Iu(){if(bu)return Mu;bu=1;var t=ai(),e=F(),i=Yi(),n=e([].reverse),o=[1,2];return t({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),n(this)}}),Mu}function Pu(){if(_u)return wu;_u=1,Iu();var t=rc();return wu=t("Array","reverse"),wu}function Fu(){if(Eu)return xu;Eu=1;var t=Bt(),e=Pu(),i=Array.prototype;return xu=function(n){var o=n.reverse;return n===i||t(i,n)&&o===i.reverse?e:o},xu}function zu(){if(Su)return Ou;Su=1;var t=Fu();return Ou=t,Ou}function Nu(){return ku||(ku=1,Cu=zu()),Cu}var Au,Bu,ju,Ru,Lu,Hu,Wu,Uu,qu,Vu,Yu,Xu,Gu,Ku=Nu(),$u=d(Ku),Zu={};function Qu(){if(Bu)return Au;Bu=1;var t=W(),e=Yi(),i=TypeError,n=Object.getOwnPropertyDescriptor,o=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();return Au=o?function(t,o){if(e(t)&&!n(t,"length").writable)throw new i("Cannot set read only .length");return t.length=o}:function(t,e){return t.length=e},Au}function Ju(){if(Ru)return ju;Ru=1;var t=Ut(),e=TypeError;return ju=function(i,n){if(!delete i[n])throw new e("Cannot delete property "+t(n)+" of "+t(i))},ju}function tf(){if(Lu)return Zu;Lu=1;var t=ai(),e=Ce(),i=Fn(),n=Gi(),o=$i(),r=Qu(),s=Zi(),a=rn(),h=Qi(),c=Ju(),d=sn(),l=d("splice"),u=Math.max,f=Math.min;return t({target:"Array",proto:!0,forced:!l},{splice:function(t,d){var l,p,g,v,y,m,b=e(this),w=o(b),_=i(t,w),x=arguments.length;for(0===x?l=p=0:1===x?(l=0,p=w-_):(l=x-2,p=f(u(n(d),0),w-_)),s(w+l-p),g=a(b,p),v=0;v<p;v++)y=_+v,y in b&&h(g,v,b[y]);if(g.length=p,l<p){for(v=_;v<w-p;v++)y=v+p,m=v+l,y in b?b[m]=b[y]:c(b,m);for(v=w;v>w-p+l;v--)c(b,v-1)}else if(l>p)for(v=w-p;v>_;v--)y=v+p-1,m=v+l-1,y in b?b[m]=b[y]:c(b,m);for(v=0;v<l;v++)b[v+_]=arguments[v+2];return r(b,w-p+l),g}}),Zu}function ef(){if(Wu)return Hu;Wu=1,tf();var t=rc();return Hu=t("Array","splice"),Hu}function nf(){if(qu)return Uu;qu=1;var t=Bt(),e=ef(),i=Array.prototype;return Uu=function(n){var o=n.splice;return n===i||t(i,n)&&o===i.splice?e:o},Uu}function of(){if(Yu)return Vu;Yu=1;var t=nf();return Vu=t,Vu}function rf(){return Gu||(Gu=1,Xu=of()),Xu}var sf,af,hf,cf,df,lf,uf,ff,pf,gf=rf(),vf=d(gf),yf={};function mf(){if(af)return sf;af=1;var t=W(),e=F(),i=U(),n=M(),o=jn(),r=oo(),s=Tt(),a=Ce(),h=Mt(),c=Object.assign,d=Object.defineProperty,l=e([].concat);return sf=!c||n(function(){if(t&&1!==c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},i={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(t){i[t]=t}),7!==c({},e)[n]||o(c({},i)).join("")!==r})?function(e,n){var c=a(e),d=arguments.length,u=1,f=r.f,p=s.f;while(d>u){var g,v=h(arguments[u++]),y=f?l(o(v),f(v)):o(v),m=y.length,b=0;while(m>b)g=y[b++],t&&!i(p,v,g)||(c[g]=v[g])}return c}:c,sf}function bf(){if(hf)return yf;hf=1;var t=ai(),e=mf();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),yf}function wf(){if(df)return cf;df=1,bf();var t=Nt();return cf=t.Object.assign,cf}function _f(){if(uf)return lf;uf=1;var t=wf();return lf=t,lf}function xf(){return pf||(pf=1,ff=_f()),ff}var Ef,Of,Sf,Cf,kf,Tf,Df,Mf,If=xf(),Pf=d(If);function Ff(){if(Of)return Ef;Of=1,an();var t=rc();return Ef=t("Array","concat"),Ef}function zf(){if(Cf)return Sf;Cf=1;var t=Bt(),e=Ff(),i=Array.prototype;return Sf=function(n){var o=n.concat;return n===i||t(i,n)&&o===i.concat?e:o},Sf}function Nf(){if(Tf)return kf;Tf=1;var t=zf();return kf=t,kf}function Af(){return Mf||(Mf=1,Df=Nf()),Df}var Bf,jf,Rf,Lf,Hf,Wf,Uf,qf=Af(),Vf=d(qf),Yf={};function Xf(){if(Bf)return Yf;Bf=1;var t=ai(),e=W(),i=Wn();return t({target:"Object",stat:!0,sham:!e},{create:i}),Yf}function Gf(){if(Rf)return jf;Rf=1,Xf();var t=Nt(),e=t.Object;return jf=function(t,i){return e.create(t,i)},jf}function Kf(){if(Hf)return Lf;Hf=1;var t=Gf();return Lf=t,Lf}function $f(){return Uf||(Uf=1,Wf=Kf()),Wf}var Zf,Qf,Jf,tp,ep,ip,np,op,rp,sp,ap,hp,cp,dp=$f(),lp=d(dp),up={};function fp(){if(Qf)return Zf;Qf=1;var t=Gi(),e=un(),i=Pt(),n=RangeError;return Zf=function(o){var r=e(i(this)),s="",a=t(o);if(a<0||a===1/0)throw new n("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(r+=r))1&a&&(s+=r);return s},Zf}function pp(){if(tp)return Jf;tp=1;var t=F(),e=Ki(),i=un(),n=fp(),o=Pt(),r=t(n),s=t("".slice),a=Math.ceil,h=function(t){return function(n,h,c){var d,l,u=i(o(n)),f=e(h),p=u.length,g=void 0===c?" ":i(c);return f<=p||""===g?u:(d=f-p,l=r(g,a(d/g.length)),l.length>d&&(l=s(l,0,d)),t?u+l:l+u)}};return Jf={start:h(!1),end:h(!0)},Jf}function gp(){if(ip)return ep;ip=1;var t=F(),e=M(),i=pp().start,n=RangeError,o=isFinite,r=Math.abs,s=Date.prototype,a=s.toISOString,h=t(s.getTime),c=t(s.getUTCDate),d=t(s.getUTCFullYear),l=t(s.getUTCHours),u=t(s.getUTCMilliseconds),f=t(s.getUTCMinutes),p=t(s.getUTCMonth),g=t(s.getUTCSeconds);return ep=e(function(){return"0385-07-25T07:06:39.999Z"!==a.call(new Date(-50000000000001))})||!e(function(){a.call(new Date(NaN))})?function(){if(!o(h(this)))throw new n("Invalid time value");var t=this,e=d(t),s=u(t),a=e<0?"-":e>9999?"+":"";return a+i(r(e),a?6:4,0)+"-"+i(p(t)+1,2,0)+"-"+i(c(t),2,0)+"T"+i(l(t),2,0)+":"+i(f(t),2,0)+":"+i(g(t),2,0)+"."+i(s,3,0)+"Z"}:a,ep}function vp(){if(np)return up;np=1;var t=ai(),e=U(),i=Ce(),n=Me(),o=gp(),r=z(),s=M(),a=s(function(){return null!==new Date(NaN).toJSON()||1!==e(Date.prototype.toJSON,{toISOString:function(){return 1}})});return t({target:"Date",proto:!0,forced:a},{toJSON:function(t){var s=i(this),a=n(s,"number");return"number"!=typeof a||isFinite(a)?"toISOString"in s||"Date"!==r(s)?s.toISOString():e(o,s):null}}),up}function yp(){if(rp)return op;rp=1,vp(),Go();var t=Nt(),e=P();return t.JSON||(t.JSON={stringify:JSON.stringify}),op=function(i,n,o){return e(t.JSON.stringify,null,arguments)},op}function mp(){if(ap)return sp;ap=1;var t=yp();return sp=t,sp}function bp(){return cp||(cp=1,hp=mp()),hp}var wp,_p,xp,Ep,Op,Sp=bp(),Cp=d(Sp),kp={},Tp={};function Dp(){if(_p)return wp;_p=1;var t=TypeError;return wp=function(e,i){if(e<i)throw new t("Not enough arguments");return e},wp}function Mp(){if(Ep)return xp;Ep=1;var t=D(),e=P(),i=A(),n=Pc(),o=jt(),r=$n(),s=Dp(),a=t.Function,h=/MSIE .\./.test(o)||"BUN"===n&&function(){var e=t.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();return xp=function(t,n){var o=n?2:1;return h?function(h,c){var d=s(arguments.length,1)>o,l=i(h)?h:a(h),u=d?r(arguments,o):[],f=d?function(){e(l,this,u)}:l;return n?t(f,c):t(f)}:t},xp}function Ip(){if(Op)return Tp;Op=1;var t=ai(),e=D(),i=Mp(),n=i(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Tp}var Pp,Fp,zp,Np,Ap,Bp,jp={};function Rp(){if(Pp)return jp;Pp=1;var t=ai(),e=D(),i=Mp(),n=i(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),jp}function Lp(){return Fp||(Fp=1,Ip(),Rp()),kp}function Hp(){if(Np)return zp;Np=1,Lp();var t=Nt();return zp=t.setTimeout,zp}function Wp(){return Bp||(Bp=1,Ap=Hp()),Ap}var Up,qp=Wp(),Vp=d(qp),Yp={exports:{}};function Xp(){return Up||(Up=1,function(t){function e(t){if(t)return i(t);this._callbacks=new Map}function i(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}e.prototype.on=function(t,e){const i=this._callbacks.get(t)??[];return i.push(e),this._callbacks.set(t,i),this},e.prototype.once=function(t,e){const i=(...n)=>{this.off(t,i),e.apply(this,n)};return i.fn=e,this.on(t,i),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const i=this._callbacks.get(t);if(i){for(const[t,n]of i.entries())if(n===e||n.fn===e){i.splice(t,1);break}0===i.length?this._callbacks.delete(t):this._callbacks.set(t,i)}return this},e.prototype.emit=function(t,...e){const i=this._callbacks.get(t);if(i){const t=[...i];for(const i of t)i.apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const i of this._callbacks.values())e+=i.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Yp)),Yp.exports}var Gp,Kp=Xp(),$p=d(Kp);
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */
function Zp(){return Zp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Zp.apply(this,arguments)}function Qp(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Jp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Gp="function"!==typeof Object.assign?function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var tg,eg=Gp,ig=["","webkit","Moz","MS","ms","o"],ng="undefined"===typeof document?{style:{}}:document.createElement("div"),og="function",rg=Math.round,sg=Math.abs,ag=Date.now;function hg(t,e){var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;while(r<ig.length){if(i=ig[r],n=i?i+o:e,n in t)return n;r++}}tg="undefined"===typeof window?{}:window;var cg=hg(ng.style,"touchAction"),dg=void 0!==cg;function lg(){if(!dg)return!1;var t={},e=tg.CSS&&tg.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||tg.CSS.supports("touch-action",i)}),t}var ug="compute",fg="auto",pg="manipulation",gg="none",vg="pan-x",yg="pan-y",mg=lg(),bg=/mobile|tablet|ip(ad|hone|od)|android/i,wg="ontouchstart"in tg,_g=void 0!==hg(tg,"PointerEvent"),xg=wg&&bg.test(navigator.userAgent),Eg="touch",Og="pen",Sg="mouse",Cg="kinect",kg=25,Tg=1,Dg=2,Mg=4,Ig=8,Pg=1,Fg=2,zg=4,Ng=8,Ag=16,Bg=Fg|zg,jg=Ng|Ag,Rg=Bg|jg,Lg=["x","y"],Hg=["clientX","clientY"];function Wg(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length){n=0;while(n<t.length)e.call(i,t[n],n,t),n++}else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function Ug(t,e){return typeof t===og?t.apply(e&&e[0]||void 0,e):t}function qg(t,e){return t.indexOf(e)>-1}function Vg(t){if(qg(t,gg))return gg;var e=qg(t,vg),i=qg(t,yg);return e&&i?gg:e||i?e?vg:yg:qg(t,pg)?pg:fg}var Yg=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===ug&&(t=this.compute()),dg&&this.manager.element.style&&mg[t]&&(this.manager.element.style[cg]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Wg(this.manager.recognizers,function(e){Ug(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Vg(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=qg(n,gg)&&!mg[gg],r=qg(n,yg)&&!mg[yg],s=qg(n,vg)&&!mg[vg];if(o){var a=1===t.pointers.length,h=t.distance<2,c=t.deltaTime<250;if(a&&h&&c)return}if(!s||!r)return o||r&&i&Bg||s&&i&jg?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Xg(t,e){while(t){if(t===e)return!0;t=t.parentNode}return!1}function Gg(t){var e=t.length;if(1===e)return{x:rg(t[0].clientX),y:rg(t[0].clientY)};var i=0,n=0,o=0;while(o<e)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:rg(i/e),y:rg(n/e)}}function Kg(t){var e=[],i=0;while(i<t.pointers.length)e[i]={clientX:rg(t.pointers[i].clientX),clientY:rg(t.pointers[i].clientY)},i++;return{timeStamp:ag(),pointers:e,center:Gg(e),deltaX:t.deltaX,deltaY:t.deltaY}}function $g(t,e,i){i||(i=Lg);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function Zg(t,e,i){i||(i=Lg);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function Qg(t,e){return t===e?Pg:sg(t)>=sg(e)?t<0?Fg:zg:e<0?Ng:Ag}function Jg(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==Tg&&r.eventType!==Mg||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function tv(t,e,i){return{x:e/t||0,y:i/t||0}}function ev(t,e){return $g(e[0],e[1],Hg)/$g(t[0],t[1],Hg)}function iv(t,e){return Zg(e[1],e[0],Hg)+Zg(t[1],t[0],Hg)}function nv(t,e){var i,n,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==Ig&&(a>kg||void 0===s.velocity)){var h=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,d=tv(a,h,c);n=d.x,o=d.y,i=sg(d.x)>sg(d.y)?d.x:d.y,r=Qg(h,c),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}function ov(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=Kg(e)),o>1&&!i.firstMultiple?i.firstMultiple=Kg(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,h=e.center=Gg(n);e.timeStamp=ag(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=Zg(a,h),e.distance=$g(a,h),Jg(i,e),e.offsetDirection=Qg(e.deltaX,e.deltaY);var c=tv(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=sg(c.x)>sg(c.y)?c.x:c.y,e.scale=s?ev(s.pointers,n):1,e.rotation=s?iv(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,nv(i,e);var d,l=t.element,u=e.srcEvent;d=u.composedPath?u.composedPath()[0]:u.path?u.path[0]:u.target,Xg(d,l)&&(l=d),e.target=l}function rv(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&Tg&&n-o===0,s=e&(Mg|Ig)&&n-o===0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,ov(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function sv(t){return t.trim().split(/\s+/g)}function av(t,e,i){Wg(sv(e),function(e){t.addEventListener(e,i,!1)})}function hv(t,e,i){Wg(sv(e),function(e){t.removeEventListener(e,i,!1)})}function cv(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var dv=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Ug(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&av(this.element,this.evEl,this.domHandler),this.evTarget&&av(this.target,this.evTarget,this.domHandler),this.evWin&&av(cv(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&hv(this.element,this.evEl,this.domHandler),this.evTarget&&hv(this.target,this.evTarget,this.domHandler),this.evWin&&hv(cv(this.element),this.evWin,this.domHandler)},t}();function lv(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);var n=0;while(n<t.length){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var uv={pointerdown:Tg,pointermove:Dg,pointerup:Mg,pointercancel:Ig,pointerout:Ig},fv={2:Eg,3:Og,4:Sg,5:Cg},pv="pointerdown",gv="pointermove pointerup pointercancel";tg.MSPointerEvent&&!tg.PointerEvent&&(pv="MSPointerDown",gv="MSPointerMove MSPointerUp MSPointerCancel");var vv=function(t){function e(){var i,n=e.prototype;return n.evEl=pv,n.evWin=gv,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}Qp(e,t);var i=e.prototype;return i.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=uv[n],r=fv[t.pointerType]||t.pointerType,s=r===Eg,a=lv(e,t.pointerId,"pointerId");o&Tg&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(Mg|Ig)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))},e}(dv);function yv(t){return Array.prototype.slice.call(t,0)}function mv(t,e,i){var n=[],o=[],r=0;while(r<t.length){var s=e?t[r][e]:t[r];lv(o,s)<0&&n.push(t[r]),o[r]=s,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}var bv={touchstart:Tg,touchmove:Dg,touchend:Mg,touchcancel:Ig},wv="touchstart touchmove touchend touchcancel",_v=function(t){function e(){var i;return e.prototype.evTarget=wv,i=t.apply(this,arguments)||this,i.targetIds={},i}Qp(e,t);var i=e.prototype;return i.handler=function(t){var e=bv[t.type],i=xv.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Eg,srcEvent:t})},e}(dv);function xv(t,e){var i,n,o=yv(t.touches),r=this.targetIds;if(e&(Tg|Dg)&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=yv(t.changedTouches),a=[],h=this.target;if(n=o.filter(function(t){return Xg(t.target,h)}),e===Tg){i=0;while(i<n.length)r[n[i].identifier]=!0,i++}i=0;while(i<s.length)r[s[i].identifier]&&a.push(s[i]),e&(Mg|Ig)&&delete r[s[i].identifier],i++;return a.length?[mv(n.concat(a),"identifier",!0),a]:void 0}var Ev={mousedown:Tg,mousemove:Dg,mouseup:Mg},Ov="mousedown",Sv="mousemove mouseup",Cv=function(t){function e(){var i,n=e.prototype;return n.evEl=Ov,n.evWin=Sv,i=t.apply(this,arguments)||this,i.pressed=!1,i}Qp(e,t);var i=e.prototype;return i.handler=function(t){var e=Ev[t.type];e&Tg&&0===t.button&&(this.pressed=!0),e&Dg&&1!==t.which&&(e=Mg),this.pressed&&(e&Mg&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Sg,srcEvent:t}))},e}(dv),kv=2500,Tv=25;function Dv(t){var e=t.changedPointers,i=e[0];if(i.identifier===this.primaryTouch){var n={x:i.clientX,y:i.clientY},o=this.lastTouches;this.lastTouches.push(n);var r=function(){var t=o.indexOf(n);t>-1&&o.splice(t,1)};setTimeout(r,kv)}}function Mv(t,e){t&Tg?(this.primaryTouch=e.changedPointers[0].identifier,Dv.call(this,e)):t&(Mg|Ig)&&Dv.call(this,e)}function Iv(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),s=Math.abs(i-o.y);if(r<=Tv&&s<=Tv)return!0}return!1}var Pv=function(){var t=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.handler=function(t,e,i){var o=i.pointerType===Eg,r=i.pointerType===Sg;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(o)Mv.call(Jp(Jp(n)),e,i);else if(r&&Iv.call(Jp(Jp(n)),i))return;n.callback(t,e,i)}},n.touch=new _v(n.manager,n.handler),n.mouse=new Cv(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}Qp(e,t);var i=e.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(dv);return t}();function Fv(t){var e,i=t.options.inputClass;return e=i||(_g?vv:xg?_v:wg?Pv:Cv),new e(t,rv)}function zv(t,e,i){return!!Array.isArray(t)&&(Wg(t,i[e],i),!0)}var Nv=1,Av=2,Bv=4,jv=8,Rv=jv,Lv=16,Hv=32,Wv=1;function Uv(){return Wv++}function qv(t,e){var i=e.manager;return i?i.get(t):t}function Vv(t){return t&Lv?"cancel":t&jv?"end":t&Bv?"move":t&Av?"start":""}var Yv=function(){function t(t){void 0===t&&(t={}),this.options=Zp({enable:!0},t),this.id=Uv(),this.manager=null,this.state=Nv,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return eg(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(zv(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=qv(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return zv(t,"dropRecognizeWith",this)||(t=qv(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(zv(t,"requireFailure",this))return this;var e=this.requireFail;return t=qv(t,this),-1===lv(e,t)&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(zv(t,"dropRequireFailure",this))return this;t=qv(t,this);var e=lv(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<jv&&n(e.options.event+Vv(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=jv&&n(e.options.event+Vv(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Hv},e.canEmit=function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(Hv|Nv)))return!1;t++}return!0},e.recognize=function(t){var e=eg({},t);if(!Ug(this.options.enable,[this,e]))return this.reset(),void(this.state=Hv);this.state&(Rv|Lv|Hv)&&(this.state=Nv),this.state=this.process(e),this.state&(Av|Bv|jv|Lv)&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),Xv=function(t){function e(e){var i;return void 0===e&&(e={}),i=t.call(this,Zp({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Qp(e,t);var i=e.prototype;return i.getTouchAction=function(){return[pg]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),t.eventType&Tg&&0===this.count)return this.failTimeout();if(o&&r&&n){if(t.eventType!==Mg)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||$g(this.pCenter,t.center)<i.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var h=this.count%i.taps;if(0===h)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=Rv,e.tryEmit()},i.interval),Av):Rv}return Hv},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=Hv},this.options.interval),Hv},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){this.state===Rv&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Yv),Gv=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Zp({pointers:1},e))||this}Qp(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=e&(Av|Bv),o=this.attrTest(t);return n&&(i&Ig||!o)?e|Lv:n||o?i&Mg?e|jv:e&Av?e|Bv:Av:Hv},e}(Yv);function Kv(t){return t===Ag?"down":t===Ng?"up":t===Fg?"left":t===zg?"right":""}var $v=function(t){function e(e){var i;return void 0===e&&(e={}),i=t.call(this,Zp({event:"pan",threshold:10,pointers:1,direction:Rg},e))||this,i.pX=null,i.pY=null,i}Qp(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&Bg&&e.push(yg),t&jg&&e.push(vg),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&Bg?(o=0===r?Pg:r<0?Fg:zg,i=r!==this.pX,n=Math.abs(t.deltaX)):(o=0===s?Pg:s<0?Ng:Ag,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},i.attrTest=function(t){return Gv.prototype.attrTest.call(this,t)&&(this.state&Av||!(this.state&Av)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=Kv(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(Gv),Zv=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Zp({event:"swipe",threshold:10,velocity:.3,direction:Bg|jg,pointers:1},e))||this}Qp(e,t);var i=e.prototype;return i.getTouchAction=function(){return $v.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return n&(Bg|jg)?i=e.overallVelocity:n&Bg?i=e.overallVelocityX:n&jg&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&sg(i)>this.options.velocity&&e.eventType&Mg},i.emit=function(t){var e=Kv(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(Gv),Qv=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Zp({event:"pinch",threshold:0,pointers:2},e))||this}Qp(e,t);var i=e.prototype;return i.getTouchAction=function(){return[gg]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Av)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(Gv),Jv=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Zp({event:"rotate",threshold:0,pointers:2},e))||this}Qp(e,t);var i=e.prototype;return i.getTouchAction=function(){return[gg]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Av)},e}(Gv),ty=function(t){function e(e){var i;return void 0===e&&(e={}),i=t.call(this,Zp({event:"press",pointers:1,time:251,threshold:9},e))||this,i._timer=null,i._input=null,i}Qp(e,t);var i=e.prototype;return i.getTouchAction=function(){return[fg]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!o||!n||t.eventType&(Mg|Ig)&&!r)this.reset();else if(t.eventType&Tg)this.reset(),this._timer=setTimeout(function(){e.state=Rv,e.tryEmit()},i.time);else if(t.eventType&Mg)return Rv;return Hv},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){this.state===Rv&&(t&&t.eventType&Mg?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ag(),this.manager.emit(this.options.event,this._input)))},e}(Yv),ey={domEvents:!1,touchAction:ug,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},iy=[[Jv,{enable:!1}],[Qv,{enable:!1},["rotate"]],[Zv,{direction:Bg}],[$v,{direction:Bg},["swipe"]],[Xv],[Xv,{event:"doubletap",taps:2},["tap"]],[ty]],ny=1,oy=2;function ry(t,e){var i,n=t.element;n.style&&(Wg(t.options.cssProps,function(o,r){i=hg(n.style,r),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}function sy(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ay=function(){function t(t,e){var i=this;this.options=eg({},ey,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=Fv(this),this.touchAction=new Yg(this,this.options.touchAction),ry(this,!0),Wg(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return eg(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?oy:ny},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&Rv)&&(e.curRecognizer=null,o=null);var r=0;while(r<n.length)i=n[r],e.stopped===oy||o&&i!==o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(Av|Bv|jv)&&(e.curRecognizer=i,o=i),r++}},e.get=function(t){if(t instanceof Yv)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(zv(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(zv(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=lv(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Wg(sv(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Wg(sv(t),function(t){e?i[t]&&i[t].splice(lv(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){this.options.domEvents&&sy(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};var n=0;while(n<i.length)i[n](e),n++}},e.destroy=function(){this.element&&ry(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),hy={touchstart:Tg,touchmove:Dg,touchend:Mg,touchcancel:Ig},cy="touchstart",dy="touchstart touchmove touchend touchcancel",ly=function(t){function e(){var i,n=e.prototype;return n.evTarget=cy,n.evWin=dy,i=t.apply(this,arguments)||this,i.started=!1,i}Qp(e,t);var i=e.prototype;return i.handler=function(t){var e=hy[t.type];if(e===Tg&&(this.started=!0),this.started){var i=uy.call(this,t,e);e&(Mg|Ig)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Eg,srcEvent:t})}},e}(dv);function uy(t,e){var i=yv(t.touches),n=yv(t.changedTouches);return e&(Mg|Ig)&&(i=mv(i.concat(n),"identifier",!0)),[i,n]}function fy(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,i),t.apply(this,arguments)}}var py=fy(function(t,e,i){var n=Object.keys(e),o=0;while(o<n.length)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),gy=fy(function(t,e){return py(t,e,!0)},"merge","Use `assign`.");function vy(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&eg(n,i)}function yy(t,e){return function(){return t.apply(e,arguments)}}var my=function(){var t=function(t,e){return void 0===e&&(e={}),new ay(t,Zp({recognizers:iy.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Rg,t.DIRECTION_DOWN=Ag,t.DIRECTION_LEFT=Fg,t.DIRECTION_RIGHT=zg,t.DIRECTION_UP=Ng,t.DIRECTION_HORIZONTAL=Bg,t.DIRECTION_VERTICAL=jg,t.DIRECTION_NONE=Pg,t.DIRECTION_DOWN=Ag,t.INPUT_START=Tg,t.INPUT_MOVE=Dg,t.INPUT_END=Mg,t.INPUT_CANCEL=Ig,t.STATE_POSSIBLE=Nv,t.STATE_BEGAN=Av,t.STATE_CHANGED=Bv,t.STATE_ENDED=jv,t.STATE_RECOGNIZED=Rv,t.STATE_CANCELLED=Lv,t.STATE_FAILED=Hv,t.Manager=ay,t.Input=dv,t.TouchAction=Yg,t.TouchInput=_v,t.MouseInput=Cv,t.PointerEventInput=vv,t.TouchMouseInput=Pv,t.SingleTouchInput=ly,t.Recognizer=Yv,t.AttrRecognizer=Gv,t.Tap=Xv,t.Pan=$v,t.Swipe=Zv,t.Pinch=Qv,t.Rotate=Jv,t.Press=ty,t.on=av,t.off=hv,t.each=Wg,t.merge=gy,t.extend=py,t.bindFn=yy,t.assign=eg,t.inherit=vy,t.bindFn=yy,t.prefixed=hg,t.toArray=yv,t.inArray=lv,t.uniqueArray=mv,t.splitStr=sv,t.boolOrFn=Ug,t.hasParent=Xg,t.addEventListeners=av,t.removeEventListeners=hv,t.defaults=eg({},ey,{preset:iy}),t}();const by=el("DELETE");function wy(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return _y({},t,...i)}function _y(){const t=xy(...arguments);return Oy(t),t}function xy(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<2)return e[0];if(e.length>2)return xy(_y(e[0],e[1]),...ml(e).call(e,2));const n=e[0],o=e[1];if(n instanceof Date&&o instanceof Date)return n.setTime(o.getTime()),n;for(const r of Fl(o))Object.prototype.propertyIsEnumerable.call(o,r)&&(o[r]===by?delete n[r]:null===n[r]||null===o[r]||"object"!==typeof n[r]||"object"!==typeof o[r]||Xl(n[r])||Xl(o[r])?n[r]=Ey(o[r]):n[r]=xy(n[r],o[r]));return n}function Ey(t){return Xl(t)?Ed(t).call(t,t=>Ey(t)):"object"===typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):xy({},t):t}function Oy(t){for(const e of lu(t))t[e]===by?delete t[e]:"object"===typeof t[e]&&null!==t[e]&&Oy(t[e])}function Sy(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Cy="undefined"!==typeof window?window.Hammer||my:function(){return Sy()};function ky(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const i=Cy(this._dom.overlay);i.on("tap",Tc(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{i.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Du(n).call(n,t=>{i.on(t,t=>{t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=e=>{Ty(e.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}function Ty(t,e){while(t){if(t===e)return!0;t=t.parentNode}return!1}var Dy,My,Iy,Py,Fy,zy;function Ny(){if(My)return Dy;My=1,Jo();var t=Nt();return Dy=t.Object.getOwnPropertySymbols,Dy}function Ay(){if(Py)return Iy;Py=1;var t=Ny();return Iy=t,Iy}function By(){return zy||(zy=1,Fy=Ay()),Fy}$p(ky.prototype),ky.current=null,ky.prototype.destroy=function(){this.deactivate();for(const i of $u(t=vf(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;i()}},ky.prototype.activate=function(){ky.current&&ky.current.deactivate(),ky.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},ky.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},ky.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var jy,Ry,Ly,Hy,Wy,Uy,qy=By(),Vy=d(qy),Yy={exports:{}},Xy={};function Gy(){if(jy)return Xy;jy=1;var t=ai(),e=M(),i=Ft(),n=ze().f,o=W(),r=!o||e(function(){n(1)});return t({target:"Object",stat:!0,forced:r,sham:!o},{getOwnPropertyDescriptor:function(t,e){return n(i(t),e)}}),Xy}function Ky(){if(Ry)return Yy.exports;Ry=1,Gy();var t=Nt(),e=t.Object,i=Yy.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};return e.getOwnPropertyDescriptor.sham&&(i.sham=!0),Yy.exports}function $y(){if(Hy)return Ly;Hy=1;var t=Ky();return Ly=t,Ly}function Zy(){return Uy||(Uy=1,Wy=$y()),Wy}var Qy,Jy,tm,em,im,nm,om,rm=Zy(),sm=d(rm),am={};function hm(){if(Qy)return am;Qy=1;var t=ai(),e=W(),i=wl(),n=Ft(),o=ze(),r=Qi();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(t){var e,s,a=n(t),h=o.f,c=i(a),d={},l=0;while(c.length>l)s=h(a,e=c[l++]),void 0!==s&&r(d,e,s);return d}}),am}function cm(){if(tm)return Jy;tm=1,hm();var t=Nt();return Jy=t.Object.getOwnPropertyDescriptors,Jy}function dm(){if(im)return em;im=1;var t=cm();return em=t,em}function lm(){return om||(om=1,nm=dm()),nm}var um,fm,pm,gm,vm,ym,mm=lm(),bm=d(mm),wm={exports:{}},_m={};function xm(){if(um)return _m;um=1;var t=ai(),e=W(),i=Rn().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!e},{defineProperties:i}),_m}function Em(){if(fm)return wm.exports;fm=1,xm();var t=Nt(),e=t.Object,i=wm.exports=function(t,i){return e.defineProperties(t,i)};return e.defineProperties.sham&&(i.sham=!0),wm.exports}function Om(){if(gm)return pm;gm=1;var t=Em();return pm=t,pm}function Sm(){return ym||(ym=1,vm=Om()),vm}var Cm,km,Tm=Sm(),Dm=d(Tm);function Mm(){return km||(km=1,Cm=di()),Cm}var Im,Pm,Fm,zm,Nm,Am,Bm,jm,Rm,Lm,Hm,Wm,Um,qm,Vm,Ym,Xm,Gm,Km,$m,Zm,Qm,Jm,tb,eb,ib,nb,ob,rb,sb=Mm(),ab=d(sb),hb={},cb={},db={exports:{}};function lb(){if(Pm)return Im;Pm=1;var t=M();return Im=t(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),Im}function ub(){if(zm)return Fm;zm=1;var t=M(),e=zt(),i=z(),n=lb(),o=Object.isExtensible,r=t(function(){});return Fm=r||n?function(t){return!!e(t)&&((!n||"ArrayBuffer"!==i(t))&&(!o||o(t)))}:o,Fm}function fb(){if(Am)return Nm;Am=1;var t=M();return Nm=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Nm}function pb(){if(Bm)return db.exports;Bm=1;var t=ai(),e=F(),i=Nn(),n=zt(),o=ke(),r=ri().f,s=Vn(),a=Zn(),h=ub(),c=Te(),d=fb(),l=!1,u=c("meta"),f=0,p=function(t){r(t,u,{value:{objectID:"O"+f++,weakData:{}}})},g=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,u)){if(!h(t))return"F";if(!e)return"E";p(t)}return t[u].objectID},v=function(t,e){if(!o(t,u)){if(!h(t))return!0;if(!e)return!1;p(t)}return t[u].weakData},y=function(t){return d&&l&&h(t)&&!o(t,u)&&p(t),t},m=function(){b.enable=function(){},l=!0;var i=s.f,n=e([].splice),o={};o[u]=1,i(o).length&&(s.f=function(t){for(var e=i(t),o=0,r=e.length;o<r;o++)if(e[o]===u){n(e,o,1);break}return e},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},b=db.exports={enable:m,fastKey:g,getWeakData:v,onFreeze:y};return i[u]=!0,db.exports}function gb(){if(Rm)return jm;Rm=1;var t=De(),e=Ps(),i=t("iterator"),n=Array.prototype;return jm=function(t){return void 0!==t&&(e.Array===t||n[i]===t)},jm}function vb(){if(Hm)return Lm;Hm=1;var t=tn(),e=Vt(),i=It(),n=Ps(),o=De(),r=o("iterator");return Lm=function(o){if(!i(o))return e(o,r)||e(o,"@@iterator")||n[t(o)]},Lm}function yb(){if(Um)return Wm;Um=1;var t=U(),e=qt(),i=oi(),n=Ut(),o=vb(),r=TypeError;return Wm=function(s,a){var h=arguments.length<2?o(s):a;if(e(h))return i(t(h,s));throw new r(n(s)+" is not iterable")},Wm}function mb(){if(Vm)return qm;Vm=1;var t=U(),e=oi(),i=Vt();return qm=function(n,o,r){var s,a;e(n);try{if(s=i(n,"return"),!s){if("throw"===o)throw r;return r}s=t(s,n)}catch(h){a=!0,s=h}if("throw"===o)throw r;if(a)throw s;return e(s),r},qm}function bb(){if(Xm)return Ym;Xm=1;var t=Ae(),e=U(),i=oi(),n=Ut(),o=gb(),r=$i(),s=Bt(),a=yb(),h=vb(),c=mb(),d=TypeError,l=function(t,e){this.stopped=t,this.result=e},u=l.prototype;return Ym=function(f,p,g){var v,y,m,b,w,_,x,E=g&&g.that,O=!(!g||!g.AS_ENTRIES),S=!(!g||!g.IS_RECORD),C=!(!g||!g.IS_ITERATOR),k=!(!g||!g.INTERRUPTED),T=t(p,E),D=function(t){return v&&c(v,"normal"),new l(!0,t)},M=function(t){return O?(i(t),k?T(t[0],t[1],D):T(t[0],t[1])):k?T(t,D):T(t)};if(S)v=f.iterator;else if(C)v=f;else{if(y=h(f),!y)throw new d(n(f)+" is not iterable");if(o(y)){for(m=0,b=r(f);b>m;m++)if(w=M(f[m]),w&&s(u,w))return w;return new l(!1)}v=a(f,y)}_=S?f.next:v.next;while(!(x=e(_,v)).done){try{w=M(x.value)}catch(I){c(v,"throw",I)}if("object"==typeof w&&w&&s(u,w))return w}return new l(!1)},Ym}function wb(){if(Km)return Gm;Km=1;var t=Bt(),e=TypeError;return Gm=function(i,n){if(t(n,i))return i;throw new e("Incorrect invocation")},Gm}function _b(){if(Zm)return $m;Zm=1;var t=ai(),e=D(),i=pb(),n=M(),o=si(),r=bb(),s=wb(),a=A(),h=zt(),c=It(),d=Do(),l=ri().f,u=Po().forEach,f=W(),p=Io(),g=p.set,v=p.getterFor;return $m=function(p,y,m){var b,w=-1!==p.indexOf("Map"),_=-1!==p.indexOf("Weak"),x=w?"set":"add",E=e[p],O=E&&E.prototype,S={};if(f&&a(E)&&(_||O.forEach&&!n(function(){(new E).entries().next()}))){b=y(function(t,e){g(s(t,C),{type:p,collection:new E}),c(e)||r(e,t[x],{that:t,AS_ENTRIES:w})});var C=b.prototype,k=v(p);u(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"===t||"set"===t;!(t in O)||_&&"clear"===t||o(C,t,function(i,n){var o=k(this).collection;if(!e&&_&&!h(i))return"get"===t&&void 0;var r=o[t](0===i?0:i,n);return e?this:r})}),_||l(C,"size",{configurable:!0,get:function(){return k(this).collection.size}})}else b=m.getConstructor(y,p,w,x),i.enable();return d(b,p,!1,!0),S[p]=b,t({global:!0,forced:!0},S),_||m.setStrong(b,p,w),b},$m}function xb(){if(Jm)return Qm;Jm=1;var t=ro();return Qm=function(e,i,n){for(var o in i)n&&n.unsafe&&e[o]?e[o]=i[o]:t(e,o,i[o],n);return e},Qm}function Eb(){if(eb)return tb;eb=1;var t=At(),e=so(),i=De(),n=W(),o=i("species");return tb=function(i){var r=t(i);n&&r&&!r[o]&&e(r,o,{configurable:!0,get:function(){return this}})},tb}function Ob(){if(nb)return ib;nb=1;var t=Wn(),e=so(),i=xb(),n=Ae(),o=wb(),r=It(),s=bb(),a=Ws(),h=Us(),c=Eb(),d=W(),l=pb().fastKey,u=Io(),f=u.set,p=u.getterFor;return ib={getConstructor:function(a,h,c,u){var g=a(function(e,i){o(e,v),f(e,{type:h,index:t(null),first:null,last:null,size:0}),d||(e.size=0),r(i)||s(i,e[u],{that:e,AS_ENTRIES:c})}),v=g.prototype,y=p(h),m=function(t,e,i){var n,o,r=y(t),s=b(t,e);return s?s.value=i:(r.last=s={index:o=l(e,!0),key:e,value:i,previous:n=r.last,next:null,removed:!1},r.first||(r.first=s),n&&(n.next=s),d?r.size++:t.size++,"F"!==o&&(r.index[o]=s)),t},b=function(t,e){var i,n=y(t),o=l(e);if("F"!==o)return n.index[o];for(i=n.first;i;i=i.next)if(i.key===e)return i};return i(v,{clear:function(){var e=this,i=y(e),n=i.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=null),n=n.next;i.first=i.last=null,i.index=t(null),d?i.size=0:e.size=0},delete:function(t){var e=this,i=y(e),n=b(e,t);if(n){var o=n.next,r=n.previous;delete i.index[n.index],n.removed=!0,r&&(r.next=o),o&&(o.previous=r),i.first===n&&(i.first=o),i.last===n&&(i.last=r),d?i.size--:e.size--}return!!n},forEach:function(t){var e,i=y(this),o=n(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:i.first){o(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),i(v,c?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),d&&e(v,"size",{configurable:!0,get:function(){return y(this).size}}),g},setStrong:function(t,e,i){var n=e+" Iterator",o=p(e),r=p(n);a(t,e,function(t,e){f(this,{type:n,target:t,state:o(t),kind:e,last:null})},function(){var t=r(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?h("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=null,h(void 0,!0))},i?"entries":"values",!i,!0),c(e)}},ib}function Sb(){if(ob)return cb;ob=1;var t=_b(),e=Ob();return t("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),cb}function Cb(){return rb||(rb=1,Sb()),hb}var kb,Tb,Db,Mb,Ib,Pb,Fb,zb,Nb,Ab,Bb,jb={};function Rb(){return Tb||(Tb=1,kb=function(t,e){return 1===e?function(e,i){return e[t](i)}:function(e,i,n){return e[t](i,n)}}),kb}function Lb(){if(Mb)return Db;Mb=1;var t=At(),e=Rb(),i=t("Map");return Db={Map:i,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:i.prototype},Db}function Hb(){if(Ib)return jb;Ib=1;var t=ai(),e=F(),i=qt(),n=Pt(),o=bb(),r=Lb(),s=xe(),a=M(),h=r.Map,c=r.has,d=r.get,l=r.set,u=e([].push),f=s||a(function(){return 1!==h.groupBy("ab",function(t){return t}).get("a").length});return t({target:"Map",stat:!0,forced:s||f},{groupBy:function(t,e){n(t),i(e);var r=new h,s=0;return o(t,function(t){var i=e(t,s++);c(r,i)?u(d(r,i),t):l(r,i,[t])}),r}}),jb}function Wb(){if(Fb)return Pb;Fb=1,qs(),Cb(),Hb(),ph();var t=Nt();return Pb=t.Map,Pb}function Ub(){if(Nb)return zb;Nb=1;var t=Wb();return Ys(),zb=t,zb}function qb(){return Bb||(Bb=1,Ab=Ub()),Ab}var Vb,Yb,Xb,Gb,Kb,$b,Zb,Qb,Jb,tw=qb(),ew=d(tw),iw={};function nw(){if(Vb)return iw;Vb=1;var t=ai(),e=Po().some,i=Ic(),n=i("some");return t({target:"Array",proto:!0,forced:!n},{some:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),iw}function ow(){if(Xb)return Yb;Xb=1,nw();var t=rc();return Yb=t("Array","some"),Yb}function rw(){if(Kb)return Gb;Kb=1;var t=Bt(),e=ow(),i=Array.prototype;return Gb=function(n){var o=n.some;return n===i||t(i,n)&&o===i.some?e:o},Gb}function sw(){if(Zb)return $b;Zb=1;var t=rw();return $b=t,$b}function aw(){return Jb||(Jb=1,Qb=sw()),Qb}var hw,cw,dw,lw,uw,fw,pw,gw,vw=aw(),yw=d(vw);function mw(){if(cw)return hw;cw=1,qs();var t=rc();return hw=t("Array","keys"),hw}function bw(){if(lw)return dw;lw=1;var t=mw();return dw=t,dw}function ww(){if(fw)return uw;fw=1,Ys();var t=tn(),e=ke(),i=Bt(),n=bw(),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};return uw=function(s){var a=s.keys;return s===o||i(o,s)&&a===o.keys||e(r,t(s))?n:a},uw}function _w(){return gw||(gw=1,pw=ww()),pw}var xw,Ew,Ow,Sw,Cw,kw,Tw,Dw,Mw,Iw,Pw,Fw,zw,Nw,Aw,Bw,jw,Rw=_w(),Lw=d(Rw),Hw={};function Ww(){if(Ew)return xw;Ew=1;var t=$n(),e=Math.floor,i=function(n,o){var r=n.length;if(r<8){var s,a,h=1;while(h<r){a=h,s=n[h];while(a&&o(n[a-1],s)>0)n[a]=n[--a];a!==h++&&(n[a]=s)}}else{var c=e(r/2),d=i(t(n,0,c),o),l=i(t(n,c),o),u=d.length,f=l.length,p=0,g=0;while(p<u||g<f)n[p+g]=p<u&&g<f?o(d[p],l[g])<=0?d[p++]:l[g++]:p<u?d[p++]:l[g++]}return n};return xw=i,xw}function Uw(){if(Sw)return Ow;Sw=1;var t=jt(),e=t.match(/firefox\/(\d+)/i);return Ow=!!e&&+e[1],Ow}function qw(){if(kw)return Cw;kw=1;var t=jt();return Cw=/MSIE|Trident/.test(t),Cw}function Vw(){if(Dw)return Tw;Dw=1;var t=jt(),e=t.match(/AppleWebKit\/(\d+)\./);return Tw=!!e&&+e[1],Tw}function Yw(){if(Mw)return Hw;Mw=1;var t=ai(),e=F(),i=qt(),n=Ce(),o=$i(),r=Ju(),s=un(),a=M(),h=Ww(),c=Ic(),d=Uw(),l=qw(),u=Rt(),f=Vw(),p=[],g=e(p.sort),v=e(p.push),y=a(function(){p.sort(void 0)}),m=a(function(){p.sort(null)}),b=c("sort"),w=!a(function(){if(u)return u<70;if(!(d&&d>3)){if(l)return!0;if(f)return f<603;var t,e,i,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)p.push({k:e+n,v:i})}for(p.sort(function(t,e){return e.v-t.v}),n=0;n<p.length;n++)e=p[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}),_=y||!m||!b||!w,x=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:s(e)>s(i)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(t){void 0!==t&&i(t);var e=n(this);if(w)return void 0===t?g(e):g(e,t);var s,a,c=[],d=o(e);for(a=0;a<d;a++)a in e&&v(c,e[a]);h(c,x(t)),s=o(c),a=0;while(a<s)e[a]=c[a++];while(a<d)r(e,a++);return e}}),Hw}function Xw(){if(Pw)return Iw;Pw=1,Yw();var t=rc();return Iw=t("Array","sort"),Iw}function Gw(){if(zw)return Fw;zw=1;var t=Bt(),e=Xw(),i=Array.prototype;return Fw=function(n){var o=n.sort;return n===i||t(i,n)&&o===i.sort?e:o},Fw}function Kw(){if(Aw)return Nw;Aw=1;var t=Gw();return Nw=t,Nw}function $w(){return jw||(jw=1,Bw=Kw()),Bw}var Zw,Qw,Jw,t_,e_,i_,n_,o_,r_=$w(),s_=d(r_);function a_(){if(Qw)return Zw;Qw=1,qs();var t=rc();return Zw=t("Array","values"),Zw}function h_(){if(t_)return Jw;t_=1;var t=a_();return Jw=t,Jw}function c_(){if(i_)return e_;i_=1,Ys();var t=tn(),e=ke(),i=Bt(),n=h_(),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};return e_=function(s){var a=s.values;return s===o||i(o,s)&&a===o.values||e(r,t(s))?n:a},e_}function d_(){return o_||(o_=1,n_=c_()),n_}var l_,u_,f_=d_(),p_=d(f_);function g_(){return u_||(u_=1,l_=vh()),l_}var v_,y_,m_,b_,w_,__,x_,E_,O_=g_(),S_=d(O_);function C_(){if(y_)return v_;y_=1,qs();var t=rc();return v_=t("Array","entries"),v_}function k_(){if(b_)return m_;b_=1;var t=C_();return m_=t,m_}function T_(){if(__)return w_;__=1,Ys();var t=tn(),e=ke(),i=Bt(),n=k_(),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};return w_=function(s){var a=s.entries;return s===o||i(o,s)&&a===o.entries||e(r,t(s))?n:a},w_}function D_(){return E_||(E_=1,x_=T_()),x_}var M_=D_(),I_=d(M_);const P_=[];for(let c2=0;c2<256;++c2)P_.push((c2+256).toString(16).slice(1));function F_(t,e=0){return(P_[t[e+0]]+P_[t[e+1]]+P_[t[e+2]]+P_[t[e+3]]+"-"+P_[t[e+4]]+P_[t[e+5]]+"-"+P_[t[e+6]]+P_[t[e+7]]+"-"+P_[t[e+8]]+P_[t[e+9]]+"-"+P_[t[e+10]]+P_[t[e+11]]+P_[t[e+12]]+P_[t[e+13]]+P_[t[e+14]]+P_[t[e+15]]).toLowerCase()}let z_;const N_=new Uint8Array(16);function A_(){if(!z_){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");z_=crypto.getRandomValues.bind(crypto)}return z_(N_)}const B_="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var j_={randomUUID:B_};function R_(t,e,i){t=t||{};const n=t.random??t.rng?.()??A_();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=15&n[6]|64,n[8]=63&n[8]|128,F_(n)}function L_(t,e,i){return j_.randomUUID&&!t?j_.randomUUID():R_(t)}function H_(t){return"string"===typeof t||"number"===typeof t}class W_{constructor(t){Wh(this,"_queue",[]),Wh(this,"_timeout",null),Wh(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}setOptions(t){t&&"undefined"!==typeof t.delay&&(this.delay=t.delay),t&&"undefined"!==typeof t.max&&(this.max=t.max),this._flushIfNeeded()}static extend(t,e){const i=new W_(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=()=>{i.flush()};const n=[{name:"flush",original:void 0}];if(e&&e.replace)for(let o=0;o<e.replace.length;o++){const r=e.replace[o];n.push({name:r,original:t[r]}),i.replace(t,r)}return i._extended={object:t,methods:n},i}destroy(){if(this.flush(),this._extended){const t=this._extended.object,e=this._extended.methods;for(let i=0;i<e.length;i++){const n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}replace(t,e){const i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];i.queue({args:e,fn:n,context:this})}}queue(t){"function"===typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"===typeof this.delay&&(this._timeout=Vp(()=>{this.flush()},this.delay))}flush(){var t,e;Du(t=vf(e=this._queue).call(e,0)).call(t,t=>{t.fn.apply(t.context||t.fn,t.args||[])})}}class U_{constructor(){Wh(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Wh(this,"subscribe",U_.prototype.on),Wh(this,"unsubscribe",U_.prototype.off)}_trigger(t,e,i){var n;if("*"===t)throw new Error("Cannot trigger event *");Du(n=[...this._subscribers[t],...this._subscribers["*"]]).call(n,n=>{n(t,e,null!=i?i:null)})}on(t,e){"function"===typeof e&&this._subscribers[t].push(e)}off(t,e){var i;this._subscribers[t]=ud(i=this._subscribers[t]).call(i,t=>t!==e)}}var q_,V_,Y_={},X_={};function G_(){if(q_)return X_;q_=1;var t=_b(),e=Ob();return t("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),X_}function K_(){return V_||(V_=1,G_()),Y_}var $_,Z_,Q_,J_,tx,ex,ix,nx,ox,rx,sx,ax,hx,cx,dx,lx,ux,fx,px,gx,vx,yx={};function mx(){if(Z_)return $_;Z_=1;var t=Ut(),e=TypeError;return $_=function(i){if("object"==typeof i&&"size"in i&&"has"in i&&"add"in i&&"delete"in i&&"keys"in i)return i;throw new e(t(i)+" is not a set")},$_}function bx(){if(J_)return Q_;J_=1;var t=At(),e=Rb(),i=t("Set"),n=i.prototype;return Q_={Set:i,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},Q_}function wx(){if(ex)return tx;ex=1;var t=U();return tx=function(e,i,n){var o,r,s=n?e:e.iterator,a=e.next;while(!(o=t(a,s)).done)if(r=i(o.value),void 0!==r)return r},tx}function _x(){if(nx)return ix;nx=1;var t=wx();return ix=function(e,i,n){return n?t(e.keys(),i,!0):e.forEach(i)},ix}function xx(){if(rx)return ox;rx=1;var t=bx(),e=_x(),i=t.Set,n=t.add;return ox=function(t){var o=new i;return e(t,function(t){n(o,t)}),o},ox}function Ex(){return ax||(ax=1,sx=function(t){return t.size}),sx}function Ox(){return cx||(cx=1,hx=function(t){return{iterator:t,next:t.next,done:!1}}),hx}function Sx(){if(lx)return dx;lx=1;var t=qt(),e=oi(),i=U(),n=Gi(),o=Ox(),r="Invalid size",s=RangeError,a=TypeError,h=Math.max,c=function(e,i){this.set=e,this.size=h(i,0),this.has=t(e.has),this.keys=t(e.keys)};return c.prototype={getIterator:function(){return o(e(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},dx=function(t){e(t);var i=+t.size;if(i!==i)throw new a(r);var o=n(i);if(o<0)throw new s(r);return new c(t,o)},dx}function Cx(){if(fx)return ux;fx=1;var t=mx(),e=bx(),i=xx(),n=Ex(),o=Sx(),r=_x(),s=wx(),a=e.has,h=e.remove;return ux=function(e){var c=t(this),d=o(e),l=i(c);return n(c)<=d.size?r(c,function(t){d.includes(t)&&h(l,t)}):s(d.getIterator(),function(t){a(l,t)&&h(l,t)}),l},ux}function kx(){return gx||(gx=1,px=function(){return!1}),px}function Tx(){if(vx)return yx;vx=1;var t=ai(),e=Cx(),i=M(),n=kx(),o=!n("difference",function(t){return 0===t.size}),r=o||i(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var i=t++>1;return e.has(1)&&e.clear(),{done:i,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size});return t({target:"Set",proto:!0,real:!0,forced:r},{difference:e}),yx}var Dx,Mx,Ix,Px={};function Fx(){if(Mx)return Dx;Mx=1;var t=mx(),e=bx(),i=Ex(),n=Sx(),o=_x(),r=wx(),s=e.Set,a=e.add,h=e.has;return Dx=function(e){var c=t(this),d=n(e),l=new s;return i(c)>d.size?r(d.getIterator(),function(t){h(c,t)&&a(l,t)}):o(c,function(t){d.includes(t)&&a(l,t)}),l},Dx}function zx(){if(Ix)return Px;Ix=1;var t=ai(),e=M(),i=Fx(),n=kx(),o=!n("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||e(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))});return t({target:"Set",proto:!0,real:!0,forced:o},{intersection:i}),Px}var Nx,Ax,Bx,jx={};function Rx(){if(Ax)return Nx;Ax=1;var t=mx(),e=bx().has,i=Ex(),n=Sx(),o=_x(),r=wx(),s=mb();return Nx=function(a){var h=t(this),c=n(a);if(i(h)<=c.size)return!1!==o(h,function(t){if(c.includes(t))return!1},!0);var d=c.getIterator();return!1!==r(d,function(t){if(e(h,t))return s(d,"normal",!1)})},Nx}function Lx(){if(Bx)return jx;Bx=1;var t=ai(),e=Rx(),i=kx(),n=!i("isDisjointFrom",function(t){return!t});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),jx}var Hx,Wx,Ux,qx={};function Vx(){if(Wx)return Hx;Wx=1;var t=mx(),e=Ex(),i=_x(),n=Sx();return Hx=function(o){var r=t(this),s=n(o);return!(e(r)>s.size)&&!1!==i(r,function(t){if(!s.includes(t))return!1},!0)},Hx}function Yx(){if(Ux)return qx;Ux=1;var t=ai(),e=Vx(),i=kx(),n=!i("isSubsetOf",function(t){return t});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),qx}var Xx,Gx,Kx,$x={};function Zx(){if(Gx)return Xx;Gx=1;var t=mx(),e=bx().has,i=Ex(),n=Sx(),o=wx(),r=mb();return Xx=function(s){var a=t(this),h=n(s);if(i(a)<h.size)return!1;var c=h.getIterator();return!1!==o(c,function(t){if(!e(a,t))return r(c,"normal",!1)})},Xx}function Qx(){if(Kx)return $x;Kx=1;var t=ai(),e=Zx(),i=kx(),n=!i("isSupersetOf",function(t){return!t});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),$x}var Jx,tE,eE,iE,nE,oE={};function rE(){if(tE)return Jx;tE=1;var t=mx(),e=bx(),i=xx(),n=Sx(),o=wx(),r=e.add,s=e.has,a=e.remove;return Jx=function(e){var h=t(this),c=n(e).getIterator(),d=i(h);return o(c,function(t){s(h,t)?a(d,t):r(d,t)}),d},Jx}function sE(){return iE||(iE=1,eE=function(t){try{var e=new Set,i={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](i);return 1===n.size&&4===n.values().next().value}catch(o){return!1}}),eE}function aE(){if(nE)return oE;nE=1;var t=ai(),e=rE(),i=sE(),n=kx(),o=!n("symmetricDifference")||!i("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:o},{symmetricDifference:e}),oE}var hE,cE,dE,lE,uE,fE,pE,gE,vE,yE={};function mE(){if(cE)return hE;cE=1;var t=mx(),e=bx().add,i=xx(),n=Sx(),o=wx();return hE=function(r){var s=t(this),a=n(r).getIterator(),h=i(s);return o(a,function(t){e(h,t)}),h},hE}function bE(){if(dE)return yE;dE=1;var t=ai(),e=mE(),i=sE(),n=kx(),o=!n("union")||!i("union");return t({target:"Set",proto:!0,real:!0,forced:o},{union:e}),yE}function wE(){if(uE)return lE;uE=1,qs(),K_(),Tx(),zx(),Lx(),Yx(),Qx(),aE(),bE(),ph();var t=Nt();return lE=t.Set,lE}function _E(){if(pE)return fE;pE=1;var t=wE();return Ys(),fE=t,fE}function xE(){return vE||(vE=1,gE=_E()),gE}var EE,OE,SE,CE,kE,TE,DE,ME,IE,PE,FE,zE,NE=xE(),AE=d(NE);function BE(){if(OE)return EE;OE=1,qs(),ph();var t=yb();return EE=t,EE}function jE(){if(CE)return SE;CE=1;var t=BE();return Ys(),SE=t,SE}function RE(){if(TE)return kE;TE=1;var t=jE();return kE=t,kE}function LE(){if(ME)return DE;ME=1;var t=RE();return DE=t,DE}function HE(){return PE||(PE=1,IE=LE()),IE}function WE(){return zE||(zE=1,FE=HE()),FE}var UE=WE(),qE=d(UE);class VE{constructor(t){this._pairs=t}*[S_](){for(const[t,e]of this._pairs)yield[t,e]}*entries(){for(const[t,e]of this._pairs)yield[t,e]}*keys(){for(const[t]of this._pairs)yield t}*values(){for(const[,t]of this._pairs)yield t}toIdArray(){var t;return Ed(t=[...this._pairs]).call(t,t=>t[0])}toItemArray(){var t;return Ed(t=[...this._pairs]).call(t,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const t=lp(null);for(const[e,i]of this._pairs)t[e]=i;return t}toMap(){return new ew(this._pairs)}toIdSet(){return new AE(this.toIdArray())}toItemSet(){return new AE(this.toItemArray())}cache(){return new VE([...this._pairs])}distinct(t){const e=new AE;for(const[i,n]of this._pairs)e.add(t(n,i));return e}filter(t){const e=this._pairs;return new VE({*[S_](){for(const[i,n]of e)t(n,i)&&(yield[i,n])}})}forEach(t){for(const[e,i]of this._pairs)t(i,e)}map(t){const e=this._pairs;return new VE({*[S_](){for(const[i,n]of e)yield[i,t(n,i)]}})}max(t){const e=qE(this._pairs);let i=e.next();if(i.done)return null;let n=i.value[1],o=t(i.value[1],i.value[0]);while(!(i=e.next()).done){const[e,r]=i.value,s=t(r,e);s>o&&(o=s,n=r)}return n}min(t){const e=qE(this._pairs);let i=e.next();if(i.done)return null;let n=i.value[1],o=t(i.value[1],i.value[0]);while(!(i=e.next()).done){const[e,r]=i.value,s=t(r,e);s<o&&(o=s,n=r)}return n}reduce(t,e){for(const[i,n]of this._pairs)e=t(e,n,i);return e}sort(t){return new VE({[S_]:()=>{var e;return qE(s_(e=[...this._pairs]).call(e,(e,i)=>{let[n,o]=e,[r,s]=i;return t(o,s,n,r)}))}})}}function YE(t,e){var i=lu(t);if(Vy){var n=Vy(t);e&&(n=ud(n).call(n,function(e){return sm(t,e).enumerable})),i.push.apply(i,n)}return i}function XE(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?Du(i=YE(Object(o),!0)).call(i,function(e){Wh(t,e,o[e])}):bm?Dm(t,bm(o)):Du(n=YE(Object(o))).call(n,function(e){ab(t,e,sm(o,e))})}return t}function GE(t,e){return null==t[e]&&(t[e]=L_()),t}class KE extends U_{get idProp(){return this._idProp}constructor(t,e){super(),Wh(this,"_queue",null),t&&!Xl(t)&&(e=t,t=[]),this._options=e||{},this._data=new ew,this.length=0,this._idProp=this._options.fieldId||"id",t&&t.length&&this.add(t),this.setOptions(e)}setOptions(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=W_.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"===typeof t.queue&&this._queue.setOptions(t.queue)))}add(t,e){const i=[];let n;if(Xl(t)){const e=Ed(t).call(t,t=>t[this._idProp]);if(yw(e).call(e,t=>this._data.has(t)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,r=t.length;o<r;o++)n=this._addItem(t[o]),i.push(n)}else{if(!t||"object"!==typeof t)throw new Error("Unknown dataType");n=this._addItem(t),i.push(n)}return i.length&&this._trigger("add",{items:i},e),i}update(t,e){const i=[],n=[],o=[],r=[],s=this._idProp,a=t=>{const e=t[s];if(null!=e&&this._data.has(e)){const i=t,s=Pf({},this._data.get(e)),a=this._updateItem(i);n.push(a),r.push(i),o.push(s)}else{const e=this._addItem(t);i.push(e)}};if(Xl(t))for(let h=0,c=t.length;h<c;h++)t[h]&&"object"===typeof t[h]?a(t[h]):console.warn("Ignoring input item, which is not an object at index "+h);else{if(!t||"object"!==typeof t)throw new Error("Unknown dataType");a(t)}if(i.length&&this._trigger("add",{items:i},e),n.length){const t={items:n,oldData:o,data:r};this._trigger("update",t,e)}return Vf(i).call(i,n)}updateOnly(t,e){var i;Xl(t)||(t=[t]);const n=Ed(i=Ed(t).call(t,t=>{const e=this._data.get(t[this._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}})).call(i,t=>{let{oldData:e,update:i}=t;const n=e[this._idProp],o=wy(e,i);return this._data.set(n,o),{id:n,oldData:e,updatedData:o}});if(n.length){const t={items:Ed(n).call(n,t=>t.id),oldData:Ed(n).call(n,t=>t.oldData),data:Ed(n).call(n,t=>t.updatedData)};return this._trigger("update",t,e),t.items}return[]}get(t,e){let i,n,o;H_(t)?(i=t,o=e):Xl(t)?(n=t,o=e):o=t;const r=o&&"Object"===o.returnType?"Object":"Array",s=o&&ud(o),a=[];let h,c,d;if(null!=i)h=this._data.get(i),h&&s&&!s(h)&&(h=void 0);else if(null!=n)for(let u=0,f=n.length;u<f;u++)h=this._data.get(n[u]),null==h||s&&!s(h)||a.push(h);else{var l;c=[...Lw(l=this._data).call(l)];for(let t=0,e=c.length;t<e;t++)d=c[t],h=this._data.get(d),null==h||s&&!s(h)||a.push(h)}if(o&&o.order&&void 0==i&&this._sort(a,o.order),o&&o.fields){const t=o.fields;if(void 0!=i&&null!=h)h=this._filterFields(h,t);else for(let e=0,i=a.length;e<i;e++)a[e]=this._filterFields(a[e],t)}if("Object"==r){const t={};for(let e=0,i=a.length;e<i;e++){const i=a[e],n=i[this._idProp];t[n]=i}return t}return null!=i?null!==h&&void 0!==h?h:null:a}getIds(t){const e=this._data,i=t&&ud(t),n=t&&t.order,o=[...Lw(e).call(e)],r=[];if(i)if(n){const t=[];for(let e=0,n=o.length;e<n;e++){const n=o[e],r=this._data.get(n);null!=r&&i(r)&&t.push(r)}this._sort(t,n);for(let e=0,i=t.length;e<i;e++)r.push(t[e][this._idProp])}else for(let s=0,a=o.length;s<a;s++){const t=o[s],e=this._data.get(t);null!=e&&i(e)&&r.push(e[this._idProp])}else if(n){const t=[];for(let i=0,n=o.length;i<n;i++){const n=o[i];t.push(e.get(n))}this._sort(t,n);for(let e=0,i=t.length;e<i;e++)r.push(t[e][this._idProp])}else for(let s=0,a=o.length;s<a;s++){const t=o[s],i=e.get(t);null!=i&&r.push(i[this._idProp])}return r}getDataSet(){return this}forEach(t,e){const i=e&&ud(e),n=this._data,o=[...Lw(n).call(n)];if(e&&e.order){const i=this.get(e);for(let e=0,n=i.length;e<n;e++){const n=i[e],o=n[this._idProp];t(n,o)}}else for(let r=0,s=o.length;r<s;r++){const e=o[r],n=this._data.get(e);null==n||i&&!i(n)||t(n,e)}}map(t,e){const i=e&&ud(e),n=[],o=this._data,r=[...Lw(o).call(o)];for(let s=0,a=r.length;s<a;s++){const e=r[s],o=this._data.get(e);null==o||i&&!i(o)||n.push(t(o,e))}return e&&e.order&&this._sort(n,e.order),n}_filterFields(t,e){var i;return t?Kc(i=Xl(e)?e:lu(e)).call(i,(e,i)=>(e[i]=t[i],e),{}):t}_sort(t,e){if("string"===typeof e){const i=e;s_(t).call(t,(t,e)=>{const n=t[i],o=e[i];return n>o?1:n<o?-1:0})}else{if("function"!==typeof e)throw new TypeError("Order must be a function or a string");s_(t).call(t,e)}}remove(t,e){const i=[],n=[],o=Xl(t)?t:[t];for(let r=0,s=o.length;r<s;r++){const t=this._remove(o[r]);if(t){const e=t[this._idProp];null!=e&&(i.push(e),n.push(t))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}_remove(t){let e;if(H_(t)?e=t:t&&"object"===typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){const t=this._data.get(e)||null;return this._data.delete(e),--this.length,t}return null}clear(t){var e;const i=[...Lw(e=this._data).call(e)],n=[];for(let o=0,r=i.length;o<r;o++)n.push(this._data.get(i[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:i,oldData:n},t),i}max(t){let e=null,i=null;for(const o of p_(n=this._data).call(n)){var n;const r=o[t];"number"===typeof r&&(null==i||r>i)&&(e=o,i=r)}return e||null}min(t){let e=null,i=null;for(const o of p_(n=this._data).call(n)){var n;const r=o[t];"number"===typeof r&&(null==i||r<i)&&(e=o,i=r)}return e||null}distinct(t){const e=this._data,i=[...Lw(e).call(e)],n=[];let o=0;for(let r=0,s=i.length;r<s;r++){const s=i[r],a=e.get(s),h=a[t];let c=!1;for(let t=0;t<o;t++)if(n[t]==h){c=!0;break}c||void 0===h||(n[o]=h,o++)}return n}_addItem(t){const e=GE(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}_updateItem(t){const e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+Cp(t)+")");const i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,XE(XE({},i),t)),e}stream(t){if(t){const e=this._data;return new VE({*[S_](){for(const i of t){const t=e.get(i);null!=t&&(yield[i,t])}}})}var e;return new VE({[S_]:Tc(e=I_(this._data)).call(e,this._data)})}}function $E(t,e){return"object"===typeof e&&null!==e&&t===e.idProp&&"function"===typeof e.add&&"function"===typeof e.clear&&"function"===typeof e.distinct&&"function"===typeof Du(e)&&"function"===typeof e.get&&"function"===typeof e.getDataSet&&"function"===typeof e.getIds&&"number"===typeof e.length&&"function"===typeof Ed(e)&&"function"===typeof e.max&&"function"===typeof e.min&&"function"===typeof e.off&&"function"===typeof e.on&&"function"===typeof e.remove&&"function"===typeof e.setOptions&&"function"===typeof e.stream&&"function"===typeof e.update&&"function"===typeof e.updateOnly}function ZE(t,e){return"object"===typeof e&&null!==e&&t===e.idProp&&"function"===typeof Du(e)&&"function"===typeof e.get&&"function"===typeof e.getDataSet&&"function"===typeof e.getIds&&"number"===typeof e.length&&"function"===typeof Ed(e)&&"function"===typeof e.off&&"function"===typeof e.on&&"function"===typeof e.stream&&$E(t,e.getDataSet())}
/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
var QE="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function JE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}var tO,eO,iO,nO,oO,rO,sO,aO,hO,cO,dO,lO,uO,fO,pO,gO,vO={};function yO(){if(eO)return tO;eO=1;var t=function(t){return t&&t.Math===Math&&t};return tO=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof QE&&QE)||t("object"==typeof tO&&tO)||function(){return this}()||Function("return this")(),tO}function mO(){return nO||(nO=1,iO=function(t){try{return!!t()}catch(e){return!0}}),iO}function bO(){if(rO)return oO;rO=1;var t=mO();return oO=!t(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),oO}function wO(){if(aO)return sO;aO=1;var t=bO(),e=Function.prototype,i=e.apply,n=e.call;return sO="object"==typeof Reflect&&Reflect.apply||(t?n.bind(i):function(){return n.apply(i,arguments)}),sO}function _O(){if(cO)return hO;cO=1;var t=bO(),e=Function.prototype,i=e.call,n=t&&e.bind.bind(i,i);return hO=t?n:function(t){return function(){return i.apply(t,arguments)}},hO}function xO(){if(lO)return dO;lO=1;var t=_O(),e=t({}.toString),i=t("".slice);return dO=function(t){return i(e(t),8,-1)},dO}function EO(){if(fO)return uO;fO=1;var t=xO(),e=_O();return uO=function(i){if("Function"===t(i))return e(i)},uO}function OO(){if(gO)return pO;gO=1;var t="object"==typeof document&&document.all;return pO="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t},pO}var SO,CO,kO,TO,DO={};function MO(){if(CO)return SO;CO=1;var t=mO();return SO=!t(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),SO}function IO(){if(TO)return kO;TO=1;var t=bO(),e=Function.prototype.call;return kO=t?e.bind(e):function(){return e.apply(e,arguments)},kO}var PO,FO,zO,NO,AO,BO,jO,RO,LO,HO,WO,UO,qO,VO,YO,XO,GO,KO,$O,ZO,QO,JO,tS,eS,iS,nS,oS,rS,sS,aS,hS,cS,dS,lS,uS,fS,pS,gS={};function vS(){if(PO)return gS;PO=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,i=e&&!t.call({1:2},1);return gS.f=i?function(t){var i=e(this,t);return!!i&&i.enumerable}:t,gS}function yS(){return zO||(zO=1,FO=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}),FO}function mS(){if(AO)return NO;AO=1;var t=_O(),e=mO(),i=xO(),n=Object,o=t("".split);return NO=e(function(){return!n("z").propertyIsEnumerable(0)})?function(t){return"String"===i(t)?o(t,""):n(t)}:n,NO}function bS(){return jO||(jO=1,BO=function(t){return null===t||void 0===t}),BO}function wS(){if(LO)return RO;LO=1;var t=bS(),e=TypeError;return RO=function(i){if(t(i))throw new e("Can't call method on "+i);return i},RO}function _S(){if(WO)return HO;WO=1;var t=mS(),e=wS();return HO=function(i){return t(e(i))},HO}function xS(){if(qO)return UO;qO=1;var t=OO();return UO=function(e){return"object"==typeof e?null!==e:t(e)},UO}function ES(){return YO||(YO=1,VO={}),VO}function OS(){if(GO)return XO;GO=1;var t=ES(),e=yO(),i=OO(),n=function(t){return i(t)?t:void 0};return XO=function(i,o){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][o]||e[i]&&e[i][o]},XO}function SS(){if($O)return KO;$O=1;var t=_O();return KO=t({}.isPrototypeOf),KO}function CS(){if(QO)return ZO;QO=1;var t=yO(),e=t.navigator,i=e&&e.userAgent;return ZO=i?String(i):"",ZO}function kS(){if(tS)return JO;tS=1;var t,e,i=yO(),n=CS(),o=i.process,r=i.Deno,s=o&&o.versions||r&&r.version,a=s&&s.v8;return a&&(t=a.split("."),e=t[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&n&&(t=n.match(/Edge\/(\d+)/),(!t||t[1]>=74)&&(t=n.match(/Chrome\/(\d+)/),t&&(e=+t[1]))),JO=e,JO}function TS(){if(iS)return eS;iS=1;var t=kS(),e=mO(),i=yO(),n=i.String;return eS=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol("symbol detection");return!n(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41}),eS}function DS(){if(oS)return nS;oS=1;var t=TS();return nS=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,nS}function MS(){if(sS)return rS;sS=1;var t=OS(),e=OO(),i=SS(),n=DS(),o=Object;return rS=n?function(t){return"symbol"==typeof t}:function(n){var r=t("Symbol");return e(r)&&i(r.prototype,o(n))},rS}function IS(){if(hS)return aS;hS=1;var t=String;return aS=function(e){try{return t(e)}catch(i){return"Object"}},aS}function PS(){if(dS)return cS;dS=1;var t=OO(),e=IS(),i=TypeError;return cS=function(n){if(t(n))return n;throw new i(e(n)+" is not a function")},cS}function FS(){if(uS)return lS;uS=1;var t=PS(),e=bS();return lS=function(i,n){var o=i[n];return e(o)?void 0:t(o)},lS}function zS(){if(pS)return fS;pS=1;var t=IO(),e=OO(),i=xS(),n=TypeError;return fS=function(o,r){var s,a;if("string"===r&&e(s=o.toString)&&!i(a=t(s,o)))return a;if(e(s=o.valueOf)&&!i(a=t(s,o)))return a;if("string"!==r&&e(s=o.toString)&&!i(a=t(s,o)))return a;throw new n("Can't convert object to primitive value")},fS}var NS,AS,BS,jS,RS,LS,HS,WS,US,qS,VS,YS,XS,GS,KS,$S,ZS,QS,JS,tC,eC,iC,nC,oC,rC,sC,aC,hC,cC={exports:{}};function dC(){return AS||(AS=1,NS=!0),NS}function lC(){if(jS)return BS;jS=1;var t=yO(),e=Object.defineProperty;return BS=function(i,n){try{e(t,i,{value:n,configurable:!0,writable:!0})}catch(o){t[i]=n}return n},BS}function uC(){if(RS)return cC.exports;RS=1;var t=dC(),e=yO(),i=lC(),n="__core-js_shared__",o=cC.exports=e[n]||i(n,{});return(o.versions||(o.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),cC.exports}function fC(){if(HS)return LS;HS=1;var t=uC();return LS=function(e,i){return t[e]||(t[e]=i||{})},LS}function pC(){if(US)return WS;US=1;var t=wS(),e=Object;return WS=function(i){return e(t(i))},WS}function gC(){if(VS)return qS;VS=1;var t=_O(),e=pC(),i=t({}.hasOwnProperty);return qS=Object.hasOwn||function(t,n){return i(e(t),n)},qS}function vC(){if(XS)return YS;XS=1;var t=_O(),e=0,i=Math.random(),n=t(1.1.toString);return YS=function(t){return"Symbol("+(void 0===t?"":t)+")_"+n(++e+i,36)},YS}function yC(){if(KS)return GS;KS=1;var t=yO(),e=fC(),i=gC(),n=vC(),o=TS(),r=DS(),s=t.Symbol,a=e("wks"),h=r?s["for"]||s:s&&s.withoutSetter||n;return GS=function(t){return i(a,t)||(a[t]=o&&i(s,t)?s[t]:h("Symbol."+t)),a[t]},GS}function mC(){if(ZS)return $S;ZS=1;var t=IO(),e=xS(),i=MS(),n=FS(),o=zS(),r=yC(),s=TypeError,a=r("toPrimitive");return $S=function(r,h){if(!e(r)||i(r))return r;var c,d=n(r,a);if(d){if(void 0===h&&(h="default"),c=t(d,r,h),!e(c)||i(c))return c;throw new s("Can't convert object to primitive value")}return void 0===h&&(h="number"),o(r,h)},$S}function bC(){if(JS)return QS;JS=1;var t=mC(),e=MS();return QS=function(i){var n=t(i,"string");return e(n)?n:n+""},QS}function wC(){if(eC)return tC;eC=1;var t=yO(),e=xS(),i=t.document,n=e(i)&&e(i.createElement);return tC=function(t){return n?i.createElement(t):{}},tC}function _C(){if(nC)return iC;nC=1;var t=MO(),e=mO(),i=wC();return iC=!t&&!e(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}),iC}function xC(){if(oC)return DO;oC=1;var t=MO(),e=IO(),i=vS(),n=yS(),o=_S(),r=bC(),s=gC(),a=_C(),h=Object.getOwnPropertyDescriptor;return DO.f=t?h:function(t,c){if(t=o(t),c=r(c),a)try{return h(t,c)}catch(d){}if(s(t,c))return n(!e(i.f,t,c),t[c])},DO}function EC(){if(sC)return rC;sC=1;var t=mO(),e=OO(),i=/#|\.prototype\./,n=function(i,n){var h=r[o(i)];return h===a||h!==s&&(e(n)?t(n):!!n)},o=n.normalize=function(t){return String(t).replace(i,".").toLowerCase()},r=n.data={},s=n.NATIVE="N",a=n.POLYFILL="P";return rC=n,rC}function OC(){if(hC)return aC;hC=1;var t=EO(),e=PS(),i=bO(),n=t(t.bind);return aC=function(t,o){return e(t),void 0===o?t:i?n(t,o):function(){return t.apply(o,arguments)}},aC}var SC,CC,kC,TC,DC,MC,IC,PC,FC,zC,NC,AC,BC,jC,RC,LC,HC,WC,UC,qC,VC,YC,XC,GC,KC,$C,ZC,QC,JC,tk={};function ek(){if(CC)return SC;CC=1;var t=MO(),e=mO();return SC=t&&e(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),SC}function ik(){if(TC)return kC;TC=1;var t=xS(),e=String,i=TypeError;return kC=function(n){if(t(n))return n;throw new i(e(n)+" is not an object")},kC}function nk(){if(DC)return tk;DC=1;var t=MO(),e=_C(),i=ek(),n=ik(),o=bC(),r=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,h="enumerable",c="configurable",d="writable";return tk.f=t?i?function(t,e,i){if(n(t),e=o(e),n(i),"function"===typeof t&&"prototype"===e&&"value"in i&&d in i&&!i[d]){var r=a(t,e);r&&r[d]&&(t[e]=i.value,i={configurable:c in i?i[c]:r[c],enumerable:h in i?i[h]:r[h],writable:!1})}return s(t,e,i)}:s:function(t,i,a){if(n(t),i=o(i),n(a),e)try{return s(t,i,a)}catch(h){}if("get"in a||"set"in a)throw new r("Accessors not supported");return"value"in a&&(t[i]=a.value),t},tk}function ok(){if(IC)return MC;IC=1;var t=MO(),e=nk(),i=yS();return MC=t?function(t,n,o){return e.f(t,n,i(1,o))}:function(t,e,i){return t[e]=i,t},MC}function rk(){if(FC)return PC;FC=1;var t=yO(),e=wO(),i=EO(),n=OO(),o=xC().f,r=EC(),s=ES(),a=OC(),h=ok(),c=gC(),d=function(t){var i=function(n,o,r){if(this instanceof i){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,o)}return new t(n,o,r)}return e(t,this,arguments)};return i.prototype=t.prototype,i};return PC=function(e,l){var u,f,p,g,v,y,m,b,w,_=e.target,x=e.global,E=e.stat,O=e.proto,S=x?t:E?t[_]:t[_]&&t[_].prototype,C=x?s:s[_]||h(s,_,{})[_],k=C.prototype;for(g in l)u=r(x?g:_+(E?".":"#")+g,e.forced),f=!u&&S&&c(S,g),y=C[g],f&&(e.dontCallGetSet?(w=o(S,g),m=w&&w.value):m=S[g]),v=f&&m?m:l[g],(u||O||typeof y!=typeof v)&&(b=e.bind&&f?a(v,t):e.wrap&&f?d(v):O&&n(v)?i(v):v,(e.sham||v&&v.sham||y&&y.sham)&&h(b,"sham",!0),h(C,g,b),O&&(p=_+"Prototype",c(s,p)||h(s,p,{}),h(s[p],g,v),e.real&&k&&(u||!k[g])&&h(k,g,v)))},PC}function sk(){if(NC)return zC;NC=1;var t=Math.ceil,e=Math.floor;return zC=Math.trunc||function(i){var n=+i;return(n>0?e:t)(n)},zC}function ak(){if(BC)return AC;BC=1;var t=sk();return AC=function(e){var i=+e;return i!==i||0===i?0:t(i)},AC}function hk(){if(RC)return jC;RC=1;var t=ak(),e=Math.max,i=Math.min;return jC=function(n,o){var r=t(n);return r<0?e(r+o,0):i(r,o)},jC}function ck(){if(HC)return LC;HC=1;var t=ak(),e=Math.min;return LC=function(i){var n=t(i);return n>0?e(n,9007199254740991):0},LC}function dk(){if(UC)return WC;UC=1;var t=ck();return WC=function(e){return t(e.length)},WC}function lk(){if(VC)return qC;VC=1;var t=_S(),e=hk(),i=dk(),n=function(n){return function(o,r,s){var a=t(o),h=i(a);if(0===h)return!n&&-1;var c,d=e(s,h);if(n&&r!==r){while(h>d)if(c=a[d++],c!==c)return!0}else for(;h>d;d++)if((n||d in a)&&a[d]===r)return n||d||0;return!n&&-1}};return qC={includes:n(!0),indexOf:n(!1)},qC}function uk(){return XC||(XC=1,YC={}),YC}function fk(){if(KC)return GC;KC=1;var t=_O(),e=gC(),i=_S(),n=lk().indexOf,o=uk(),r=t([].push);return GC=function(t,s){var a,h=i(t),c=0,d=[];for(a in h)!e(o,a)&&e(h,a)&&r(d,a);while(s.length>c)e(h,a=s[c++])&&(~n(d,a)||r(d,a));return d},GC}function pk(){return ZC||(ZC=1,$C=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),$C}function gk(){if(JC)return QC;JC=1;var t=fk(),e=pk();return QC=Object.keys||function(i){return t(i,e)},QC}var vk,yk,mk,bk,wk,_k,xk,Ek,Ok,Sk,Ck={};function kk(){return vk||(vk=1,Ck.f=Object.getOwnPropertySymbols),Ck}function Tk(){if(mk)return yk;mk=1;var t=MO(),e=_O(),i=IO(),n=mO(),o=gk(),r=kk(),s=vS(),a=pC(),h=mS(),c=Object.assign,d=Object.defineProperty,l=e([].concat);return yk=!c||n(function(){if(t&&1!==c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},i={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(t){i[t]=t}),7!==c({},e)[n]||o(c({},i)).join("")!==r})?function(e,n){var c=a(e),d=arguments.length,u=1,f=r.f,p=s.f;while(d>u){var g,v=h(arguments[u++]),y=f?l(o(v),f(v)):o(v),m=y.length,b=0;while(m>b)g=y[b++],t&&!i(p,v,g)||(c[g]=v[g])}return c}:c,yk}function Dk(){if(bk)return vO;bk=1;var t=rk(),e=Tk();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),vO}function Mk(){if(_k)return wk;_k=1,Dk();var t=ES();return wk=t.Object.assign,wk}function Ik(){if(Ek)return xk;Ek=1;var t=Mk();return xk=t,xk}function Pk(){return Sk||(Sk=1,Ok=Ik()),Ok}var Fk,zk,Nk,Ak,Bk,jk,Rk,Lk,Hk,Wk,Uk,qk,Vk,Yk,Xk,Gk=Pk(),Kk=JE(Gk),$k={};function Zk(){if(zk)return Fk;zk=1;var t=_O();return Fk=t([].slice),Fk}function Qk(){if(Ak)return Nk;Ak=1;var t=_O(),e=PS(),i=xS(),n=gC(),o=Zk(),r=bO(),s=Function,a=t([].concat),h=t([].join),c={},d=function(t,e,i){if(!n(c,e)){for(var o=[],r=0;r<e;r++)o[r]="a["+r+"]";c[e]=s("C,a","return new C("+h(o,",")+")")}return c[e](t,i)};return Nk=r?s.bind:function(t){var n=e(this),r=n.prototype,s=o(arguments,1),h=function(){var e=a(s,o(arguments));return this instanceof h?d(n,e.length,e):n.apply(t,e)};return i(r)&&(h.prototype=r),h},Nk}function Jk(){if(Bk)return $k;Bk=1;var t=rk(),e=Qk();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),$k}function tT(){if(Rk)return jk;Rk=1;var t=yO(),e=ES();return jk=function(i,n){var o=e[i+"Prototype"],r=o&&o[n];if(r)return r;var s=t[i],a=s&&s.prototype;return a&&a[n]},jk}function eT(){if(Hk)return Lk;Hk=1,Jk();var t=tT();return Lk=t("Function","bind"),Lk}function iT(){if(Uk)return Wk;Uk=1;var t=SS(),e=eT(),i=Function.prototype;return Wk=function(n){var o=n.bind;return n===i||t(i,n)&&o===i.bind?e:o},Wk}function nT(){if(Vk)return qk;Vk=1;var t=iT();return qk=t,qk}function oT(){return Xk||(Xk=1,Yk=nT()),Yk}var rT=oT(),sT=JE(rT);function aT(t,e,i,n){t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.closePath()}function hT(t,e,i,n){t.beginPath(),t.rect(e-n,i-n,2*n,2*n),t.closePath()}function cT(t,e,i,n){t.beginPath(),n*=1.15,i+=.275*n;const o=2*n,r=o/2,s=Math.sqrt(3)/6*o,a=Math.sqrt(o*o-r*r);t.moveTo(e,i-(a-s)),t.lineTo(e+r,i+s),t.lineTo(e-r,i+s),t.lineTo(e,i-(a-s)),t.closePath()}function dT(t,e,i,n){t.beginPath(),n*=1.15,i-=.275*n;const o=2*n,r=o/2,s=Math.sqrt(3)/6*o,a=Math.sqrt(o*o-r*r);t.moveTo(e,i+(a-s)),t.lineTo(e+r,i-s),t.lineTo(e-r,i-s),t.lineTo(e,i+(a-s)),t.closePath()}function lT(t,e,i,n){t.beginPath(),n*=.82,i+=.1*n;for(let o=0;o<10;o++){const r=o%2===0?1.3*n:.5*n;t.lineTo(e+r*Math.sin(2*o*Math.PI/10),i-r*Math.cos(2*o*Math.PI/10))}t.closePath()}function uT(t,e,i,n){t.beginPath(),t.lineTo(e,i+n),t.lineTo(e+n,i),t.lineTo(e,i-n),t.lineTo(e-n,i),t.closePath()}function fT(t,e,i,n,o,r){const s=Math.PI/180;n-2*r<0&&(r=n/2),o-2*r<0&&(r=o/2),t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.arc(e+n-r,i+r,r,270*s,360*s,!1),t.lineTo(e+n,i+o-r),t.arc(e+n-r,i+o-r,r,0,90*s,!1),t.lineTo(e+r,i+o),t.arc(e+r,i+o-r,r,90*s,180*s,!1),t.lineTo(e,i+r),t.arc(e+r,i+r,r,180*s,270*s,!1),t.closePath()}function pT(t,e,i,n,o){const r=.5522848,s=n/2*r,a=o/2*r,h=e+n,c=i+o,d=e+n/2,l=i+o/2;t.beginPath(),t.moveTo(e,l),t.bezierCurveTo(e,l-a,d-s,i,d,i),t.bezierCurveTo(d+s,i,h,l-a,h,l),t.bezierCurveTo(h,l+a,d+s,c,d,c),t.bezierCurveTo(d-s,c,e,l+a,e,l),t.closePath()}function gT(t,e,i,n,o){const r=1/3,s=n,a=o*r,h=.5522848,c=s/2*h,d=a/2*h,l=e+s,u=i+a,f=e+s/2,p=i+a/2,g=i+(o-a/2),v=i+o;t.beginPath(),t.moveTo(l,p),t.bezierCurveTo(l,p+d,f+c,u,f,u),t.bezierCurveTo(f-c,u,e,p+d,e,p),t.bezierCurveTo(e,p-d,f-c,i,f,i),t.bezierCurveTo(f+c,i,l,p-d,l,p),t.lineTo(l,g),t.bezierCurveTo(l,g+d,f+c,v,f,v),t.bezierCurveTo(f-c,v,e,g+d,e,g),t.lineTo(e,p)}function vT(t,e,i,n,o,r){t.beginPath(),t.moveTo(e,i);const s=r.length,a=n-e,h=o-i,c=h/a;let d=Math.sqrt(a*a+h*h),l=0,u=!0,f=0,p=+r[0];while(d>=.1)p=+r[l++%s],p>d&&(p=d),f=Math.sqrt(p*p/(1+c*c)),f=a<0?-f:f,e+=f,i+=c*f,!0===u?t.lineTo(e,i):t.moveTo(e,i),d-=p,u=!u}function yT(t,e,i,n){t.beginPath();const o=6,r=2*Math.PI/o;t.moveTo(e+n,i);for(let s=1;s<o;s++)t.lineTo(e+n*Math.cos(r*s),i+n*Math.sin(r*s));t.closePath()}const mT={circle:aT,dashedLine:vT,database:gT,diamond:uT,ellipse:pT,ellipse_vis:pT,hexagon:yT,roundRect:fT,square:hT,star:lT,triangle:cT,triangleDown:dT};function bT(t){return Object.prototype.hasOwnProperty.call(mT,t)?mT[t]:function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];CanvasRenderingContext2D.prototype[t].call(e,n)}}var wT,_T={exports:{}};function xT(){return wT||(wT=1,function(t){function e(t){if(t)return i(t)}function i(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if(i=n[o],i===e||i.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){i=i.slice(0);n=0;for(var o=i.length;n<o;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(_T)),_T.exports}var ET,OT,ST,CT,kT,TT,DT,MT,IT,PT,FT,zT,NT,AT,BT,jT,RT,LT,HT,WT,UT,qT=xT(),VT=JE(qT),YT={};function XT(){if(OT)return ET;OT=1;var t=xO();return ET=Array.isArray||function(e){return"Array"===t(e)},ET}function GT(){if(CT)return ST;CT=1;var t=TypeError,e=9007199254740991;return ST=function(i){if(i>e)throw t("Maximum allowed index exceeded");return i},ST}function KT(){if(TT)return kT;TT=1;var t=MO(),e=nk(),i=yS();return kT=function(n,o,r){t?e.f(n,o,i(0,r)):n[o]=r},kT}function $T(){if(MT)return DT;MT=1;var t=yC(),e=t("toStringTag"),i={};return i[e]="z",DT="[object z]"===String(i),DT}function ZT(){if(PT)return IT;PT=1;var t=$T(),e=OO(),i=xO(),n=yC(),o=n("toStringTag"),r=Object,s="Arguments"===i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(i){}};return IT=t?i:function(t){var n,h,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(h=a(n=r(t),o))?h:s?i(n):"Object"===(c=i(n))&&e(n.callee)?"Arguments":c},IT}function QT(){if(zT)return FT;zT=1;var t=_O(),e=OO(),i=uC(),n=t(Function.toString);return e(i.inspectSource)||(i.inspectSource=function(t){return n(t)}),FT=i.inspectSource,FT}function JT(){if(AT)return NT;AT=1;var t=_O(),e=mO(),i=OO(),n=ZT(),o=OS(),r=QT(),s=function(){},a=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,c=t(h.exec),d=!h.test(s),l=function(t){if(!i(t))return!1;try{return a(s,[],t),!0}catch(e){return!1}},u=function(t){if(!i(t))return!1;switch(n(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(h,r(t))}catch(e){return!0}};return u.sham=!0,NT=!a||e(function(){var t;return l(l.call)||!l(Object)||!l(function(){t=!0})||t})?u:l,NT}function tD(){if(jT)return BT;jT=1;var t=XT(),e=JT(),i=xS(),n=yC(),o=n("species"),r=Array;return BT=function(n){var s;return t(n)&&(s=n.constructor,e(s)&&(s===r||t(s.prototype))?s=void 0:i(s)&&(s=s[o],null===s&&(s=void 0))),void 0===s?r:s},BT}function eD(){if(LT)return RT;LT=1;var t=tD();return RT=function(e,i){return new(t(e))(0===i?0:i)},RT}function iD(){if(WT)return HT;WT=1;var t=mO(),e=yC(),i=kS(),n=e("species");return HT=function(e){return i>=51||!t(function(){var t=[],i=t.constructor={};return i[n]=function(){return{foo:1}},1!==t[e](Boolean).foo})},HT}function nD(){if(UT)return YT;UT=1;var t=rk(),e=mO(),i=XT(),n=xS(),o=pC(),r=dk(),s=GT(),a=KT(),h=eD(),c=iD(),d=yC(),l=kS(),u=d("isConcatSpreadable"),f=l>=51||!e(function(){var t=[];return t[u]=!1,t.concat()[0]!==t}),p=function(t){if(!n(t))return!1;var e=t[u];return void 0!==e?!!e:i(t)},g=!f||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:g},{concat:function(t){var e,i,n,c,d,l=o(this),u=h(l,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(d=-1===e?l:arguments[e],p(d))for(c=r(d),s(f+c),i=0;i<c;i++,f++)i in d&&a(u,f,d[i]);else s(f+1),a(u,f++,d);return u.length=f,u}}),YT}var oD,rD,sD={},aD={};function hD(){if(rD)return oD;rD=1;var t=ZT(),e=String;return oD=function(i){if("Symbol"===t(i))throw new TypeError("Cannot convert a Symbol value to a string");return e(i)},oD}var cD,dD,lD,uD,fD,pD,gD,vD={};function yD(){if(cD)return vD;cD=1;var t=MO(),e=ek(),i=nk(),n=ik(),o=_S(),r=gk();return vD.f=t&&!e?Object.defineProperties:function(t,e){n(t);var s,a=o(e),h=r(e),c=h.length,d=0;while(c>d)i.f(t,s=h[d++],a[s]);return t},vD}function mD(){if(lD)return dD;lD=1;var t=OS();return dD=t("document","documentElement"),dD}function bD(){if(fD)return uD;fD=1;var t=fC(),e=vC(),i=t("keys");return uD=function(t){return i[t]||(i[t]=e(t))},uD}function wD(){if(gD)return pD;gD=1;var t,e=ik(),i=yD(),n=pk(),o=uk(),r=mD(),s=wC(),a=bD(),h=">",c="<",d="prototype",l="script",u=a("IE_PROTO"),f=function(){},p=function(t){return c+l+h+t+c+"/"+l+h},g=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){var t,e=s("iframe"),i="java"+l+":";return e.style.display="none",r.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(p("document.F=Object")),t.close(),t.F},y=function(){try{t=new ActiveXObject("htmlfile")}catch(i){}y="undefined"!=typeof document?document.domain&&t?g(t):v():g(t);var e=n.length;while(e--)delete y[d][n[e]];return y()};return o[u]=!0,pD=Object.create||function(t,n){var o;return null!==t?(f[d]=e(t),o=new f,f[d]=null,o[u]=t):o=y(),void 0===n?o:i.f(o,n)},pD}var _D,xD={};function ED(){if(_D)return xD;_D=1;var t=fk(),e=pk(),i=e.concat("length","prototype");return xD.f=Object.getOwnPropertyNames||function(e){return t(e,i)},xD}var OD,SD,CD,kD,TD,DD={};function MD(){if(OD)return DD;OD=1;var t=xO(),e=_S(),i=ED().f,n=Zk(),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return i(t)}catch(e){return n(o)}};return DD.f=function(n){return o&&"Window"===t(n)?r(n):i(e(n))},DD}function ID(){if(CD)return SD;CD=1;var t=ok();return SD=function(e,i,n,o){return o&&o.enumerable?e[i]=n:t(e,i,n),e},SD}function PD(){if(TD)return kD;TD=1;var t=nk();return kD=function(e,i,n){return t.f(e,i,n)},kD}var FD,zD,ND,AD,BD,jD,RD,LD,HD,WD,UD,qD,VD,YD,XD,GD,KD={};function $D(){if(FD)return KD;FD=1;var t=yC();return KD.f=t,KD}function ZD(){if(ND)return zD;ND=1;var t=ES(),e=gC(),i=$D(),n=nk().f;return zD=function(o){var r=t.Symbol||(t.Symbol={});e(r,o)||n(r,o,{value:i.f(o)})},zD}function QD(){if(BD)return AD;BD=1;var t=IO(),e=OS(),i=yC(),n=ID();return AD=function(){var o=e("Symbol"),r=o&&o.prototype,s=r&&r.valueOf,a=i("toPrimitive");r&&!r[a]&&n(r,a,function(e){return t(s,this)},{arity:1})},AD}function JD(){if(RD)return jD;RD=1;var t=$T(),e=ZT();return jD=t?{}.toString:function(){return"[object "+e(this)+"]"},jD}function tM(){if(HD)return LD;HD=1;var t=$T(),e=nk().f,i=ok(),n=gC(),o=JD(),r=yC(),s=r("toStringTag");return LD=function(r,a,h,c){var d=h?r:r&&r.prototype;d&&(n(d,s)||e(d,s,{configurable:!0,value:a}),c&&!t&&i(d,"toString",o))},LD}function eM(){if(UD)return WD;UD=1;var t=yO(),e=OO(),i=t.WeakMap;return WD=e(i)&&/native code/.test(String(i)),WD}function iM(){if(VD)return qD;VD=1;var t,e,i,n=eM(),o=yO(),r=xS(),s=ok(),a=gC(),h=uC(),c=bD(),d=uk(),l="Object already initialized",u=o.TypeError,f=o.WeakMap,p=function(n){return i(n)?e(n):t(n,{})},g=function(t){return function(i){var n;if(!r(i)||(n=e(i)).type!==t)throw new u("Incompatible receiver, "+t+" required");return n}};if(n||h.state){var v=h.state||(h.state=new f);v.get=v.get,v.has=v.has,v.set=v.set,t=function(t,e){if(v.has(t))throw new u(l);return e.facade=t,v.set(t,e),e},e=function(t){return v.get(t)||{}},i=function(t){return v.has(t)}}else{var y=c("state");d[y]=!0,t=function(t,e){if(a(t,y))throw new u(l);return e.facade=t,s(t,y,e),e},e=function(t){return a(t,y)?t[y]:{}},i=function(t){return a(t,y)}}return qD={set:t,get:e,has:i,enforce:p,getterFor:g},qD}function nM(){if(XD)return YD;XD=1;var t=OC(),e=_O(),i=mS(),n=pC(),o=dk(),r=eD(),s=e([].push),a=function(e){var a=1===e,h=2===e,c=3===e,d=4===e,l=6===e,u=7===e,f=5===e||l;return function(p,g,v,y){for(var m,b,w=n(p),_=i(w),x=o(_),E=t(g,v),O=0,S=y||r,C=a?S(p,x):h||u?S(p,0):void 0;x>O;O++)if((f||O in _)&&(m=_[O],b=E(m,O,w),e))if(a)C[O]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return O;case 2:s(C,m)}else switch(e){case 4:return!1;case 7:s(C,m)}return l?-1:c||d?d:C}};return YD={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},YD}function oM(){if(GD)return aD;GD=1;var t=rk(),e=yO(),i=IO(),n=_O(),o=dC(),r=MO(),s=TS(),a=mO(),h=gC(),c=SS(),d=ik(),l=_S(),u=bC(),f=hD(),p=yS(),g=wD(),v=gk(),y=ED(),m=MD(),b=kk(),w=xC(),_=nk(),x=yD(),E=vS(),O=ID(),S=PD(),C=fC(),k=bD(),T=uk(),D=vC(),M=yC(),I=$D(),P=ZD(),F=QD(),z=tM(),N=iM(),A=nM().forEach,B=k("hidden"),j="Symbol",R="prototype",L=N.set,H=N.getterFor(j),W=Object[R],U=e.Symbol,q=U&&U[R],V=e.RangeError,Y=e.TypeError,X=e.QObject,G=w.f,K=_.f,$=m.f,Z=E.f,Q=n([].push),J=C("symbols"),tt=C("op-symbols"),et=C("wks"),it=!X||!X[R]||!X[R].findChild,nt=function(t,e,i){var n=G(W,e);n&&delete W[e],K(t,e,i),n&&t!==W&&K(W,e,n)},ot=r&&a(function(){return 7!==g(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?nt:K,rt=function(t,e){var i=J[t]=g(q);return L(i,{type:j,tag:t,description:e}),r||(i.description=e),i},st=function(t,e,i){t===W&&st(tt,e,i),d(t);var n=u(e);return d(i),h(J,n)?(i.enumerable?(h(t,B)&&t[B][n]&&(t[B][n]=!1),i=g(i,{enumerable:p(0,!1)})):(h(t,B)||K(t,B,p(1,g(null))),t[B][n]=!0),ot(t,n,i)):K(t,n,i)},at=function(t,e){d(t);var n=l(e),o=v(n).concat(ut(n));return A(o,function(e){r&&!i(ct,n,e)||st(t,e,n[e])}),t},ht=function(t,e){return void 0===e?g(t):at(g(t),e)},ct=function(t){var e=u(t),n=i(Z,this,e);return!(this===W&&h(J,e)&&!h(tt,e))&&(!(n||!h(this,e)||!h(J,e)||h(this,B)&&this[B][e])||n)},dt=function(t,e){var i=l(t),n=u(e);if(i!==W||!h(J,n)||h(tt,n)){var o=G(i,n);return!o||!h(J,n)||h(i,B)&&i[B][n]||(o.enumerable=!0),o}},lt=function(t){var e=$(l(t)),i=[];return A(e,function(t){h(J,t)||h(T,t)||Q(i,t)}),i},ut=function(t){var e=t===W,i=$(e?tt:l(t)),n=[];return A(i,function(t){!h(J,t)||e&&!h(W,t)||Q(n,J[t])}),n};return s||(U=function(){if(c(q,this))throw new Y("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?f(arguments[0]):void 0,n=D(t),o=function(t){var r=void 0===this?e:this;r===W&&i(o,tt,t),h(r,B)&&h(r[B],n)&&(r[B][n]=!1);var s=p(1,t);try{ot(r,n,s)}catch(a){if(!(a instanceof V))throw a;nt(r,n,s)}};return r&&it&&ot(W,n,{configurable:!0,set:o}),rt(n,t)},q=U[R],O(q,"toString",function(){return H(this).tag}),O(U,"withoutSetter",function(t){return rt(D(t),t)}),E.f=ct,_.f=st,x.f=at,w.f=dt,y.f=m.f=lt,b.f=ut,I.f=function(t){return rt(M(t),t)},r&&(S(q,"description",{configurable:!0,get:function(){return H(this).description}}),o||O(W,"propertyIsEnumerable",ct,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:U}),A(v(et),function(t){P(t)}),t({target:j,stat:!0,forced:!s},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),t({target:"Object",stat:!0,forced:!s,sham:!r},{create:ht,defineProperty:st,defineProperties:at,getOwnPropertyDescriptor:dt}),t({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:lt}),F(),z(U,j),T[B]=!0,aD}var rM,sM,aM,hM={};function cM(){if(sM)return rM;sM=1;var t=TS();return rM=t&&!!Symbol["for"]&&!!Symbol.keyFor,rM}function dM(){if(aM)return hM;aM=1;var t=rk(),e=OS(),i=gC(),n=hD(),o=fC(),r=cM(),s=o("string-to-symbol-registry"),a=o("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!r},{for:function(t){var o=n(t);if(i(s,o))return s[o];var r=e("Symbol")(o);return s[o]=r,a[r]=o,r}}),hM}var lM,uM={};function fM(){if(lM)return uM;lM=1;var t=rk(),e=gC(),i=MS(),n=IS(),o=fC(),r=cM(),s=o("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!r},{keyFor:function(t){if(!i(t))throw new TypeError(n(t)+" is not a symbol");if(e(s,t))return s[t]}}),uM}var pM,gM,vM,yM={};function mM(){if(gM)return pM;gM=1;var t=_O(),e=XT(),i=OO(),n=xO(),o=hD(),r=t([].push);return pM=function(t){if(i(t))return t;if(e(t)){for(var s=t.length,a=[],h=0;h<s;h++){var c=t[h];"string"==typeof c?r(a,c):"number"!=typeof c&&"Number"!==n(c)&&"String"!==n(c)||r(a,o(c))}var d=a.length,l=!0;return function(t,i){if(l)return l=!1,i;if(e(this))return i;for(var n=0;n<d;n++)if(a[n]===t)return i}}},pM}function bM(){if(vM)return yM;vM=1;var t=rk(),e=OS(),i=wO(),n=IO(),o=_O(),r=mO(),s=OO(),a=MS(),h=Zk(),c=mM(),d=TS(),l=String,u=e("JSON","stringify"),f=o(/./.exec),p=o("".charAt),g=o("".charCodeAt),v=o("".replace),y=o(1.1.toString),m=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||r(function(){var t=e("Symbol")("stringify detection");return"[null]"!==u([t])||"{}"!==u({a:t})||"{}"!==u(Object(t))}),x=r(function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}),E=function(t,e){var o=h(arguments),r=c(e);if(s(r)||void 0!==t&&!a(t))return o[1]=function(t,e){if(s(r)&&(e=n(r,this,l(t),e)),!a(e))return e},i(u,null,o)},O=function(t,e,i){var n=p(i,e-1),o=p(i,e+1);return f(b,t)&&!f(w,o)||f(w,t)&&!f(b,n)?"\\u"+y(g(t,0),16):t};return u&&t({target:"JSON",stat:!0,arity:3,forced:_||x},{stringify:function(t,e,n){var o=h(arguments),r=i(_?E:u,null,o);return x&&"string"==typeof r?v(r,m,O):r}}),yM}var wM,_M,xM={};function EM(){if(wM)return xM;wM=1;var t=rk(),e=TS(),i=mO(),n=kk(),o=pC(),r=!e||i(function(){n.f(1)});return t({target:"Object",stat:!0,forced:r},{getOwnPropertySymbols:function(t){var e=n.f;return e?e(o(t)):[]}}),xM}function OM(){return _M||(_M=1,oM(),dM(),fM(),bM(),EM()),sD}var SM,CM={};function kM(){if(SM)return CM;SM=1;var t=ZD();return t("asyncDispose"),CM}var TM,DM={};function MM(){if(TM)return DM;TM=1;var t=ZD();return t("asyncIterator"),DM}var IM,PM={};function FM(){if(IM)return PM;IM=1;var t=ZD();return t("dispose"),PM}var zM,NM={};function AM(){if(zM)return NM;zM=1;var t=ZD();return t("hasInstance"),NM}var BM,jM={};function RM(){if(BM)return jM;BM=1;var t=ZD();return t("isConcatSpreadable"),jM}var LM,HM={};function WM(){if(LM)return HM;LM=1;var t=ZD();return t("iterator"),HM}var UM,qM={};function VM(){if(UM)return qM;UM=1;var t=ZD();return t("match"),qM}var YM,XM={};function GM(){if(YM)return XM;YM=1;var t=ZD();return t("matchAll"),XM}var KM,$M={};function ZM(){if(KM)return $M;KM=1;var t=ZD();return t("replace"),$M}var QM,JM={};function tI(){if(QM)return JM;QM=1;var t=ZD();return t("search"),JM}var eI,iI={};function nI(){if(eI)return iI;eI=1;var t=ZD();return t("species"),iI}var oI,rI={};function sI(){if(oI)return rI;oI=1;var t=ZD();return t("split"),rI}var aI,hI={};function cI(){if(aI)return hI;aI=1;var t=ZD(),e=QD();return t("toPrimitive"),e(),hI}var dI,lI={};function uI(){if(dI)return lI;dI=1;var t=OS(),e=ZD(),i=tM();return e("toStringTag"),i(t("Symbol"),"Symbol"),lI}var fI,pI={};function gI(){if(fI)return pI;fI=1;var t=ZD();return t("unscopables"),pI}var vI,yI,mI,bI={};function wI(){if(vI)return bI;vI=1;var t=yO(),e=tM();return e(t.JSON,"JSON",!0),bI}function _I(){if(mI)return yI;mI=1,nD(),OM(),kM(),MM(),FM(),AM(),RM(),WM(),VM(),GM(),ZM(),tI(),nI(),sI(),cI(),uI(),gI(),wI();var t=ES();return yI=t.Symbol,yI}var xI,EI,OI,SI,CI,kI,TI,DI,MI,II,PI,FI,zI,NI,AI,BI,jI,RI,LI,HI,WI,UI,qI,VI,YI,XI,GI,KI,$I,ZI,QI,JI,tP,eP,iP,nP={};function oP(){return EI||(EI=1,xI=function(){}),xI}function rP(){return SI||(SI=1,OI={}),OI}function sP(){if(kI)return CI;kI=1;var t=MO(),e=gC(),i=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,o=e(i,"name"),r=o&&"something"===function(){}.name,s=o&&(!t||t&&n(i,"name").configurable);return CI={EXISTS:o,PROPER:r,CONFIGURABLE:s},CI}function aP(){if(DI)return TI;DI=1;var t=mO();return TI=!t(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),TI}function hP(){if(II)return MI;II=1;var t=gC(),e=OO(),i=pC(),n=bD(),o=aP(),r=n("IE_PROTO"),s=Object,a=s.prototype;return MI=o?s.getPrototypeOf:function(n){var o=i(n);if(t(o,r))return o[r];var h=o.constructor;return e(h)&&o instanceof h?h.prototype:o instanceof s?a:null},MI}function cP(){if(FI)return PI;FI=1;var t,e,i,n=mO(),o=OO(),r=xS(),s=wD(),a=hP(),h=ID(),c=yC(),d=dC(),l=c("iterator"),u=!1;[].keys&&(i=[].keys(),"next"in i?(e=a(a(i)),e!==Object.prototype&&(t=e)):u=!0);var f=!r(t)||n(function(){var e={};return t[l].call(e)!==e});return f?t={}:d&&(t=s(t)),o(t[l])||h(t,l,function(){return this}),PI={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:u},PI}function dP(){if(NI)return zI;NI=1;var t=cP().IteratorPrototype,e=wD(),i=yS(),n=tM(),o=rP(),r=function(){return this};return zI=function(s,a,h,c){var d=a+" Iterator";return s.prototype=e(t,{next:i(+!c,h)}),n(s,d,!1,!0),o[d]=r,s},zI}function lP(){if(BI)return AI;BI=1;var t=_O(),e=PS();return AI=function(i,n,o){try{return t(e(Object.getOwnPropertyDescriptor(i,n)[o]))}catch(r){}},AI}function uP(){if(RI)return jI;RI=1;var t=xS();return jI=function(e){return t(e)||null===e},jI}function fP(){if(HI)return LI;HI=1;var t=uP(),e=String,i=TypeError;return LI=function(n){if(t(n))return n;throw new i("Can't set "+e(n)+" as a prototype")},LI}function pP(){if(UI)return WI;UI=1;var t=lP(),e=xS(),i=wS(),n=fP();return WI=Object.setPrototypeOf||("__proto__"in{}?function(){var o,r=!1,s={};try{o=t(Object.prototype,"__proto__","set"),o(s,[]),r=s instanceof Array}catch(a){}return function(t,s){return i(t),n(s),e(t)?(r?o(t,s):t.__proto__=s,t):t}}():void 0),WI}function gP(){if(VI)return qI;VI=1;var t=rk(),e=IO(),i=dC(),n=sP(),o=OO(),r=dP(),s=hP(),a=pP(),h=tM(),c=ok(),d=ID(),l=yC(),u=rP(),f=cP(),p=n.PROPER,g=n.CONFIGURABLE,v=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,m=l("iterator"),b="keys",w="values",_="entries",x=function(){return this};return qI=function(n,l,f,E,O,S,C){r(f,l,E);var k,T,D,M=function(t){if(t===O&&N)return N;if(!y&&t&&t in F)return F[t];switch(t){case b:return function(){return new f(this,t)};case w:return function(){return new f(this,t)};case _:return function(){return new f(this,t)}}return function(){return new f(this)}},I=l+" Iterator",P=!1,F=n.prototype,z=F[m]||F["@@iterator"]||O&&F[O],N=!y&&z||M(O),A="Array"===l&&F.entries||z;if(A&&(k=s(A.call(new n)),k!==Object.prototype&&k.next&&(i||s(k)===v||(a?a(k,v):o(k[m])||d(k,m,x)),h(k,I,!0,!0),i&&(u[I]=x))),p&&O===w&&z&&z.name!==w&&(!i&&g?c(F,"name",w):(P=!0,N=function(){return e(z,this)})),O)if(T={values:M(w),keys:S?N:M(b),entries:M(_)},C)for(D in T)(y||P||!(D in F))&&d(F,D,T[D]);else t({target:l,proto:!0,forced:y||P},T);return i&&!C||F[m]===N||d(F,m,N,{name:O}),u[l]=N,T},qI}function vP(){return XI||(XI=1,YI=function(t,e){return{value:t,done:e}}),YI}function yP(){if(KI)return GI;KI=1;var t=_S(),e=oP(),i=rP(),n=iM(),o=nk().f,r=gP(),s=vP(),a=dC(),h=MO(),c="Array Iterator",d=n.set,l=n.getterFor(c);GI=r(Array,"Array",function(e,i){d(this,{type:c,target:t(e),index:0,kind:i})},function(){var t=l(this),e=t.target,i=t.index++;if(!e||i>=e.length)return t.target=null,s(void 0,!0);switch(t.kind){case"keys":return s(i,!1);case"values":return s(e[i],!1)}return s([i,e[i]],!1)},"values");var u=i.Arguments=i.Array;if(e("keys"),e("values"),e("entries"),!a&&h&&"values"!==u.name)try{o(u,"name",{value:"values"})}catch(f){}return GI}function mP(){return ZI||(ZI=1,$I={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),$I}function bP(){if(QI)return nP;QI=1,yP();var t=mP(),e=yO(),i=tM(),n=rP();for(var o in t)i(e[o],o),n[o]=n.Array;return nP}function wP(){if(tP)return JI;tP=1;var t=_I();return bP(),JI=t,JI}function _P(){return iP||(iP=1,eP=wP()),eP}var xP,EP,OP,SP,CP,kP,TP,DP,MP,IP=_P(),PP=JE(IP),FP={};function zP(){if(xP)return FP;xP=1;var t=rk(),e=XT(),i=JT(),n=xS(),o=hk(),r=dk(),s=_S(),a=KT(),h=yC(),c=iD(),d=Zk(),l=c("slice"),u=h("species"),f=Array,p=Math.max;return t({target:"Array",proto:!0,forced:!l},{slice:function(t,h){var c,l,g,v=s(this),y=r(v),m=o(t,y),b=o(void 0===h?y:h,y);if(e(v)&&(c=v.constructor,i(c)&&(c===f||e(c.prototype))?c=void 0:n(c)&&(c=c[u],null===c&&(c=void 0)),c===f||void 0===c))return d(v,m,b);for(l=new(void 0===c?f:c)(p(b-m,0)),g=0;m<b;m++,g++)m in v&&a(l,g,v[m]);return l.length=g,l}}),FP}function NP(){if(OP)return EP;OP=1,zP();var t=tT();return EP=t("Array","slice"),EP}function AP(){if(CP)return SP;CP=1;var t=SS(),e=NP(),i=Array.prototype;return SP=function(n){var o=n.slice;return n===i||t(i,n)&&o===i.slice?e:o},SP}function BP(){if(TP)return kP;TP=1;var t=AP();return kP=t,kP}function jP(){return MP||(MP=1,DP=BP()),DP}var RP,LP,HP=jP(),WP=JE(HP);function UP(){if(LP)return RP;LP=1;var t=OS(),e=_O(),i=ED(),n=kk(),o=ik(),r=e([].concat);return RP=t("Reflect","ownKeys")||function(t){var e=i.f(o(t)),s=n.f;return s?r(e,s(t)):e},RP}var qP,VP,YP,XP,GP,KP,$P,ZP={};function QP(){if(qP)return ZP;qP=1;var t=rk(),e=XT();return t({target:"Array",stat:!0},{isArray:e}),ZP}function JP(){if(YP)return VP;YP=1,QP();var t=ES();return VP=t.Array.isArray,VP}function tF(){if(GP)return XP;GP=1;var t=JP();return XP=t,XP}function eF(){return $P||($P=1,KP=tF()),KP}var iF,nF,oF,rF,sF,aF,hF,cF,dF,lF=eF(),uF=JE(lF),fF={};function pF(){if(iF)return fF;iF=1;var t=rk(),e=nM().map,i=iD(),n=i("map");return t({target:"Array",proto:!0,forced:!n},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),fF}function gF(){if(oF)return nF;oF=1,pF();var t=tT();return nF=t("Array","map"),nF}function vF(){if(sF)return rF;sF=1;var t=SS(),e=gF(),i=Array.prototype;return rF=function(n){var o=n.map;return n===i||t(i,n)&&o===i.map?e:o},rF}function yF(){if(hF)return aF;hF=1;var t=vF();return aF=t,aF}function mF(){return dF||(dF=1,cF=yF()),cF}var bF,wF,_F,xF,EF,OF,SF,CF=mF(),kF=JE(CF),TF={};function DF(){if(bF)return TF;bF=1;var t=rk(),e=pC(),i=gk(),n=mO(),o=n(function(){i(1)});return t({target:"Object",stat:!0,forced:o},{keys:function(t){return i(e(t))}}),TF}function MF(){if(_F)return wF;_F=1,DF();var t=ES();return wF=t.Object.keys,wF}function IF(){if(EF)return xF;EF=1;var t=MF();return xF=t,xF}function PF(){return SF||(SF=1,OF=IF()),OF}var FF,zF,NF,AF,BF,jF,RF,LF=PF(),HF=JE(LF),WF={};function UF(){if(FF)return WF;FF=1;var t=rk(),e=_O(),i=Date,n=e(i.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new i)}}),WF}function qF(){if(NF)return zF;NF=1,UF();var t=ES();return zF=t.Date.now,zF}function VF(){if(BF)return AF;BF=1;var t=qF();return AF=t,AF}function YF(){return RF||(RF=1,jF=VF()),jF}var XF,GF,KF,$F,ZF,QF,JF,tz,ez,iz,nz,oz,rz,sz=YF(),az=JE(sz),hz={};function cz(){if(GF)return XF;GF=1;var t=mO();return XF=function(e,i){var n=[][e];return!!n&&t(function(){n.call(null,i||function(){return 1},1)})},XF}function dz(){if($F)return KF;$F=1;var t=nM().forEach,e=cz(),i=e("forEach");return KF=i?[].forEach:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)},KF}function lz(){if(ZF)return hz;ZF=1;var t=rk(),e=dz();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),hz}function uz(){if(JF)return QF;JF=1,lz();var t=tT();return QF=t("Array","forEach"),QF}function fz(){if(ez)return tz;ez=1;var t=uz();return tz=t,tz}function pz(){if(nz)return iz;nz=1;var t=ZT(),e=gC(),i=SS(),n=fz(),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};return iz=function(s){var a=s.forEach;return s===o||i(o,s)&&a===o.forEach||e(r,t(s))?n:a},iz}function gz(){return rz||(rz=1,oz=pz()),oz}var vz,yz,mz,bz,wz,_z,xz,Ez,Oz,Sz=gz(),Cz=JE(Sz),kz={};function Tz(){if(vz)return kz;vz=1;var t=rk(),e=_O(),i=XT(),n=e([].reverse),o=[1,2];return t({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),n(this)}}),kz}function Dz(){if(mz)return yz;mz=1,Tz();var t=tT();return yz=t("Array","reverse"),yz}function Mz(){if(wz)return bz;wz=1;var t=SS(),e=Dz(),i=Array.prototype;return bz=function(n){var o=n.reverse;return n===i||t(i,n)&&o===i.reverse?e:o},bz}function Iz(){if(xz)return _z;xz=1;var t=Mz();return _z=t,_z}function Pz(){return Oz||(Oz=1,Ez=Iz()),Ez}var Fz,zz,Nz,Az,Bz,jz,Rz,Lz,Hz,Wz,Uz,qz,Vz,Yz=Pz(),Xz=JE(Yz),Gz={};function Kz(){if(zz)return Fz;zz=1;var t=MO(),e=XT(),i=TypeError,n=Object.getOwnPropertyDescriptor,o=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();return Fz=o?function(t,o){if(e(t)&&!n(t,"length").writable)throw new i("Cannot set read only .length");return t.length=o}:function(t,e){return t.length=e},Fz}function $z(){if(Az)return Nz;Az=1;var t=IS(),e=TypeError;return Nz=function(i,n){if(!delete i[n])throw new e("Cannot delete property "+t(n)+" of "+t(i))},Nz}function Zz(){if(Bz)return Gz;Bz=1;var t=rk(),e=pC(),i=hk(),n=ak(),o=dk(),r=Kz(),s=GT(),a=eD(),h=KT(),c=$z(),d=iD(),l=d("splice"),u=Math.max,f=Math.min;return t({target:"Array",proto:!0,forced:!l},{splice:function(t,d){var l,p,g,v,y,m,b=e(this),w=o(b),_=i(t,w),x=arguments.length;for(0===x?l=p=0:1===x?(l=0,p=w-_):(l=x-2,p=f(u(n(d),0),w-_)),s(w+l-p),g=a(b,p),v=0;v<p;v++)y=_+v,y in b&&h(g,v,b[y]);if(g.length=p,l<p){for(v=_;v<w-p;v++)y=v+p,m=v+l,y in b?b[m]=b[y]:c(b,m);for(v=w;v>w-p+l;v--)c(b,v-1)}else if(l>p)for(v=w-p;v>_;v--)y=v+p-1,m=v+l-1,y in b?b[m]=b[y]:c(b,m);for(v=0;v<l;v++)b[v+_]=arguments[v+2];return r(b,w-p+l),g}}),Gz}function Qz(){if(Rz)return jz;Rz=1,Zz();var t=tT();return jz=t("Array","splice"),jz}function Jz(){if(Hz)return Lz;Hz=1;var t=SS(),e=Qz(),i=Array.prototype;return Lz=function(n){var o=n.splice;return n===i||t(i,n)&&o===i.splice?e:o},Lz}function tN(){if(Uz)return Wz;Uz=1;var t=Jz();return Wz=t,Wz}function eN(){return Vz||(Vz=1,qz=tN()),qz}var iN,nN,oN,rN=eN(),sN=JE(rN),aN={};function hN(){if(iN)return aN;iN=1;var t=rk(),e=lk().includes,i=mO(),n=oP(),o=i(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:o},{includes:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes"),aN}function cN(){if(oN)return nN;oN=1,hN();var t=tT();return nN=t("Array","includes"),nN}var dN,lN,uN,fN,pN,gN,vN,yN,mN,bN,wN,_N,xN,EN,ON,SN={};function CN(){if(lN)return dN;lN=1;var t=xS(),e=xO(),i=yC(),n=i("match");return dN=function(i){var o;return t(i)&&(void 0!==(o=i[n])?!!o:"RegExp"===e(i))},dN}function kN(){if(fN)return uN;fN=1;var t=CN(),e=TypeError;return uN=function(i){if(t(i))throw new e("The method doesn't accept regular expressions");return i},uN}function TN(){if(gN)return pN;gN=1;var t=yC(),e=t("match");return pN=function(t){var i=/./;try{"/./"[t](i)}catch(n){try{return i[e]=!1,"/./"[t](i)}catch(o){}}return!1},pN}function DN(){if(vN)return SN;vN=1;var t=rk(),e=_O(),i=kN(),n=wS(),o=hD(),r=TN(),s=e("".indexOf);return t({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~s(o(n(this)),o(i(t)),arguments.length>1?arguments[1]:void 0)}}),SN}function MN(){if(mN)return yN;mN=1,DN();var t=tT();return yN=t("String","includes"),yN}function IN(){if(wN)return bN;wN=1;var t=SS(),e=cN(),i=MN(),n=Array.prototype,o=String.prototype;return bN=function(r){var s=r.includes;return r===n||t(n,r)&&s===n.includes?e:"string"==typeof r||r===o||t(o,r)&&s===o.includes?i:s},bN}function PN(){if(xN)return _N;xN=1;var t=IN();return _N=t,_N}function FN(){return ON||(ON=1,EN=PN()),EN}var zN,NN,AN,BN,jN,RN,LN,HN=FN(),WN=JE(HN),UN={};function qN(){if(zN)return UN;zN=1;var t=rk(),e=mO(),i=pC(),n=hP(),o=aP(),r=e(function(){n(1)});return t({target:"Object",stat:!0,forced:r,sham:!o},{getPrototypeOf:function(t){return n(i(t))}}),UN}function VN(){if(AN)return NN;AN=1,qN();var t=ES();return NN=t.Object.getPrototypeOf,NN}function YN(){if(jN)return BN;jN=1;var t=VN();return BN=t,BN}function XN(){return LN||(LN=1,RN=YN()),RN}var GN,KN,$N,ZN,QN,JN,tA,eA,iA=XN(),nA=JE(iA);function oA(){if(KN)return GN;KN=1,nD();var t=tT();return GN=t("Array","concat"),GN}function rA(){if(ZN)return $N;ZN=1;var t=SS(),e=oA(),i=Array.prototype;return $N=function(n){var o=n.concat;return n===i||t(i,n)&&o===i.concat?e:o},$N}function sA(){if(JN)return QN;JN=1;var t=rA();return QN=t,QN}function aA(){return eA||(eA=1,tA=sA()),tA}var hA,cA,dA,lA,uA,fA,pA,gA,vA,yA=aA(),mA=JE(yA),bA={};function wA(){if(hA)return bA;hA=1;var t=rk(),e=nM().filter,i=iD(),n=i("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),bA}function _A(){if(dA)return cA;dA=1,wA();var t=tT();return cA=t("Array","filter"),cA}function xA(){if(uA)return lA;uA=1;var t=SS(),e=_A(),i=Array.prototype;return lA=function(n){var o=n.filter;return n===i||t(i,n)&&o===i.filter?e:o},lA}function EA(){if(pA)return fA;pA=1;var t=xA();return fA=t,fA}function OA(){return vA||(vA=1,gA=EA()),gA}var SA,CA,kA,TA,DA,MA,IA,PA,FA,zA=OA(),NA=JE(zA),AA={};function BA(){if(CA)return SA;CA=1;var t=MO(),e=mO(),i=_O(),n=hP(),o=gk(),r=_S(),s=vS().f,a=i(s),h=i([].push),c=t&&e(function(){var t=Object.create(null);return t[2]=2,!a(t,2)}),d=function(e){return function(i){var s,d=r(i),l=o(d),u=c&&null===n(d),f=l.length,p=0,g=[];while(f>p)s=l[p++],t&&!(u?s in d:a(d,s))||h(g,e?[s,d[s]]:d[s]);return g}};return SA={entries:d(!0),values:d(!1)},SA}function jA(){if(kA)return AA;kA=1;var t=rk(),e=BA().values;return t({target:"Object",stat:!0},{values:function(t){return e(t)}}),AA}function RA(){if(DA)return TA;DA=1,jA();var t=ES();return TA=t.Object.values,TA}function LA(){if(IA)return MA;IA=1;var t=RA();return MA=t,MA}function HA(){return FA||(FA=1,PA=LA()),PA}var WA,UA,qA,VA,YA,XA,GA,KA,$A,ZA,QA,JA,tB,eB=HA(),iB=JE(eB),nB={};function oB(){return UA||(UA=1,WA="\t\n\v\f\r                　\u2028\u2029\ufeff"),WA}function rB(){if(VA)return qA;VA=1;var t=_O(),e=wS(),i=hD(),n=oB(),o=t("".replace),r=RegExp("^["+n+"]+"),s=RegExp("(^|[^"+n+"])["+n+"]+$"),a=function(t){return function(n){var a=i(e(n));return 1&t&&(a=o(a,r,"")),2&t&&(a=o(a,s,"$1")),a}};return qA={start:a(1),end:a(2),trim:a(3)},qA}function sB(){if(XA)return YA;XA=1;var t=yO(),e=mO(),i=_O(),n=hD(),o=rB().trim,r=oB(),s=t.parseInt,a=t.Symbol,h=a&&a.iterator,c=/^[+-]?0x/i,d=i(c.exec),l=8!==s(r+"08")||22!==s(r+"0x16")||h&&!e(function(){s(Object(h))});return YA=l?function(t,e){var i=o(n(t));return s(i,e>>>0||(d(c,i)?16:10))}:s,YA}function aB(){if(GA)return nB;GA=1;var t=rk(),e=sB();return t({global:!0,forced:parseInt!==e},{parseInt:e}),nB}function hB(){if($A)return KA;$A=1,aB();var t=ES();return KA=t.parseInt,KA}function cB(){if(QA)return ZA;QA=1;var t=hB();return ZA=t,ZA}function dB(){return tB||(tB=1,JA=cB()),JA}var lB,uB,fB,pB,gB,vB,yB,mB,bB,wB=dB(),_B=JE(wB),xB={};function EB(){if(lB)return xB;lB=1;var t=rk(),e=EO(),i=lk().indexOf,n=cz(),o=e([].indexOf),r=!!o&&1/o([1],1,-0)<0,s=r||!n("indexOf");return t({target:"Array",proto:!0,forced:s},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return r?o(this,t,e)||0:i(this,t,e)}}),xB}function OB(){if(fB)return uB;fB=1,EB();var t=tT();return uB=t("Array","indexOf"),uB}function SB(){if(gB)return pB;gB=1;var t=SS(),e=OB(),i=Array.prototype;return pB=function(n){var o=n.indexOf;return n===i||t(i,n)&&o===i.indexOf?e:o},pB}function CB(){if(yB)return vB;yB=1;var t=SB();return vB=t,vB}function kB(){return bB||(bB=1,mB=CB()),mB}var TB,DB,MB,IB,PB,FB,zB,NB=kB(),AB=JE(NB),BB={};function jB(){if(TB)return BB;TB=1;var t=rk(),e=MO(),i=wD();return t({target:"Object",stat:!0,sham:!e},{create:i}),BB}function RB(){if(MB)return DB;MB=1,jB();var t=ES(),e=t.Object;return DB=function(t,i){return e.create(t,i)},DB}function LB(){if(PB)return IB;PB=1;var t=RB();return IB=t,IB}function HB(){return zB||(zB=1,FB=LB()),FB}var WB,UB,qB,VB,YB,XB,GB,KB,$B,ZB,QB,JB,tj,ej=HB(),ij=JE(ej),nj={};function oj(){if(UB)return WB;UB=1;var t=ak(),e=hD(),i=wS(),n=RangeError;return WB=function(o){var r=e(i(this)),s="",a=t(o);if(a<0||a===1/0)throw new n("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(r+=r))1&a&&(s+=r);return s},WB}function rj(){if(VB)return qB;VB=1;var t=_O(),e=ck(),i=hD(),n=oj(),o=wS(),r=t(n),s=t("".slice),a=Math.ceil,h=function(t){return function(n,h,c){var d,l,u=i(o(n)),f=e(h),p=u.length,g=void 0===c?" ":i(c);return f<=p||""===g?u:(d=f-p,l=r(g,a(d/g.length)),l.length>d&&(l=s(l,0,d)),t?u+l:l+u)}};return qB={start:h(!1),end:h(!0)},qB}function sj(){if(XB)return YB;XB=1;var t=_O(),e=mO(),i=rj().start,n=RangeError,o=isFinite,r=Math.abs,s=Date.prototype,a=s.toISOString,h=t(s.getTime),c=t(s.getUTCDate),d=t(s.getUTCFullYear),l=t(s.getUTCHours),u=t(s.getUTCMilliseconds),f=t(s.getUTCMinutes),p=t(s.getUTCMonth),g=t(s.getUTCSeconds);return YB=e(function(){return"0385-07-25T07:06:39.999Z"!==a.call(new Date(-50000000000001))})||!e(function(){a.call(new Date(NaN))})?function(){if(!o(h(this)))throw new n("Invalid time value");var t=this,e=d(t),s=u(t),a=e<0?"-":e>9999?"+":"";return a+i(r(e),a?6:4,0)+"-"+i(p(t)+1,2,0)+"-"+i(c(t),2,0)+"T"+i(l(t),2,0)+":"+i(f(t),2,0)+":"+i(g(t),2,0)+"."+i(s,3,0)+"Z"}:a,YB}function aj(){if(GB)return nj;GB=1;var t=rk(),e=IO(),i=pC(),n=mC(),o=sj(),r=xO(),s=mO(),a=s(function(){return null!==new Date(NaN).toJSON()||1!==e(Date.prototype.toJSON,{toISOString:function(){return 1}})});return t({target:"Date",proto:!0,forced:a},{toJSON:function(t){var s=i(this),a=n(s,"number");return"number"!=typeof a||isFinite(a)?"toISOString"in s||"Date"!==r(s)?s.toISOString():e(o,s):null}}),nj}function hj(){if($B)return KB;$B=1,aj(),bM();var t=ES(),e=wO();return t.JSON||(t.JSON={stringify:JSON.stringify}),KB=function(i,n,o){return e(t.JSON.stringify,null,arguments)},KB}function cj(){if(QB)return ZB;QB=1;var t=hj();return ZB=t,ZB}function dj(){return tj||(tj=1,JB=cj()),JB}var lj,uj,fj,pj,gj,vj,yj,mj=dj(),bj=JE(mj),wj={},_j={};function xj(){if(uj)return lj;uj=1;var t=yO(),e=CS(),i=xO(),n=function(t){return e.slice(0,t.length)===t};return lj=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}(),lj}function Ej(){if(pj)return fj;pj=1;var t=TypeError;return fj=function(e,i){if(e<i)throw new t("Not enough arguments");return e},fj}function Oj(){if(vj)return gj;vj=1;var t=yO(),e=wO(),i=OO(),n=xj(),o=CS(),r=Zk(),s=Ej(),a=t.Function,h=/MSIE .\./.test(o)||"BUN"===n&&function(){var e=t.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();return gj=function(t,n){var o=n?2:1;return h?function(h,c){var d=s(arguments.length,1)>o,l=i(h)?h:a(h),u=d?r(arguments,o):[],f=d?function(){e(l,this,u)}:l;return n?t(f,c):t(f)}:t},gj}function Sj(){if(yj)return _j;yj=1;var t=rk(),e=yO(),i=Oj(),n=i(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),_j}var Cj,kj,Tj,Dj,Mj,Ij,Pj={};function Fj(){if(Cj)return Pj;Cj=1;var t=rk(),e=yO(),i=Oj(),n=i(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Pj}function zj(){return kj||(kj=1,Sj(),Fj()),wj}function Nj(){if(Dj)return Tj;Dj=1,zj();var t=ES();return Tj=t.setTimeout,Tj}function Aj(){return Ij||(Ij=1,Mj=Nj()),Mj}var Bj,jj,Rj,Lj,Hj,Wj,Uj,qj,Vj,Yj,Xj,Gj=Aj(),Kj=JE(Gj),$j={};function Zj(){if(jj)return Bj;jj=1;var t=pC(),e=hk(),i=dk();return Bj=function(n){var o=t(this),r=i(o),s=arguments.length,a=e(s>1?arguments[1]:void 0,r),h=s>2?arguments[2]:void 0,c=void 0===h?r:e(h,r);while(c>a)o[a++]=n;return o},Bj}function Qj(){if(Rj)return $j;Rj=1;var t=rk(),e=Zj(),i=oP();return t({target:"Array",proto:!0},{fill:e}),i("fill"),$j}function Jj(){if(Hj)return Lj;Hj=1,Qj();var t=tT();return Lj=t("Array","fill"),Lj}function tR(){if(Uj)return Wj;Uj=1;var t=SS(),e=Jj(),i=Array.prototype;return Wj=function(n){var o=n.fill;return n===i||t(i,n)&&o===i.fill?e:o},Wj}function eR(){if(Vj)return qj;Vj=1;var t=tR();return qj=t,qj}function iR(){return Xj||(Xj=1,Yj=eR()),Yj}var nR,oR=iR(),rR=JE(oR);
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */
function sR(){return sR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},sR.apply(this,arguments)}function aR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function hR(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}nR="function"!==typeof Object.assign?function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var cR,dR=nR,lR=["","webkit","Moz","MS","ms","o"],uR="undefined"===typeof document?{style:{}}:document.createElement("div"),fR="function",pR=Math.round,gR=Math.abs,vR=Date.now;function yR(t,e){var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;while(r<lR.length){if(i=lR[r],n=i?i+o:e,n in t)return n;r++}}cR="undefined"===typeof window?{}:window;var mR=yR(uR.style,"touchAction"),bR=void 0!==mR;function wR(){if(!bR)return!1;var t={},e=cR.CSS&&cR.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){return t[i]=!e||cR.CSS.supports("touch-action",i)}),t}var _R="compute",xR="auto",ER="manipulation",OR="none",SR="pan-x",CR="pan-y",kR=wR(),TR=/mobile|tablet|ip(ad|hone|od)|android/i,DR="ontouchstart"in cR,MR=void 0!==yR(cR,"PointerEvent"),IR=DR&&TR.test(navigator.userAgent),PR="touch",FR="pen",zR="mouse",NR="kinect",AR=25,BR=1,jR=2,RR=4,LR=8,HR=1,WR=2,UR=4,qR=8,VR=16,YR=WR|UR,XR=qR|VR,GR=YR|XR,KR=["x","y"],$R=["clientX","clientY"];function ZR(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length){n=0;while(n<t.length)e.call(i,t[n],n,t),n++}else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function QR(t,e){return typeof t===fR?t.apply(e&&e[0]||void 0,e):t}function JR(t,e){return t.indexOf(e)>-1}function tL(t){if(JR(t,OR))return OR;var e=JR(t,SR),i=JR(t,CR);return e&&i?OR:e||i?e?SR:CR:JR(t,ER)?ER:xR}var eL=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===_R&&(t=this.compute()),bR&&this.manager.element.style&&kR[t]&&(this.manager.element.style[mR]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return ZR(this.manager.recognizers,function(e){QR(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),tL(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=JR(n,OR)&&!kR[OR],r=JR(n,CR)&&!kR[CR],s=JR(n,SR)&&!kR[SR];if(o){var a=1===t.pointers.length,h=t.distance<2,c=t.deltaTime<250;if(a&&h&&c)return}if(!s||!r)return o||r&&i&YR||s&&i&XR?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function iL(t,e){while(t){if(t===e)return!0;t=t.parentNode}return!1}function nL(t){var e=t.length;if(1===e)return{x:pR(t[0].clientX),y:pR(t[0].clientY)};var i=0,n=0,o=0;while(o<e)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:pR(i/e),y:pR(n/e)}}function oL(t){var e=[],i=0;while(i<t.pointers.length)e[i]={clientX:pR(t.pointers[i].clientX),clientY:pR(t.pointers[i].clientY)},i++;return{timeStamp:vR(),pointers:e,center:nL(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rL(t,e,i){i||(i=KR);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function sL(t,e,i){i||(i=KR);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function aL(t,e){return t===e?HR:gR(t)>=gR(e)?t<0?WR:UR:e<0?qR:VR}function hL(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==BR&&r.eventType!==RR||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function cL(t,e,i){return{x:e/t||0,y:i/t||0}}function dL(t,e){return rL(e[0],e[1],$R)/rL(t[0],t[1],$R)}function lL(t,e){return sL(e[1],e[0],$R)+sL(t[1],t[0],$R)}function uL(t,e){var i,n,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==LR&&(a>AR||void 0===s.velocity)){var h=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,d=cL(a,h,c);n=d.x,o=d.y,i=gR(d.x)>gR(d.y)?d.x:d.y,r=aL(h,c),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}function fL(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=oL(e)),o>1&&!i.firstMultiple?i.firstMultiple=oL(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,h=e.center=nL(n);e.timeStamp=vR(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=sL(a,h),e.distance=rL(a,h),hL(i,e),e.offsetDirection=aL(e.deltaX,e.deltaY);var c=cL(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=gR(c.x)>gR(c.y)?c.x:c.y,e.scale=s?dL(s.pointers,n):1,e.rotation=s?lL(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,uL(i,e);var d,l=t.element,u=e.srcEvent;d=u.composedPath?u.composedPath()[0]:u.path?u.path[0]:u.target,iL(d,l)&&(l=d),e.target=l}function pL(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&BR&&n-o===0,s=e&(RR|LR)&&n-o===0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,fL(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function gL(t){return t.trim().split(/\s+/g)}function vL(t,e,i){ZR(gL(e),function(e){t.addEventListener(e,i,!1)})}function yL(t,e,i){ZR(gL(e),function(e){t.removeEventListener(e,i,!1)})}function mL(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var bL=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){QR(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&vL(this.element,this.evEl,this.domHandler),this.evTarget&&vL(this.target,this.evTarget,this.domHandler),this.evWin&&vL(mL(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&yL(this.element,this.evEl,this.domHandler),this.evTarget&&yL(this.target,this.evTarget,this.domHandler),this.evWin&&yL(mL(this.element),this.evWin,this.domHandler)},t}();function wL(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);var n=0;while(n<t.length){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var _L={pointerdown:BR,pointermove:jR,pointerup:RR,pointercancel:LR,pointerout:LR},xL={2:PR,3:FR,4:zR,5:NR},EL="pointerdown",OL="pointermove pointerup pointercancel";cR.MSPointerEvent&&!cR.PointerEvent&&(EL="MSPointerDown",OL="MSPointerMove MSPointerUp MSPointerCancel");var SL=function(t){function e(){var i,n=e.prototype;return n.evEl=EL,n.evWin=OL,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}aR(e,t);var i=e.prototype;return i.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=_L[n],r=xL[t.pointerType]||t.pointerType,s=r===PR,a=wL(e,t.pointerId,"pointerId");o&BR&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(RR|LR)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))},e}(bL);function CL(t){return Array.prototype.slice.call(t,0)}function kL(t,e,i){var n=[],o=[],r=0;while(r<t.length){var s=e?t[r][e]:t[r];wL(o,s)<0&&n.push(t[r]),o[r]=s,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}var TL={touchstart:BR,touchmove:jR,touchend:RR,touchcancel:LR},DL="touchstart touchmove touchend touchcancel",ML=function(t){function e(){var i;return e.prototype.evTarget=DL,i=t.apply(this,arguments)||this,i.targetIds={},i}aR(e,t);var i=e.prototype;return i.handler=function(t){var e=TL[t.type],i=IL.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:PR,srcEvent:t})},e}(bL);function IL(t,e){var i,n,o=CL(t.touches),r=this.targetIds;if(e&(BR|jR)&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=CL(t.changedTouches),a=[],h=this.target;if(n=o.filter(function(t){return iL(t.target,h)}),e===BR){i=0;while(i<n.length)r[n[i].identifier]=!0,i++}i=0;while(i<s.length)r[s[i].identifier]&&a.push(s[i]),e&(RR|LR)&&delete r[s[i].identifier],i++;return a.length?[kL(n.concat(a),"identifier",!0),a]:void 0}var PL={mousedown:BR,mousemove:jR,mouseup:RR},FL="mousedown",zL="mousemove mouseup",NL=function(t){function e(){var i,n=e.prototype;return n.evEl=FL,n.evWin=zL,i=t.apply(this,arguments)||this,i.pressed=!1,i}aR(e,t);var i=e.prototype;return i.handler=function(t){var e=PL[t.type];e&BR&&0===t.button&&(this.pressed=!0),e&jR&&1!==t.which&&(e=RR),this.pressed&&(e&RR&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:zR,srcEvent:t}))},e}(bL),AL=2500,BL=25;function jL(t){var e=t.changedPointers,i=e[0];if(i.identifier===this.primaryTouch){var n={x:i.clientX,y:i.clientY},o=this.lastTouches;this.lastTouches.push(n);var r=function(){var t=o.indexOf(n);t>-1&&o.splice(t,1)};setTimeout(r,AL)}}function RL(t,e){t&BR?(this.primaryTouch=e.changedPointers[0].identifier,jL.call(this,e)):t&(RR|LR)&&jL.call(this,e)}function LL(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),s=Math.abs(i-o.y);if(r<=BL&&s<=BL)return!0}return!1}var HL=function(){var t=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,n.handler=function(t,e,i){var o=i.pointerType===PR,r=i.pointerType===zR;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(o)RL.call(hR(hR(n)),e,i);else if(r&&LL.call(hR(hR(n)),i))return;n.callback(t,e,i)}},n.touch=new ML(n.manager,n.handler),n.mouse=new NL(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}aR(e,t);var i=e.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(bL);return t}();function WL(t){var e,i=t.options.inputClass;return e=i||(MR?SL:IR?ML:DR?HL:NL),new e(t,pL)}function UL(t,e,i){return!!Array.isArray(t)&&(ZR(t,i[e],i),!0)}var qL=1,VL=2,YL=4,XL=8,GL=XL,KL=16,$L=32,ZL=1;function QL(){return ZL++}function JL(t,e){var i=e.manager;return i?i.get(t):t}function tH(t){return t&KL?"cancel":t&XL?"end":t&YL?"move":t&VL?"start":""}var eH=function(){function t(t){void 0===t&&(t={}),this.options=sR({enable:!0},t),this.id=QL(),this.manager=null,this.state=qL,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return dR(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(UL(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=JL(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return UL(t,"dropRecognizeWith",this)||(t=JL(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(UL(t,"requireFailure",this))return this;var e=this.requireFail;return t=JL(t,this),-1===wL(e,t)&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(UL(t,"dropRequireFailure",this))return this;t=JL(t,this);var e=wL(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<XL&&n(e.options.event+tH(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=XL&&n(e.options.event+tH(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=$L},e.canEmit=function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&($L|qL)))return!1;t++}return!0},e.recognize=function(t){var e=dR({},t);if(!QR(this.options.enable,[this,e]))return this.reset(),void(this.state=$L);this.state&(GL|KL|$L)&&(this.state=qL),this.state=this.process(e),this.state&(VL|YL|XL|KL)&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),iH=function(t){function e(e){var i;return void 0===e&&(e={}),i=t.call(this,sR({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}aR(e,t);var i=e.prototype;return i.getTouchAction=function(){return[ER]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),t.eventType&BR&&0===this.count)return this.failTimeout();if(o&&r&&n){if(t.eventType!==RR)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||rL(this.pCenter,t.center)<i.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var h=this.count%i.taps;if(0===h)return this.hasRequireFailures()?(this._timer=setTimeout(function(){e.state=GL,e.tryEmit()},i.interval),VL):GL}return $L},i.failTimeout=function(){var t=this;return this._timer=setTimeout(function(){t.state=$L},this.options.interval),$L},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){this.state===GL&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(eH),nH=function(t){function e(e){return void 0===e&&(e={}),t.call(this,sR({pointers:1},e))||this}aR(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=e&(VL|YL),o=this.attrTest(t);return n&&(i&LR||!o)?e|KL:n||o?i&RR?e|XL:e&VL?e|YL:VL:$L},e}(eH);function oH(t){return t===VR?"down":t===qR?"up":t===WR?"left":t===UR?"right":""}var rH=function(t){function e(e){var i;return void 0===e&&(e={}),i=t.call(this,sR({event:"pan",threshold:10,pointers:1,direction:GR},e))||this,i.pX=null,i.pY=null,i}aR(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&YR&&e.push(CR),t&XR&&e.push(SR),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&YR?(o=0===r?HR:r<0?WR:UR,i=r!==this.pX,n=Math.abs(t.deltaX)):(o=0===s?HR:s<0?qR:VR,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},i.attrTest=function(t){return nH.prototype.attrTest.call(this,t)&&(this.state&VL||!(this.state&VL)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=oH(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(nH),sH=function(t){function e(e){return void 0===e&&(e={}),t.call(this,sR({event:"swipe",threshold:10,velocity:.3,direction:YR|XR,pointers:1},e))||this}aR(e,t);var i=e.prototype;return i.getTouchAction=function(){return rH.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return n&(YR|XR)?i=e.overallVelocity:n&YR?i=e.overallVelocityX:n&XR&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&gR(i)>this.options.velocity&&e.eventType&RR},i.emit=function(t){var e=oH(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(nH),aH=function(t){function e(e){return void 0===e&&(e={}),t.call(this,sR({event:"pinch",threshold:0,pointers:2},e))||this}aR(e,t);var i=e.prototype;return i.getTouchAction=function(){return[OR]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&VL)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(nH),hH=function(t){function e(e){return void 0===e&&(e={}),t.call(this,sR({event:"rotate",threshold:0,pointers:2},e))||this}aR(e,t);var i=e.prototype;return i.getTouchAction=function(){return[OR]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&VL)},e}(nH),cH=function(t){function e(e){var i;return void 0===e&&(e={}),i=t.call(this,sR({event:"press",pointers:1,time:251,threshold:9},e))||this,i._timer=null,i._input=null,i}aR(e,t);var i=e.prototype;return i.getTouchAction=function(){return[xR]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!o||!n||t.eventType&(RR|LR)&&!r)this.reset();else if(t.eventType&BR)this.reset(),this._timer=setTimeout(function(){e.state=GL,e.tryEmit()},i.time);else if(t.eventType&RR)return GL;return $L},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){this.state===GL&&(t&&t.eventType&RR?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=vR(),this.manager.emit(this.options.event,this._input)))},e}(eH),dH={domEvents:!1,touchAction:_R,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},lH=[[hH,{enable:!1}],[aH,{enable:!1},["rotate"]],[sH,{direction:YR}],[rH,{direction:YR},["swipe"]],[iH],[iH,{event:"doubletap",taps:2},["tap"]],[cH]],uH=1,fH=2;function pH(t,e){var i,n=t.element;n.style&&(ZR(t.options.cssProps,function(o,r){i=yR(n.style,r),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}function gH(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var vH=function(){function t(t,e){var i=this;this.options=dR({},dH,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=WL(this),this.touchAction=new eL(this,this.options.touchAction),pH(this,!0),ZR(this.options.recognizers,function(t){var e=i.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return dR(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?fH:uH},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&GL)&&(e.curRecognizer=null,o=null);var r=0;while(r<n.length)i=n[r],e.stopped===fH||o&&i!==o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(VL|YL|XL)&&(e.curRecognizer=i,o=i),r++}},e.get=function(t){if(t instanceof eH)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(UL(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(UL(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=wL(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return ZR(gL(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return ZR(gL(t),function(t){e?i[t]&&i[t].splice(wL(i[t],e),1):delete i[t]}),this},e.emit=function(t,e){this.options.domEvents&&gH(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};var n=0;while(n<i.length)i[n](e),n++}},e.destroy=function(){this.element&&pH(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),yH={touchstart:BR,touchmove:jR,touchend:RR,touchcancel:LR},mH="touchstart",bH="touchstart touchmove touchend touchcancel",wH=function(t){function e(){var i,n=e.prototype;return n.evTarget=mH,n.evWin=bH,i=t.apply(this,arguments)||this,i.started=!1,i}aR(e,t);var i=e.prototype;return i.handler=function(t){var e=yH[t.type];if(e===BR&&(this.started=!0),this.started){var i=_H.call(this,t,e);e&(RR|LR)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:PR,srcEvent:t})}},e}(bL);function _H(t,e){var i=CL(t.touches),n=CL(t.changedTouches);return e&(RR|LR)&&(i=kL(i.concat(n),"identifier",!0)),[i,n]}function xH(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,i),t.apply(this,arguments)}}var EH=xH(function(t,e,i){var n=Object.keys(e),o=0;while(o<n.length)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),OH=xH(function(t,e){return EH(t,e,!0)},"merge","Use `assign`.");function SH(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&dR(n,i)}function CH(t,e){return function(){return t.apply(e,arguments)}}var kH=function(){var t=function(t,e){return void 0===e&&(e={}),new vH(t,sR({recognizers:lH.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=GR,t.DIRECTION_DOWN=VR,t.DIRECTION_LEFT=WR,t.DIRECTION_RIGHT=UR,t.DIRECTION_UP=qR,t.DIRECTION_HORIZONTAL=YR,t.DIRECTION_VERTICAL=XR,t.DIRECTION_NONE=HR,t.DIRECTION_DOWN=VR,t.INPUT_START=BR,t.INPUT_MOVE=jR,t.INPUT_END=RR,t.INPUT_CANCEL=LR,t.STATE_POSSIBLE=qL,t.STATE_BEGAN=VL,t.STATE_CHANGED=YL,t.STATE_ENDED=XL,t.STATE_RECOGNIZED=GL,t.STATE_CANCELLED=KL,t.STATE_FAILED=$L,t.Manager=vH,t.Input=bL,t.TouchAction=eL,t.TouchInput=ML,t.MouseInput=NL,t.PointerEventInput=SL,t.TouchMouseInput=HL,t.SingleTouchInput=wH,t.Recognizer=eH,t.AttrRecognizer=nH,t.Tap=iH,t.Pan=rH,t.Swipe=sH,t.Pinch=aH,t.Rotate=hH,t.Press=cH,t.on=vL,t.off=yL,t.each=ZR,t.merge=OH,t.extend=EH,t.bindFn=CH,t.assign=dR,t.inherit=SH,t.bindFn=CH,t.prefixed=yR,t.toArray=CL,t.inArray=wL,t.uniqueArray=kL,t.splitStr=gL,t.boolOrFn=QR,t.hasParent=iL,t.addEventListeners=vL,t.removeEventListeners=yL,t.defaults=dR({},dH,{preset:lH}),t}();function TH(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return DH(e.length?e:[az()])}function DH(t){let[e,i,n]=MH(t),o=1;const r=()=>{const t=2091639*e+2.3283064365386963e-10*o;return e=i,i=n,n=t-(o=0|t)};return r.uint32=()=>4294967296*r(),r.fract53=()=>r()+11102230246251565e-32*(2097152*r()|0),r.algorithm="Alea",r.seed=t,r.version="0.9",r}function MH(){const t=IH();let e=t(" "),i=t(" "),n=t(" ");for(let o=0;o<arguments.length;o++)e-=t(o<0||arguments.length<=o?void 0:arguments[o]),e<0&&(e+=1),i-=t(o<0||arguments.length<=o?void 0:arguments[o]),i<0&&(i+=1),n-=t(o<0||arguments.length<=o?void 0:arguments[o]),n<0&&(n+=1);return[e,i,n]}function IH(){let t=4022871197;return function(e){const i=e.toString();for(let n=0;n<i.length;n++){t+=i.charCodeAt(n);let e=.02519603282416938*t;t=e>>>0,e-=t,e*=t,t=e>>>0,e-=t,t+=4294967296*e}return 2.3283064365386963e-10*(t>>>0)}}function PH(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}kH.defaults,PP("DELETE");const FH="undefined"!==typeof window?window.Hammer||kH:function(){return PH()};function zH(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const i=FH(this._dom.overlay);i.on("tap",sT(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{i.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Cz(n).call(n,t=>{i.on(t,t=>{t.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=e=>{NH(e.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}function NH(t,e){while(t){if(t===e)return!0;t=t.parentNode}return!1}VT(zH.prototype),zH.current=null,zH.prototype.destroy=function(){this.deactivate();for(const i of Xz(t=sN(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;i()}},zH.prototype.activate=function(){zH.current&&zH.current.deactivate(),zH.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},zH.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},zH.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};const AH=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,BH=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,jH=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,RH=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function LH(t){if(t)while(!0===t.hasChildNodes()){const e=t.firstChild;e&&(LH(e),t.removeChild(e))}}function HH(t){return t instanceof String||"string"===typeof t}function WH(t){return"object"===typeof t&&null!==t}function UH(t,e,i,n){let o=!1;!0===n&&(o=null===e[i]&&void 0!==t[i]),o?delete t[i]:t[i]=e[i]}function qH(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(const n in t)if(void 0!==e[n])if(null===e[n]||"object"!==typeof e[n])UH(t,e,n,i);else{const o=t[n],r=e[n];WH(o)&&WH(r)&&qH(o,r,i)}}function VH(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(uF(i))throw new TypeError("Arrays are not supported by deepExtend");for(let o=0;o<t.length;o++){const r=t[o];if(Object.prototype.hasOwnProperty.call(i,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?XH(e[r],i[r],!1,n):UH(e,i,r,n);else{if(uF(i[r]))throw new TypeError("Arrays are not supported by deepExtend");UH(e,i,r,n)}}return e}function YH(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(uF(i))throw new TypeError("Arrays are not supported by deepExtend");for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&!WN(t).call(t,o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?XH(e[o],i[o]):UH(e,i,o,n);else if(uF(i[o])){e[o]=[];for(let t=0;t<i[o].length;t++)e[o].push(i[o][t])}else UH(e,i,o,n);return e}function XH(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)||!0===i)if("object"===typeof e[r]&&null!==e[r]&&nA(e[r])===Object.prototype)void 0===t[r]?t[r]=XH({},e[r],i):"object"===typeof t[r]&&null!==t[r]&&nA(t[r])===Object.prototype?XH(t[r],e[r],i):UH(t,e,r,n);else if(uF(e[r])){var o;t[r]=WP(o=e[r]).call(o)}else UH(t,e,r,n);return t}function GH(t,e){return[...t,e]}function KH(t){return WP(t).call(t)}function $H(t){return t.getBoundingClientRect().left}function ZH(t){return t.getBoundingClientRect().top}function QH(t,e){if(uF(t)){const i=t.length;for(let n=0;n<i;n++)e(t[n],n,t)}else for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)}function JH(t){let e;switch(t.length){case 3:case 4:return e=BH.exec(t),e?{r:_B(e[1]+e[1],16),g:_B(e[2]+e[2],16),b:_B(e[3]+e[3],16)}:null;case 6:case 7:return e=AH.exec(t),e?{r:_B(e[1],16),g:_B(e[2],16),b:_B(e[3],16)}:null;default:return null}}function tW(t,e){if(WN(t).call(t,"rgba"))return t;if(WN(t).call(t,"rgb")){const i=t.substr(AB(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}{const i=JH(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}}function eW(t,e,i){var n;return"#"+WP(n=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(n,1)}function iW(t,e){if(HH(t)){let e=t;if(hW(e)){var i;const t=kF(i=e.substr(4).substr(0,e.length-5).split(",")).call(i,function(t){return _B(t)});e=eW(t[0],t[1],t[2])}if(!0===aW(e)){const t=sW(e),i={h:t.h,s:.8*t.s,v:Math.min(1,1.02*t.v)},n={h:t.h,s:Math.min(1,1.25*t.s),v:.8*t.v},o=rW(n.h,n.s,n.v),r=rW(i.h,i.s,i.v);return{background:e,border:o,highlight:{background:r,border:o},hover:{background:r,border:o}}}return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}{const e={background:t.background||void 0,border:t.border||void 0,highlight:HH(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:HH(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}};return e}}function nW(t,e,i){t/=255,e/=255,i/=255;const n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));if(n===o)return{h:0,s:0,v:n};const r=t===n?e-i:i===n?t-e:i-t,s=t===n?3:i===n?1:5,a=60*(s-r/(o-n))/360,h=(o-n)/o,c=o;return{h:a,s:h,v:c}}function oW(t,e,i){let n,o,r;const s=Math.floor(6*t),a=6*t-s,h=i*(1-e),c=i*(1-a*e),d=i*(1-(1-a)*e);switch(s%6){case 0:n=i,o=d,r=h;break;case 1:n=c,o=i,r=h;break;case 2:n=h,o=i,r=d;break;case 3:n=h,o=c,r=i;break;case 4:n=d,o=h,r=i;break;case 5:n=i,o=h,r=c;break}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}}function rW(t,e,i){const n=oW(t,e,i);return eW(n.r,n.g,n.b)}function sW(t){const e=JH(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return nW(e.r,e.g,e.b)}function aW(t){const e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e}function hW(t){return jH.test(t)}function cW(t){return RH.test(t)}function dW(t){if(null===t||"object"!==typeof t)return null;if(t instanceof Element)return t;const e=ij(t);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==typeof t[i]&&(e[i]=dW(t[i]));return e}function lW(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=function(t){return null!==t&&void 0!==t},r=function(t){return null!==t&&"object"===typeof t},s=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!o(i))throw new Error("Parameter option must have a value");if(!r(n))throw new Error("Parameter globalOptions must be an object");const a=function(t,e,i){r(t[i])||(t[i]={});const n=e[i],o=t[i];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])},h=e[i],c=r(n)&&!s(n),d=c?n[i]:void 0,l=d?d.enabled:void 0;if(void 0===h)return;if("boolean"===typeof h)return r(t[i])||(t[i]={}),void(t[i].enabled=h);if(null===h&&!r(t[i])){if(!o(d))return;t[i]=ij(d)}if(!r(h))return;let u=!0;void 0!==h.enabled?u=h.enabled:void 0!==l&&(u=d.enabled),a(t,e,i),t[i].enabled=u}const uW={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function fW(t,e){let i;uF(e)||(e=[e]);for(const n of t)if(n){i=n[e[0]];for(let t=1;t<e.length;t++)i&&(i=i[e[t]]);if("undefined"!==typeof i)break}return i}const pW={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let gW=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(t){if("function"!==typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}setCloseCallback(t){if("function"!==typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}_isColorString(t){if("string"===typeof t)return pW[t]}setColor(t){let e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"===t)return;const n=this._isColorString(t);if(void 0!==n&&(t=n),!0===HH(t)){if(!0===hW(t)){const i=t.substr(4).substr(0,t.length-5).split(",");e={r:i[0],g:i[1],b:i[2],a:1}}else if(!0===cW(t)){const i=t.substr(5).substr(0,t.length-6).split(",");e={r:i[0],g:i[1],b:i[2],a:i[3]}}else if(!0===aW(t)){const i=JH(t);e={r:i.r,g:i.g,b:i.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){const i=void 0!==t.a?t.a:"1.0";e={r:t.r,g:t.g,b:t.b,a:i}}if(void 0===e)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+bj(t));this._setColor(e,i)}show(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===t&&(this.previousColor=Kk({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",Kj(()=>{void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=Kk({},t)),this.color=t;const i=nW(t.r,t.g,t.b),n=2*Math.PI,o=this.r*i.s,r=this.centerCoordinates.x+o*Math.sin(n*i.h),s=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}_setOpacity(t){this.color.a=t/100,this._updatePicker(this.color)}_setBrightness(t){const e=nW(this.color.r,this.color.g,this.color.b);e.v=t/100;const i=oW(e.h,e.s,e.v);i["a"]=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color;const e=nW(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),rR(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var t,e,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(r){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(r){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=sT(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=sT(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=sT(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=sT(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new FH(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",t=>{t.isFirst&&this._moveSelector(t)}),this.hammer.on("tap",t=>{this._moveSelector(t)}),this.hammer.on("panstart",t=>{this._moveSelector(t)}),this.hammer.on("panmove",t=>{this._moveSelector(t)}),this.hammer.on("panend",t=>{this._moveSelector(t)})}_generateHueCircle(){if(!1===this.generated){const t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;let n,o,r,s;t.clearRect(0,0,e,i),this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;const a=2*Math.PI/360,h=1/360,c=1/this.r;let d;for(r=0;r<360;r++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(a*r),o=this.centerCoordinates.y+s*Math.cos(a*r),d=oW(r*h,s*c,1),t.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}_moveSelector(t){const e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=n-o,h=Math.atan2(s,a),c=.98*Math.min(Math.sqrt(s*s+a*a),r),d=Math.cos(h)*c+o,l=Math.sin(h)*c+r;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px";let u=h/(2*Math.PI);u=u<0?u+1:u;const f=c/this.r,p=nW(this.color.r,this.color.g,this.color.b);p.h=u,p.s=f;const g=oW(p.h,p.s,p.v);g["a"]=this.color.a,this.color=g,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function vW(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);{const t=document.createElement(e[0]);return t.appendChild(vW(...WP(e).call(e,1))),t}}let yW,mW=class{constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>!1;this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Kk(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new gW(n),this.wrapper=void 0}setOptions(t){if(void 0!==t){this.popupHistory={},this._removePopup();let e=!0;if("string"===typeof t)this.options.filter=t;else if(uF(t))this.options.filter=t.join();else if("object"===typeof t){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==NA(t)&&(this.options.filter=NA(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"===typeof t?(this.options.filter=!0,e=t):"function"===typeof t&&(this.options.filter=t,e=!0);!1===NA(this.options)&&(e=!1),this.options.enabled=e}this._clean()}setModuleOptions(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const t=NA(this.options);let e=0,i=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,"function"===typeof t?(i=t(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):!0!==t&&-1===AB(t).call(t,n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}_clean(){for(let t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(t){let e=this.moduleOptions;for(let i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}_makeItem(t){if(!0===this.allowCreation){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Cz(i).call(i,t=>{o.appendChild(t)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(t){const e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}_makeLabel(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){while(n.firstChild)n.removeChild(n.firstChild);n.appendChild(vW("i","b",t))}else n.innerText=t+":";return n}_makeDropdown(t,e,i){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;void 0!==e&&-1!==AB(t).call(t,e)&&(o=AB(t).call(t,e));for(let a=0;a<t.length;a++){const e=document.createElement("option");e.value=t[a],a===o&&(e.selected="selected"),e.innerText=t[a],n.appendChild(e)}const r=this;n.onchange=function(){r._update(this.value,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeRange(t,e,i){const n=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(p){}a.step=s;let h="",c=0;if(void 0!==e){const t=1.2;e<0&&e*t<o?(a.min=Math.ceil(e*t),c=a.min,h="range increased"):e/t<o&&(a.min=Math.ceil(e/t),c=a.min,h="range increased"),e*t>r&&1!==r&&(a.max=Math.ceil(e*t),c=a.max,h="range increased"),a.value=e}else a.value=n;const d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=a.value;const l=this;a.onchange=function(){d.value=this.value,l._update(Number(this.value),i)},a.oninput=function(){d.value=this.value};const u=this._makeLabel(i[i.length-1],i),f=this._makeItem(i,u,a,d);""!==h&&this.popupHistory[f]!==c&&(this.popupHistory[f]=c,this._setupPopup(h,f))}_makeButton(){if(!0===this.options.showButton){const t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=()=>{this._printOptions()},t.onmouseover=()=>{t.className="vis-configuration vis-config-button hover"},t.onmouseout=()=>{t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}_setupPopup(t,e){if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}_removePopup(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(void 0!==this.popupDiv.html){const t=this.domElements[this.popupDiv.index],e=t.getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Kj(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Kj(()=>{this._removePopup()},1800)}}_makeCheckbox(t,e,i){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));const o=this;n.onchange=function(){o._update(this.checked,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeTextInput(t,e,i){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});const o=this;n.onchange=function(){o._update(this.value,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeColorField(t,e,i){const n=t[1],o=document.createElement("div");e=void 0===e?n:e,"none"!==e?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,o.onclick=()=>{this._showColorPicker(e,o,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}_showColorPicker(t,e,i){e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(t=>{const n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,this._update(n,i)}),this.colorPicker.setCloseCallback(()=>{e.onclick=()=>{this._showColorPicker(t,e,i)}})}_handleObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1;const o=NA(this.options);let r=!1;for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){n=!0;const a=t[s],h=GH(e,s);if("function"===typeof o&&(n=o(s,e),!1===n&&!uF(a)&&"string"!==typeof a&&"boolean"!==typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,h,!0),this.allowCreation=!1===i)),!1!==n){r=!0;const t=this._getValue(h);if(uF(a))this._handleArray(a,t,h);else if("string"===typeof a)this._makeTextInput(a,t,h);else if("boolean"===typeof a)this._makeCheckbox(a,t,h);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){const t=GH(h,"enabled"),e=this._getValue(t);if(!0===e){const t=this._makeLabel(s,h,!0);this._makeItem(h,t),r=this._handleObject(a,h)||r}else this._makeCheckbox(a,e,h)}else{const t=this._makeLabel(s,h,!0);this._makeItem(h,t),r=this._handleObject(a,h)||r}}else console.error("dont know how to handle",a,s,h)}}return r}_handleArray(t,e,i){"string"===typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"===typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"===typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}_update(t,e){const i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="true"===t||t,t="false"!==t&&t;for(let o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}_printOptions(){const t=this.getOptions();while(this.optionsContainer.firstChild)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(vW("pre","const options = "+bj(t,null,2)))}getOptions(){const t={};for(let e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}},bW=class{constructor(t,e){this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(t,e){this.x=_B(t),this.y=_B(e)}setText(t){if(t instanceof Element){while(this.frame.firstChild)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}show(t){if(void 0===t&&(t=!0),!0===t){const t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth;let o=0,r=0;if("flip"==this.overflowMethod){let i=!1,s=!0;this.y-t<this.padding&&(s=!1),this.x+e>n-this.padding&&(i=!0),o=i?this.x-e:this.x,r=s?this.y-t:this.y}else r=this.y-t,r+t+this.padding>i&&(r=i-t-this.padding),r<this.padding&&(r=this.padding),o=this.x,o+e+this.padding>n&&(o=n-e-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=r+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},wW=!1;const _W="background: #FFeeee; color: #dd0000";let xW=class t{static validate(e,i,n){wW=!1,yW=i;let o=i;return void 0!==n&&(o=i[n]),t.parse(e,o,[]),wW}static parse(e,i,n){for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.check(o,e,i,n)}static check(e,i,n,o){if(void 0===n[e]&&void 0===n.__any__)return void t.getSuggestion(e,n,o);let r=e,s=!0;void 0===n[e]&&void 0!==n.__any__&&(r="__any__",s="object"===t.getType(i[e]));let a=n[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,r,a,o)}static checkFields(e,i,n,o,r,s){const a=function(i){console.error("%c"+i+t.printLocation(s,e),_W)},h=t.getType(i[e]),c=r[h];void 0!==c?"array"===t.getType(c)&&-1===AB(c).call(c,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(c)+' not "'+i[e]+'". '),wW=!0):"object"===h&&"__any__"!==o&&(s=GH(s,e),t.parse(i[e],n[o],s)):void 0===r["any"]&&(a('Invalid type received for "'+e+'". Expected: '+t.print(HF(r))+". Received ["+h+'] "'+i[e]+'"'),wW=!0)}static getType(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":uF(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(e,i,n){const o=t.findInOptions(e,i,n,!1),r=t.findInOptions(e,yW,[],!0),s=8,a=4;let h;h=void 0!==o.indexMatch?" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':r.distance<=a&&o.distance>r.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(r.path,r.closestMatch,""):o.distance<=s?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(HF(i))+t.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+h,_W),wW=!0}static findInOptions(e,i,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[];const h=e.toLowerCase();let c;for(const l in i){let u;if(void 0!==i[l].__type__&&!0===o){const o=t.findInOptions(e,i[l],GH(n,l));r>o.distance&&(s=o.closestMatch,a=o.path,r=o.distance,c=o.indexMatch)}else{var d;-1!==AB(d=l.toLowerCase()).call(d,h)&&(c=l),u=t.levenshteinDistance(e,l),r>u&&(s=l,a=KH(n),r=u)}}return{closestMatch:s,path:a,distance:r,indexMatch:c}}static printLocation(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",n="\n\n"+i+"options = {\n";for(let o=0;o<t.length;o++){for(let t=0;t<o+1;t++)n+="  ";n+=t[o]+": {\n"}for(let o=0;o<t.length+1;o++)n+="  ";n+=e+"\n";for(let o=0;o<t.length+1;o++){for(let e=0;e<t.length-o;e++)n+="  ";n+="}\n"}return n+"\n\n"}static print(t){return bj(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const i=[];let n,o;for(n=0;n<=e.length;n++)i[n]=[n];for(o=0;o<=t.length;o++)i[0][o]=o;for(n=1;n<=e.length;n++)for(o=1;o<=t.length;o++)e.charAt(n-1)==t.charAt(o-1)?i[n][o]=i[n-1][o-1]:i[n][o]=Math.min(i[n-1][o-1]+1,Math.min(i[n][o-1]+1,i[n-1][o]+1));return i[e.length][t.length]}};const EW=zH,OW=mW,SW=FH,CW=bW,kW=_W,TW=xW;function DW(t){return zW=t,KW()}var MW={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},IW=ij(MW);IW.color="color.color",IW.style="dashes";var PW={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},FW={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},zW="",NW=0,AW="",BW="",jW=PW.NULL;function RW(){NW=0,AW=zW.charAt(0)}function LW(){NW++,AW=zW.charAt(NW)}function HW(){return zW.charAt(NW+1)}function WW(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function UW(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function qW(t,e,i){var n=e.split("."),o=t;while(n.length){var r=n.shift();n.length?(o[r]||(o[r]={}),o=o[r]):o[r]=i}}function VW(t,e){var i,n,o=null,r=[t],s=t;while(s.parent)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(e.id===s.nodes[i].id){o=s.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=UW(o.attr,t.node))),i=r.length-1;i>=0;i--){var a,h=r[i];h.nodes||(h.nodes=[]),-1===AB(a=h.nodes).call(a,o)&&h.nodes.push(o)}e.attr&&(o.attr=UW(o.attr,e.attr))}function YW(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=UW({},t.edge);e.attr=UW(i,e.attr)}}function XW(t,e,i,n,o){var r={from:e,to:i,type:n};return t.edge&&(r.attr=UW({},t.edge)),r.attr=UW(r.attr||{},o),null!=o&&o.hasOwnProperty("arrows")&&null!=o["arrows"]&&(r["arrows"]={to:{enabled:!0,type:o.arrows.type}},o["arrows"]=null),r}function GW(){jW=PW.NULL,BW="";while(" "===AW||"\t"===AW||"\n"===AW||"\r"===AW)LW();do{var t=!1;if("#"===AW){var e=NW-1;while(" "===zW.charAt(e)||"\t"===zW.charAt(e))e--;if("\n"===zW.charAt(e)||""===zW.charAt(e)){while(""!=AW&&"\n"!=AW)LW();t=!0}}if("/"===AW&&"/"===HW()){while(""!=AW&&"\n"!=AW)LW();t=!0}if("/"===AW&&"*"===HW()){while(""!=AW){if("*"===AW&&"/"===HW()){LW(),LW();break}LW()}t=!0}while(" "===AW||"\t"===AW||"\n"===AW||"\r"===AW)LW()}while(t);if(""!==AW){var i=AW+HW();if(FW[i])return jW=PW.DELIMITER,BW=i,LW(),void LW();if(FW[AW])return jW=PW.DELIMITER,BW=AW,void LW();if(WW(AW)||"-"===AW){BW+=AW,LW();while(WW(AW))BW+=AW,LW();return"false"===BW?BW=!1:"true"===BW?BW=!0:isNaN(Number(BW))||(BW=Number(BW)),void(jW=PW.IDENTIFIER)}if('"'===AW){LW();while(""!=AW&&('"'!=AW||'"'===AW&&'"'===HW()))'"'===AW?(BW+=AW,LW()):"\\"===AW&&"n"===HW()?(BW+="\n",LW()):BW+=AW,LW();if('"'!=AW)throw nU('End of string " expected');return LW(),void(jW=PW.IDENTIFIER)}jW=PW.UNKNOWN;while(""!=AW)BW+=AW,LW();throw new SyntaxError('Syntax error in part "'+oU(BW,30)+'"')}jW=PW.DELIMITER}function KW(){var t={};if(RW(),GW(),"strict"===BW&&(t.strict=!0,GW()),"graph"!==BW&&"digraph"!==BW||(t.type=BW,GW()),jW===PW.IDENTIFIER&&(t.id=BW,GW()),"{"!=BW)throw nU("Angle bracket { expected");if(GW(),$W(t),"}"!=BW)throw nU("Angle bracket } expected");if(GW(),""!==BW)throw nU("End of file expected");return GW(),delete t.node,delete t.edge,delete t.graph,t}function $W(t){while(""!==BW&&"}"!=BW)ZW(t),";"===BW&&GW()}function ZW(t){var e=QW(t);if(e)eU(t,e);else{var i=JW(t);if(!i){if(jW!=PW.IDENTIFIER)throw nU("Identifier expected");var n=BW;if(GW(),"="===BW){if(GW(),jW!=PW.IDENTIFIER)throw nU("Identifier expected");t[n]=BW,GW()}else tU(t,n)}}}function QW(t){var e=null;if("subgraph"===BW&&(e={},e.type="subgraph",GW(),jW===PW.IDENTIFIER&&(e.id=BW,GW())),"{"===BW){if(GW(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,$W(e),"}"!=BW)throw nU("Angle bracket } expected");GW(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function JW(t){return"node"===BW?(GW(),t.node=iU(),"node"):"edge"===BW?(GW(),t.edge=iU(),"edge"):"graph"===BW?(GW(),t.graph=iU(),"graph"):null}function tU(t,e){var i={id:e},n=iU();n&&(i.attr=n),VW(t,i),eU(t,e)}function eU(t,e){while("->"===BW||"--"===BW){var i,n=BW;GW();var o=QW(t);if(o)i=o;else{if(jW!=PW.IDENTIFIER)throw nU("Identifier or subgraph expected");i=BW,VW(t,{id:i}),GW()}var r=iU(),s=XW(t,e,i,n,r);YW(t,s),e=i}}function iU(){var t,e,i=null,n={dashed:!0,solid:!1,dotted:[1,5]},o={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},r=new Array,s=new Array;while("["===BW){GW(),i={};while(""!==BW&&"]"!=BW){if(jW!=PW.IDENTIFIER)throw nU("Attribute name expected");var a=BW;if(GW(),"="!=BW)throw nU("Equal sign = expected");if(GW(),jW!=PW.IDENTIFIER)throw nU("Attribute value expected");var h,c=BW;"style"===a&&(c=n[c]),"arrowhead"===a&&(h=o[c],a="arrows",c={to:{enabled:!0,type:h}}),"arrowtail"===a&&(h=o[c],a="arrows",c={from:{enabled:!0,type:h}}),r.push({attr:i,name:a,value:c}),s.push(a),GW(),","==BW&&GW()}if("]"!=BW)throw nU("Bracket ] expected");GW()}if(WN(s).call(s,"dir")){var d={arrows:{}};for(t=0;t<r.length;t++)if("arrows"===r[t].name)if(null!=r[t].value.to)d.arrows.to=t;else{if(null==r[t].value.from)throw nU("Invalid value of arrows");d.arrows.from=t}else"dir"===r[t].name&&(d.dir=t);var l,u,f=r[d.dir].value;if(!WN(s).call(s,"arrows"))if("both"===f)r.push({attr:r[d.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),d.arrows.to=r.length-1,r.push({attr:r[d.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),d.arrows.from=r.length-1;else if("forward"===f)r.push({attr:r[d.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),d.arrows.to=r.length-1;else if("back"===f)r.push({attr:r[d.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),d.arrows.from=r.length-1;else{if("none"!==f)throw nU('Invalid dir type "'+f+'"');r.push({attr:r[d.dir].attr,name:"arrows",value:""}),d.arrows.to=r.length-1}if("both"===f)d.arrows.to&&d.arrows.from?(u=r[d.arrows.to].value.to.type,l=r[d.arrows.from].value.from.type,r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}},sN(r).call(r,d.arrows.from,1)):d.arrows.to?(u=r[d.arrows.to].value.to.type,l="arrow",r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):d.arrows.from&&(u="arrow",l=r[d.arrows.from].value.from.type,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}});else if("back"===f)d.arrows.to&&d.arrows.from?(u="",l=r[d.arrows.from].value.from.type,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):d.arrows.to?(u="",l="arrow",d.arrows.from=d.arrows.to,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):d.arrows.from&&(u="",l=r[d.arrows.from].value.from.type,r[d.arrows.to]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}),r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{from:{enabled:!0,type:r[d.arrows.from].value.from.type}}};else if("none"===f){var p;p=d.arrows.to?d.arrows.to:d.arrows.from,r[p]={attr:r[p].attr,name:r[p].name,value:""}}else{if("forward"!==f)throw nU('Invalid dir type "'+f+'"');d.arrows.to&&d.arrows.from||d.arrows.to?(u=r[d.arrows.to].value.to.type,l="",r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}):d.arrows.from&&(u="arrow",l="",d.arrows.to=d.arrows.from,r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:u},from:{enabled:!0,type:l}}}),r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:r[d.arrows.to].value.to.type}}}}sN(r).call(r,d.dir,1)}if(WN(s).call(s,"penwidth")){var g=[];for(e=r.length,t=0;t<e;t++)"width"!==r[t].name&&("penwidth"===r[t].name&&(r[t].name="width"),g.push(r[t]));r=g}for(e=r.length,t=0;t<e;t++)qW(r[t].attr,r[t].name,r[t].value);return i}function nU(t){return new SyntaxError(t+', got "'+oU(BW,30)+'" (char '+NW+")")}function oU(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function rU(t,e,i){uF(t)?Cz(t).call(t,function(t){uF(e)?Cz(e).call(e,function(e){i(t,e)}):i(t,e)}):uF(e)?Cz(e).call(e,function(e){i(t,e)}):i(t,e)}function sU(t,e,i){for(var n=e.split("."),o=n.pop(),r=t,s=0;s<n.length;s++){var a=n[s];a in r||(r[a]={}),r=r[a]}return r[o]=i,t}function aU(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var o=e[n];uF(o)?Cz(o).call(o,function(e){sU(i,e,t[n])}):sU(i,"string"===typeof o?o:n,t[n])}return i}function hU(t){var e,i=DW(t),n={nodes:[],edges:[],options:{}};i.nodes&&Cz(e=i.nodes).call(e,function(t){var e={id:t.id,label:String(t.label||t.id)};UW(e,aU(t.attr,MW)),e.image&&(e.shape="image"),n.nodes.push(e)});if(i.edges){var o,r=function(t){var e={from:t.from,to:t.to};return UW(e,aU(t.attr,IW)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};Cz(o=i.edges).call(o,function(t){var e,i,o,s;(e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges)&&Cz(o=t.from.edges).call(o,function(t){var e=r(t);n.edges.push(e)});(rU(e,i,function(e,i){var o=XW(n,e.id,i.id,t.type,t.attr),s=r(o);n.edges.push(s)}),t.to instanceof Object&&t.to.edges)&&Cz(s=t.to.edges).call(s,function(t){var e=r(t);n.edges.push(e)})})}return i.attr&&(n.options=i.attr),n}function cU(t,e){var i;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(n.nodes.fixed=e.fixed),null!=e.parseColor&&(n.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(n.edges.inheritColor=e.inheritColor));const o=t.edges,r=kF(o).call(o,t=>{const e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===n.edges.inheritColor&&(e.color=t.color),e}),s=kF(i=t.nodes).call(i,t=>{const e={id:t.id,fixed:n.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===n.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e});return{nodes:s,edges:r}}const dU={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},lU={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},uU={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fU={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},pU={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},gU={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},vU={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},yU={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},mU={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},bU={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},wU={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"};var _U=Object.freeze({__proto__:null,cn:yU,cs:wU,de:lU,en:dU,es:uU,fr:bU,it:fU,nl:pU,pt:gU,ru:vU,uk:mU});function xU(t,e){try{const[n,o]=e.split(/[-_ /]/,2),r=null!=n?n.toLowerCase():null,s=null!=o?o.toUpperCase():null;if(r&&s){const e=r+"-"+s;if(Object.prototype.hasOwnProperty.call(t,e))return e;var i;console.warn(mA(i="Unknown variant ".concat(s," of language ")).call(i,r,"."))}if(r){const e=r;if(Object.prototype.hasOwnProperty.call(t,e))return e;console.warn("Unknown language ".concat(r))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class EU{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const t=this.image.width,e=this.image.height;this.width=t,this.height=e;const i=Math.floor(e/2),n=Math.floor(e/4),o=Math.floor(e/8),r=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),h=Math.floor(t/8),c=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,n],[s,n,h,o],[5*h,n,c,r]],this._fillMipMap()}initialized(){return void 0!==this.coordinates}_fillMipMap(){const t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(let i=1;i<this.NUM_ITERATIONS;i++){const e=this.coordinates[i-1],n=this.coordinates[i];t.drawImage(this.canvas,e[0],e[1],e[2],e[3],n[0],n[1],n[2],n[3])}}drawImageAtPosition(t,e,i,n,o,r){if(this.initialized())if(e>2){e*=.5;let s=0;while(e>2&&s<this.NUM_ITERATIONS)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);const a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,o,r)}else t.drawImage(this.image,i,n,o,r)}}class OU{constructor(t){this.images={},this.imageBroken={},this.callback=t}_tryloadBrokenUrl(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.image.onerror=()=>{console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}_redrawWithImage(t){this.callback&&this.callback(t)}load(t,e){const i=this.images[t];if(i)return i;const n=new EU;return this.images[t]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",t),this._tryloadBrokenUrl(t,e,n)},n.image.src=t,n}_fixImageCoordinates(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}var SU,CU,kU,TU,DU,MU,IU,PU,FU,zU,NU,AU,BU,jU,RU,LU,HU,WU,UU,qU,VU,YU,XU,GU,KU,$U,ZU,QU,JU,tq={},eq={},iq={exports:{}};function nq(){if(CU)return SU;CU=1;var t=mO();return SU=t(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),SU}function oq(){if(TU)return kU;TU=1;var t=mO(),e=xS(),i=xO(),n=nq(),o=Object.isExtensible,r=t(function(){});return kU=r||n?function(t){return!!e(t)&&((!n||"ArrayBuffer"!==i(t))&&(!o||o(t)))}:o,kU}function rq(){if(MU)return DU;MU=1;var t=mO();return DU=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),DU}function sq(){if(IU)return iq.exports;IU=1;var t=rk(),e=_O(),i=uk(),n=xS(),o=gC(),r=nk().f,s=ED(),a=MD(),h=oq(),c=vC(),d=rq(),l=!1,u=c("meta"),f=0,p=function(t){r(t,u,{value:{objectID:"O"+f++,weakData:{}}})},g=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,u)){if(!h(t))return"F";if(!e)return"E";p(t)}return t[u].objectID},v=function(t,e){if(!o(t,u)){if(!h(t))return!0;if(!e)return!1;p(t)}return t[u].weakData},y=function(t){return d&&l&&h(t)&&!o(t,u)&&p(t),t},m=function(){b.enable=function(){},l=!0;var i=s.f,n=e([].splice),o={};o[u]=1,i(o).length&&(s.f=function(t){for(var e=i(t),o=0,r=e.length;o<r;o++)if(e[o]===u){n(e,o,1);break}return e},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},b=iq.exports={enable:m,fastKey:g,getWeakData:v,onFreeze:y};return i[u]=!0,iq.exports}function aq(){if(FU)return PU;FU=1;var t=yC(),e=rP(),i=t("iterator"),n=Array.prototype;return PU=function(t){return void 0!==t&&(e.Array===t||n[i]===t)},PU}function hq(){if(NU)return zU;NU=1;var t=ZT(),e=FS(),i=bS(),n=rP(),o=yC(),r=o("iterator");return zU=function(o){if(!i(o))return e(o,r)||e(o,"@@iterator")||n[t(o)]},zU}function cq(){if(BU)return AU;BU=1;var t=IO(),e=PS(),i=ik(),n=IS(),o=hq(),r=TypeError;return AU=function(s,a){var h=arguments.length<2?o(s):a;if(e(h))return i(t(h,s));throw new r(n(s)+" is not iterable")},AU}function dq(){if(RU)return jU;RU=1;var t=IO(),e=ik(),i=FS();return jU=function(n,o,r){var s,a;e(n);try{if(s=i(n,"return"),!s){if("throw"===o)throw r;return r}s=t(s,n)}catch(h){a=!0,s=h}if("throw"===o)throw r;if(a)throw s;return e(s),r},jU}function lq(){if(HU)return LU;HU=1;var t=OC(),e=IO(),i=ik(),n=IS(),o=aq(),r=dk(),s=SS(),a=cq(),h=hq(),c=dq(),d=TypeError,l=function(t,e){this.stopped=t,this.result=e},u=l.prototype;return LU=function(f,p,g){var v,y,m,b,w,_,x,E=g&&g.that,O=!(!g||!g.AS_ENTRIES),S=!(!g||!g.IS_RECORD),C=!(!g||!g.IS_ITERATOR),k=!(!g||!g.INTERRUPTED),T=t(p,E),D=function(t){return v&&c(v,"normal"),new l(!0,t)},M=function(t){return O?(i(t),k?T(t[0],t[1],D):T(t[0],t[1])):k?T(t,D):T(t)};if(S)v=f.iterator;else if(C)v=f;else{if(y=h(f),!y)throw new d(n(f)+" is not iterable");if(o(y)){for(m=0,b=r(f);b>m;m++)if(w=M(f[m]),w&&s(u,w))return w;return new l(!1)}v=a(f,y)}_=S?f.next:v.next;while(!(x=e(_,v)).done){try{w=M(x.value)}catch(I){c(v,"throw",I)}if("object"==typeof w&&w&&s(u,w))return w}return new l(!1)},LU}function uq(){if(UU)return WU;UU=1;var t=SS(),e=TypeError;return WU=function(i,n){if(t(n,i))return i;throw new e("Incorrect invocation")},WU}function fq(){if(VU)return qU;VU=1;var t=rk(),e=yO(),i=sq(),n=mO(),o=ok(),r=lq(),s=uq(),a=OO(),h=xS(),c=bS(),d=tM(),l=nk().f,u=nM().forEach,f=MO(),p=iM(),g=p.set,v=p.getterFor;return qU=function(p,y,m){var b,w=-1!==p.indexOf("Map"),_=-1!==p.indexOf("Weak"),x=w?"set":"add",E=e[p],O=E&&E.prototype,S={};if(f&&a(E)&&(_||O.forEach&&!n(function(){(new E).entries().next()}))){b=y(function(t,e){g(s(t,C),{type:p,collection:new E}),c(e)||r(e,t[x],{that:t,AS_ENTRIES:w})});var C=b.prototype,k=v(p);u(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"===t||"set"===t;!(t in O)||_&&"clear"===t||o(C,t,function(i,n){var o=k(this).collection;if(!e&&_&&!h(i))return"get"===t&&void 0;var r=o[t](0===i?0:i,n);return e?this:r})}),_||l(C,"size",{configurable:!0,get:function(){return k(this).collection.size}})}else b=m.getConstructor(y,p,w,x),i.enable();return d(b,p,!1,!0),S[p]=b,t({global:!0,forced:!0},S),_||m.setStrong(b,p,w),b},qU}function pq(){if(XU)return YU;XU=1;var t=ID();return YU=function(e,i,n){for(var o in i)n&&n.unsafe&&e[o]?e[o]=i[o]:t(e,o,i[o],n);return e},YU}function gq(){if(KU)return GU;KU=1;var t=OS(),e=PD(),i=yC(),n=MO(),o=i("species");return GU=function(i){var r=t(i);n&&r&&!r[o]&&e(r,o,{configurable:!0,get:function(){return this}})},GU}function vq(){if(ZU)return $U;ZU=1;var t=wD(),e=PD(),i=pq(),n=OC(),o=uq(),r=bS(),s=lq(),a=gP(),h=vP(),c=gq(),d=MO(),l=sq().fastKey,u=iM(),f=u.set,p=u.getterFor;return $U={getConstructor:function(a,h,c,u){var g=a(function(e,i){o(e,v),f(e,{type:h,index:t(null),first:null,last:null,size:0}),d||(e.size=0),r(i)||s(i,e[u],{that:e,AS_ENTRIES:c})}),v=g.prototype,y=p(h),m=function(t,e,i){var n,o,r=y(t),s=b(t,e);return s?s.value=i:(r.last=s={index:o=l(e,!0),key:e,value:i,previous:n=r.last,next:null,removed:!1},r.first||(r.first=s),n&&(n.next=s),d?r.size++:t.size++,"F"!==o&&(r.index[o]=s)),t},b=function(t,e){var i,n=y(t),o=l(e);if("F"!==o)return n.index[o];for(i=n.first;i;i=i.next)if(i.key===e)return i};return i(v,{clear:function(){var e=this,i=y(e),n=i.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=null),n=n.next;i.first=i.last=null,i.index=t(null),d?i.size=0:e.size=0},delete:function(t){var e=this,i=y(e),n=b(e,t);if(n){var o=n.next,r=n.previous;delete i.index[n.index],n.removed=!0,r&&(r.next=o),o&&(o.previous=r),i.first===n&&(i.first=o),i.last===n&&(i.last=r),d?i.size--:e.size--}return!!n},forEach:function(t){var e,i=y(this),o=n(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:i.first){o(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),i(v,c?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),d&&e(v,"size",{configurable:!0,get:function(){return y(this).size}}),g},setStrong:function(t,e,i){var n=e+" Iterator",o=p(e),r=p(n);a(t,e,function(t,e){f(this,{type:n,target:t,state:o(t),kind:e,last:null})},function(){var t=r(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?h("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=null,h(void 0,!0))},i?"entries":"values",!i,!0),c(e)}},$U}function yq(){if(QU)return eq;QU=1;var t=fq(),e=vq();return t("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),eq}function mq(){return JU||(JU=1,yq()),tq}var bq,wq,_q,xq,Eq,Oq={};function Sq(){return wq||(wq=1,bq=function(t,e){return 1===e?function(e,i){return e[t](i)}:function(e,i,n){return e[t](i,n)}}),bq}function Cq(){if(xq)return _q;xq=1;var t=OS(),e=Sq(),i=t("Map");return _q={Map:i,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:i.prototype},_q}function kq(){if(Eq)return Oq;Eq=1;var t=rk(),e=_O(),i=PS(),n=wS(),o=lq(),r=Cq(),s=dC(),a=mO(),h=r.Map,c=r.has,d=r.get,l=r.set,u=e([].push),f=s||a(function(){return 1!==h.groupBy("ab",function(t){return t}).get("a").length});return t({target:"Map",stat:!0,forced:s||f},{groupBy:function(t,e){n(t),i(e);var r=new h,s=0;return o(t,function(t){var i=e(t,s++);c(r,i)?u(d(r,i),t):l(r,i,[t])}),r}}),Oq}var Tq,Dq,Mq,Iq,Pq,Fq,zq,Nq,Aq,Bq={};function jq(){if(Dq)return Tq;Dq=1;var t=_O(),e=ak(),i=hD(),n=wS(),o=t("".charAt),r=t("".charCodeAt),s=t("".slice),a=function(t){return function(a,h){var c,d,l=i(n(a)),u=e(h),f=l.length;return u<0||u>=f?t?"":void 0:(c=r(l,u),c<55296||c>56319||u+1===f||(d=r(l,u+1))<56320||d>57343?t?o(l,u):c:t?s(l,u,u+2):d-56320+(c-55296<<10)+65536)}};return Tq={codeAt:a(!1),charAt:a(!0)},Tq}function Rq(){if(Mq)return Bq;Mq=1;var t=jq().charAt,e=hD(),i=iM(),n=gP(),o=vP(),r="String Iterator",s=i.set,a=i.getterFor(r);return n(String,"String",function(t){s(this,{type:r,string:e(t),index:0})},function(){var e,i=a(this),n=i.string,r=i.index;return r>=n.length?o(void 0,!0):(e=t(n,r),i.index+=e.length,o(e,!1))}),Bq}function Lq(){if(Pq)return Iq;Pq=1,yP(),mq(),kq(),Rq();var t=ES();return Iq=t.Map,Iq}function Hq(){if(zq)return Fq;zq=1;var t=Lq();return bP(),Fq=t,Fq}function Wq(){return Aq||(Aq=1,Nq=Hq()),Nq}var Uq=Wq(),qq=JE(Uq);class Vq{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Kk(this.options,this.defaultOptions)}setOptions(t){const e=["useDefaultGroups"];if(void 0!==t)for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&-1===AB(e).call(e,i)){const e=t[i];this.add(i,e)}}clear(){this._groups=new qq,this._groupNames=[]}get(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(t);if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){const e=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[e]),this._groups.set(t,i)}else{const e=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[e],this._groups.set(t,i)}return i}add(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}var Yq,Xq,Gq,Kq,$q,Zq,Qq,Jq={};function tV(){if(Yq)return Jq;Yq=1;var t=rk();return t({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),Jq}function eV(){if(Gq)return Xq;Gq=1,tV();var t=ES();return Xq=t.Number.isNaN,Xq}function iV(){if($q)return Kq;$q=1;var t=eV();return Kq=t,Kq}function nV(){return Qq||(Qq=1,Zq=iV()),Zq}var oV,rV,sV,aV,hV,cV,dV,lV,uV,fV=nV(),pV=JE(fV),gV={};function vV(){if(rV)return oV;rV=1;var t=yO(),e=t.isFinite;return oV=Number.isFinite||function(t){return"number"==typeof t&&e(t)},oV}function yV(){if(sV)return gV;sV=1;var t=rk(),e=vV();return t({target:"Number",stat:!0},{isFinite:e}),gV}function mV(){if(hV)return aV;hV=1,yV();var t=ES();return aV=t.Number.isFinite,aV}function bV(){if(dV)return cV;dV=1;var t=mV();return cV=t,cV}function wV(){return uV||(uV=1,lV=bV()),lV}var _V,xV,EV,OV,SV,CV,kV,TV,DV,MV=wV(),IV=JE(MV),PV={};function FV(){if(_V)return PV;_V=1;var t=rk(),e=nM().some,i=cz(),n=i("some");return t({target:"Array",proto:!0,forced:!n},{some:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),PV}function zV(){if(EV)return xV;EV=1,FV();var t=tT();return xV=t("Array","some"),xV}function NV(){if(SV)return OV;SV=1;var t=SS(),e=zV(),i=Array.prototype;return OV=function(n){var o=n.some;return n===i||t(i,n)&&o===i.some?e:o},OV}function AV(){if(kV)return CV;kV=1;var t=NV();return CV=t,CV}function BV(){return DV||(DV=1,TV=AV()),TV}var jV,RV,LV,HV,WV,UV,qV,VV,YV,XV,GV=BV(),KV=JE(GV),$V={exports:{}},ZV={};function QV(){if(jV)return ZV;jV=1;var t=rk(),e=MO(),i=nk().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!e},{defineProperty:i}),ZV}function JV(){if(RV)return $V.exports;RV=1,QV();var t=ES(),e=t.Object,i=$V.exports=function(t,i,n){return e.defineProperty(t,i,n)};return e.defineProperty.sham&&(i.sham=!0),$V.exports}function tY(){if(HV)return LV;HV=1;var t=JV();return LV=t,LV}function eY(){if(UV)return WV;UV=1;var t=tY();return WV=t,WV}function iY(){if(VV)return qV;VV=1;var t=eY();return qV=t,qV}function nY(){return XV||(XV=1,YV=iY()),YV}var oY,rY=nY(),sY=JE(rY),aY={};function hY(){if(oY)return aY;oY=1;var t=yC(),e=nk().f,i=t("metadata"),n=Function.prototype;return void 0===n[i]&&e(n,i,{value:null}),aY}var cY,dY={};function lY(){return cY||(cY=1,kM()),dY}var uY,fY={};function pY(){return uY||(uY=1,FM()),fY}var gY,vY,yY,mY={};function bY(){if(gY)return mY;gY=1;var t=ZD();return t("metadata"),mY}function wY(){if(yY)return vY;yY=1;var t=wP();return hY(),lY(),pY(),bY(),vY=t,vY}var _Y,xY,EY,OY={};function SY(){if(xY)return _Y;xY=1;var t=OS(),e=_O(),i=t("Symbol"),n=i.keyFor,o=e(i.prototype.valueOf);return _Y=i.isRegisteredSymbol||function(t){try{return void 0!==n(o(t))}catch(e){return!1}},_Y}function CY(){if(EY)return OY;EY=1;var t=rk(),e=SY();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),OY}var kY,TY,DY,MY={};function IY(){if(TY)return kY;TY=1;for(var t=fC(),e=OS(),i=_O(),n=MS(),o=yC(),r=e("Symbol"),s=r.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),h=i(r.prototype.valueOf),c=t("wks"),d=0,l=a(r),u=l.length;d<u;d++)try{var f=l[d];n(r[f])&&o(f)}catch(p){}return kY=function(t){if(s&&s(t))return!0;try{for(var e=h(t),i=0,n=a(c),o=n.length;i<o;i++)if(c[n[i]]==e)return!0}catch(p){}return!1},kY}function PY(){if(DY)return MY;DY=1;var t=rk(),e=IY();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),MY}var FY,zY={};function NY(){if(FY)return zY;FY=1;var t=ZD();return t("customMatcher"),zY}var AY,BY={};function jY(){if(AY)return BY;AY=1;var t=ZD();return t("observable"),BY}var RY,LY={};function HY(){if(RY)return LY;RY=1;var t=rk(),e=SY();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),LY}var WY,UY={};function qY(){if(WY)return UY;WY=1;var t=rk(),e=IY();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),UY}var VY,YY={};function XY(){if(VY)return YY;VY=1;var t=ZD();return t("matcher"),YY}var GY,KY={};function $Y(){if(GY)return KY;GY=1;var t=ZD();return t("metadataKey"),KY}var ZY,QY={};function JY(){if(ZY)return QY;ZY=1;var t=ZD();return t("patternMatch"),QY}var tX,eX,iX,nX,oX,rX={};function sX(){if(tX)return rX;tX=1;var t=ZD();return t("replaceAll"),rX}function aX(){if(iX)return eX;iX=1;var t=wY();return CY(),PY(),NY(),jY(),HY(),qY(),XY(),$Y(),JY(),sX(),eX=t,eX}function hX(){return oX||(oX=1,nX=aX()),nX}var cX,dX,lX,uX,fX,pX,gX,vX,yX,mX,bX=hX(),wX=JE(bX);function _X(){if(dX)return cX;dX=1,yP(),Rq(),WM();var t=$D();return cX=t.f("iterator"),cX}function xX(){if(uX)return lX;uX=1;var t=_X();return bP(),lX=t,lX}function EX(){if(pX)return fX;pX=1;var t=xX();return fX=t,fX}function OX(){if(vX)return gX;vX=1;var t=EX();return gX=t,gX}function SX(){return mX||(mX=1,yX=OX()),yX}var CX,kX,TX,DX,MX,IX,PX,FX,zX,NX,AX=SX(),BX=JE(AX);function jX(t){return jX="function"==typeof wX&&"symbol"==typeof BX?function(t){return typeof t}:function(t){return t&&"function"==typeof wX&&t.constructor===wX&&t!==wX.prototype?"symbol":typeof t},jX(t)}function RX(){if(kX)return CX;kX=1,cI();var t=$D();return CX=t.f("toPrimitive"),CX}function LX(){if(DX)return TX;DX=1;var t=RX();return TX=t,TX}function HX(){if(IX)return MX;IX=1;var t=LX();return MX=t,MX}function WX(){if(FX)return PX;FX=1;var t=HX();return PX=t,PX}function UX(){return NX||(NX=1,zX=WX()),zX}var qX=UX(),VX=JE(qX);function YX(t,e){if("object"!=jX(t)||!t)return t;var i=t[VX];if(void 0!==i){var n=i.call(t,e);if("object"!=jX(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function XX(t){var e=YX(t,"string");return"symbol"==jX(e)?e:e+""}function GX(t,e,i){return(e=XX(e))in t?sY(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var KX,$X,ZX,QX,JX,tG,eG,iG,nG,oG={};function rG(){if($X)return KX;$X=1;var t=yO(),e=mO(),i=_O(),n=hD(),o=rB().trim,r=oB(),s=i("".charAt),a=t.parseFloat,h=t.Symbol,c=h&&h.iterator,d=1/a(r+"-0")!==-1/0||c&&!e(function(){a(Object(c))});return KX=d?function(t){var e=o(n(t)),i=a(e);return 0===i&&"-"===s(e,0)?-0:i}:a,KX}function sG(){if(ZX)return oG;ZX=1;var t=rk(),e=rG();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),oG}function aG(){if(JX)return QX;JX=1,sG();var t=ES();return QX=t.parseFloat,QX}function hG(){if(eG)return tG;eG=1;var t=aG();return tG=t,tG}function cG(){return nG||(nG=1,iG=hG()),iG}var dG,lG,uG,fG,pG,gG,vG,yG=cG(),mG=JE(yG),bG={};function wG(){if(dG)return bG;dG=1;var t=rk(),e=mO(),i=MD().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:i}),bG}function _G(){if(uG)return lG;uG=1,wG();var t=ES(),e=t.Object;return lG=function(t){return e.getOwnPropertyNames(t)},lG}function xG(){if(pG)return fG;pG=1;var t=_G();return fG=t,fG}function EG(){return vG||(vG=1,gG=xG()),gG}var OG,SG,CG,kG,TG,DG,MG=EG(),IG=JE(MG);function PG(){if(SG)return OG;SG=1,OM();var t=ES();return OG=t.Object.getOwnPropertySymbols,OG}function FG(){if(kG)return CG;kG=1;var t=PG();return CG=t,CG}function zG(){return DG||(DG=1,TG=FG()),TG}var NG,AG,BG,jG,RG,LG,HG=zG(),WG=JE(HG),UG={exports:{}},qG={};function VG(){if(NG)return qG;NG=1;var t=rk(),e=mO(),i=_S(),n=xC().f,o=MO(),r=!o||e(function(){n(1)});return t({target:"Object",stat:!0,forced:r,sham:!o},{getOwnPropertyDescriptor:function(t,e){return n(i(t),e)}}),qG}function YG(){if(AG)return UG.exports;AG=1,VG();var t=ES(),e=t.Object,i=UG.exports=function(t,i){return e.getOwnPropertyDescriptor(t,i)};return e.getOwnPropertyDescriptor.sham&&(i.sham=!0),UG.exports}function XG(){if(jG)return BG;jG=1;var t=YG();return BG=t,BG}function GG(){return LG||(LG=1,RG=XG()),RG}var KG,$G,ZG,QG,JG,tK,eK,iK=GG(),nK=JE(iK),oK={};function rK(){if(KG)return oK;KG=1;var t=rk(),e=MO(),i=UP(),n=_S(),o=xC(),r=KT();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(t){var e,s,a=n(t),h=o.f,c=i(a),d={},l=0;while(c.length>l)s=h(a,e=c[l++]),void 0!==s&&r(d,e,s);return d}}),oK}function sK(){if(ZG)return $G;ZG=1,rK();var t=ES();return $G=t.Object.getOwnPropertyDescriptors,$G}function aK(){if(JG)return QG;JG=1;var t=sK();return QG=t,QG}function hK(){return eK||(eK=1,tK=aK()),tK}var cK,dK,lK,uK,fK,pK,gK=hK(),vK=JE(gK),yK={exports:{}},mK={};function bK(){if(cK)return mK;cK=1;var t=rk(),e=MO(),i=yD().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!e},{defineProperties:i}),mK}function wK(){if(dK)return yK.exports;dK=1,bK();var t=ES(),e=t.Object,i=yK.exports=function(t,i){return e.defineProperties(t,i)};return e.defineProperties.sham&&(i.sham=!0),yK.exports}function _K(){if(uK)return lK;uK=1;var t=wK();return lK=t,lK}function xK(){return pK||(pK=1,fK=_K()),fK}var EK,OK,SK=xK(),CK=JE(SK);function kK(){return OK||(OK=1,EK=tY()),EK}var TK,DK,MK,IK,PK,FK,zK,NK,AK=kK(),BK=JE(AK);function jK(t,e){const i=["node","edge","label"];let n=!0;const o=fW(e,"chosen");if("boolean"===typeof o)n=o;else if("object"===typeof o){if(-1===AB(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");const o=fW(e,["chosen",t]);"boolean"!==typeof o&&"function"!==typeof o||(n=o)}return n}function RK(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){const t={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){const n=-i.angle,o={x:Math.cos(n)*t.x-Math.sin(n)*t.y,y:Math.sin(n)*t.x+Math.cos(n)*t.y};e=o}else e=t}const n=t.x+t.width,o=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&o>e.y}function LK(t){return"string"===typeof t&&""!==t}function HK(t,e,i,n){let o=n.x,r=n.y;if("function"===typeof n.distanceToBorder){const i=n.distanceToBorder(t,e),s=Math.sin(e)*i,a=Math.cos(e)*i;a===i?(o+=i,r=n.y):s===i?(o=n.x,r-=i):(o+=a,r-=s)}else n.shape.width>n.shape.height?(o=n.x+.5*n.shape.width,r=n.y-i):(o=n.x+i,r=n.y-.5*n.shape.height);return{x:o,y:r}}function WK(){if(DK)return TK;DK=1,yP();var t=tT();return TK=t("Array","values"),TK}function UK(){if(IK)return MK;IK=1;var t=WK();return MK=t,MK}function qK(){if(FK)return PK;FK=1,bP();var t=ZT(),e=gC(),i=SS(),n=UK(),o=Array.prototype,r={DOMTokenList:!0,NodeList:!0};return PK=function(s){var a=s.values;return s===o||i(o,s)&&a===o.values||e(r,t(s))?n:a},PK}function VK(){return NK||(NK=1,zK=qK()),zK}var YK=VK(),XK=JE(YK);class GK{constructor(t){this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});let n=e;void 0!==e&&""!==e||(n=" ");const o=this.measureText(n,i),r=Kk({},XK(o));r.text=e,r.width=o.width,r.mod=i,void 0!==e&&""!==e||(r.width=0),this.lines[t].blocks.push(r),this.lines[t].width+=r.width}curWidth(){const t=this.lines[this.current];return void 0===t?0:t.width}append(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}newLine(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}determineLineHeights(){for(let t=0;t<this.lines.length;t++){const e=this.lines[t];let i=0;if(void 0!==e.blocks)for(let t=0;t<e.blocks.length;t++){const n=e.blocks[t];i<n.height&&(i=n.height)}e.height=i}}determineLabelSize(){let t=0,e=0;for(let i=0;i<this.lines.length;i++){const n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}removeEmptyBlocks(){const t=[];for(let e=0;e<this.lines.length;e++){const i=this.lines[e];if(0===i.blocks.length)continue;if(e===this.lines.length-1&&0===i.width)continue;const n={};let o;Kk(n,i),n.blocks=[];const r=[];for(let t=0;t<i.blocks.length;t++){const e=i.blocks[t];0!==e.width?r.push(e):void 0===o&&(o=e)}0===r.length&&void 0!==o&&r.push(o),n.blocks=r,t.push(n)}return t}finalize(){this.determineLineHeights(),this.determineLabelSize();const t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}const KK={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class $K{constructor(t){this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return 0===this.modStack.length?"normal":this.modStack[0]}modName(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}parseWS(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}setTag(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}unsetTag(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}parseStartTag(t,e){return!(this.mono||this[t]||!this.match(e))&&(this.setTag(t),!0)}match(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[i,n]=this.prepareRegExp(t),o=i.test(this.text.substr(this.position,n));return o&&e&&(this.position+=n-1),o}parseEndTag(t,e,i){let n=this.mod()===t;return n="mono"===t?n&&this.mono:n&&!this.mono,!(!n||!this.match(e))&&(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),!0)}replace(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}prepareRegExp(t){let e,i;if(t instanceof RegExp)i=t,e=1;else{const n=KK[t];i=void 0!==n?n:new RegExp(t),e=t.length}return[i,e]}}class ZK{constructor(t,e,i,n){this.ctx=t,this.parent=e,this.selected=i,this.hover=n;const o=(e,o)=>{if(void 0===e)return 0;const r=this.parent.getFormattingValues(t,i,n,o);let s=0;if(""!==e){const t=this.ctx.measureText(e);s=t.width}return{width:s,values:r}};this.lines=new GK(o)}process(t){if(!LK(t))return this.lines.finalize();const e=this.parent.fontOptions;t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n");const i=String(t).split("\n"),n=i.length;if(e.multi)for(let o=0;o<n;o++){const t=this.splitBlocks(i[o],e.multi);if(void 0!==t)if(0!==t.length){if(e.maxWdt>0)for(let e=0;e<t.length;e++){const i=t[e].mod,n=t[e].text;this.splitStringIntoLines(n,i,!0)}else for(let e=0;e<t.length;e++){const i=t[e].mod,n=t[e].text;this.lines.append(n,i)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(let o=0;o<n;o++)this.splitStringIntoLines(i[o]);else for(let o=0;o<n;o++)this.lines.newLine(i[o]);return this.lines.finalize()}decodeMarkupSystem(t){let e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}splitHtmlBlocks(t){const e=new $K(t),i=t=>{if(/&/.test(t)){const t=e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&");return t||e.add("&"),!0}return!1};while(e.position<e.text.length){const t=e.text.charAt(e.position),n=e.parseWS(t)||/</.test(t)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(t);n||e.add(t),e.position++}return e.emitBlock(),e.blocks}splitMarkdownBlocks(t){const e=new $K(t);let i=!0;const n=t=>!!/\\/.test(t)&&(e.position<this.text.length+1&&(e.position++,t=this.text.charAt(e.position),/ \t/.test(t)?e.spacing=!0:(e.add(t),i=!1)),!0);while(e.position<e.text.length){const t=e.text.charAt(e.position),o=e.parseWS(t)||n(t)||(i||e.spacing)&&(e.parseStartTag("bold","*")||e.parseStartTag("ital","_")||e.parseStartTag("mono","`"))||e.parseEndTag("bold","*","afterBold")||e.parseEndTag("ital","_","afterItal")||e.parseEndTag("mono","`","afterMono");o||(e.add(t),i=!1),e.position++}return e.emitBlock(),e.blocks}splitBlocks(t,e){const i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}overMaxWidth(t){const e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}getLongestFit(t){let e="",i=0;while(i<t.length){const n=""===e?"":" ",o=e+n+t[i];if(this.overMaxWidth(o))break;e=o,i++}return i}getLongestFitWord(t){let e=0;while(e<t.length){if(this.overMaxWidth(WP(t).call(t,0,e)))break;e++}return e}splitStringIntoLines(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e),t=t.replace(/^( +)/g,"$1\r"),t=t.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=t.split("\r");while(n.length>0){let t=this.getLongestFit(n);if(0===t){const t=n[0],i=this.getLongestFitWord(t);this.lines.newLine(WP(t).call(t,0,i),e),n[0]=WP(t).call(t,i)}else{let o=t;" "===n[t-1]?t--:" "===n[o]&&o++;const r=WP(n).call(n,0,t).join("");t==n.length&&i?this.lines.append(r,e):this.lines.newLine(r,e),n=WP(n).call(n,o)}}}}const QK=["bold","ital","boldital","mono"];class JK{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}setOptions(t){if(this.elementOptions=t,this.initFontOptions(t.font),LK(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"===typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===typeof t.font){const e=t.font.size;void 0!==e&&(this.baseSize=e)}}initFontOptions(t){QH(QK,t=>{this.fontOptions[t]={}}),JK.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:QH(t,(t,e)=>{void 0!==t&&null!==t&&"object"!==typeof t&&(this.fontOptions[e]=t)})}static parseFontString(t,e){if(!e||"string"!==typeof e)return!1;const i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}constrain(t){const e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=fW(t,"widthConstraint");if("number"===typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===typeof i){const i=fW(t,["widthConstraint","maximum"]);"number"===typeof i&&(e.maxWdt=Number(i));const n=fW(t,["widthConstraint","minimum"]);"number"===typeof n&&(e.minWdt=Number(n))}const n=fW(t,"heightConstraint");if("number"===typeof n)e.minHgt=Number(n);else if("object"===typeof n){const i=fW(t,["heightConstraint","minimum"]);"number"===typeof i&&(e.minHgt=Number(i));const n=fW(t,["heightConstraint","valign"]);"string"===typeof n&&("top"!==n&&"bottom"!==n||(e.valign=n))}return e}update(t,e){this.setOptions(t,!0),this.propagateFonts(e),XH(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=jK("label",e)}adjustSizes(t){const e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);const i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}addFontOptionsToPile(t,e){for(let i=0;i<e.length;++i)this.addFontToPile(t,e[i])}addFontToPile(t,e){if(void 0===e)return;if(void 0===e.font||null===e.font)return;const i=e.font;t.push(i)}getBasicOptions(t){const e={};for(let i=0;i<t.length;++i){let n=t[i];const o={};JK.parseFontString(o,n)&&(n=o),QH(n,(t,i)=>{void 0!==t&&(Object.prototype.hasOwnProperty.call(e,i)||(-1!==AB(QK).call(QK,i)?e[i]={}:e[i]=t))})}return e}getFontOption(t,e,i){let n;for(let o=0;o<t.length;++o){const r=t[o];if(Object.prototype.hasOwnProperty.call(r,e)){if(n=r[e],void 0===n||null===n)continue;const t={};if(JK.parseFontString(t,n)&&(n=t),Object.prototype.hasOwnProperty.call(n,i))return n[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}getFontOptions(t,e){const i={},n=["color","size","face","mod","vadjust"];for(let o=0;o<n.length;++o){const r=n[o];i[r]=this.getFontOption(t,e,r)}return i}propagateFonts(t){const e=[];this.addFontOptionsToPile(e,t),this.fontOptions=this.getBasicOptions(e);for(let i=0;i<QK.length;++i){const t=QK[i],n=this.fontOptions[t],o=this.getFontOptions(e,t);QH(o,(t,e)=>{n[e]=t}),n.size=Number(n.size),n.vadjust=Number(n.vadjust)}}draw(t,e,i,n,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0===this.elementOptions.label)return;let s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,o,e,i,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,s))}_drawBackground(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;const e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}_drawText(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0;[e,i]=this._setAlignment(t,e,i,n),t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(let r=0;r<this.lineCount;r++){const n=this.lines[r];if(n&&n.blocks){let r=0;this.isEdgeLabel||"center"===this.fontOptions.align?r+=(this.size.width-n.width)/2:"right"===this.fontOptions.align&&(r+=this.size.width-n.width);for(let s=0;s<n.blocks.length;s++){const a=n.blocks[s];t.font=a.font;const[h,c]=this._getColor(a.color,o,a.strokeColor);a.strokeWidth>0&&(t.lineWidth=a.strokeWidth,t.strokeStyle=c,t.lineJoin="round"),t.fillStyle=h,a.strokeWidth>0&&t.strokeText(a.text,e+r,i+a.vadjust),t.fillText(a.text,e+r,i+a.vadjust),r+=a.width}i+=n.height}}}_setAlignment(t,e,i,n){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;const n=2;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=2*n):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=2*n):t.textBaseline="middle"}else t.textBaseline=n;return[e,i]}_getColor(t,e,i){let n=t||"#000000",o=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){const t=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=tW(n,t),o=tW(o,t)}return[n,o]}getTextSize(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){const t=2;let e=this.size.left,i=this.size.top-.5*t;if(this.isEdgeLabel){const n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,i=.5*-this.size.height;break;case"top":e=n,i=-(this.size.height+t);break;case"bottom":e=n,i=t;break}}const n={left:e,top:i,width:this.size.width,height:this.size.height};return n}calculateLabelSize(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(t,e,i,n){const o=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},r={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"===typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,i));let s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),s+=r.size+"px "+r.face,t.font=s.replace(/"/g,""),r.font=t.font,r.height=r.size,r}differentState(t,e){return t!==this.selectedState||e!==this.hoverState}_processLabelText(t,e,i,n){const o=new ZK(t,this,e,i);return o.process(n)}_processLabel(t,e,i){if(!1===this.labelDirty&&!this.differentState(e,i))return;const n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}visible(){if(0===this.size.width||0===this.size.height||void 0===this.elementOptions.label)return!1;const t=this.fontOptions.size*this.body.view.scale;return!(t<this.elementOptions.scaling.label.drawThreshold-1)}}class t${constructor(t,e,i){this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(t){this.options=t}_setMargins(t){this.margin={},this.options.margin&&("object"==typeof this.options.margin?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}_distanceToBorder(t,e){const i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}enableShadow(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}enableBorderDashes(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){let i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}disableBorderDashes(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}needsRefresh(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}initContextForDraw(t,e){const i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}performStroke(t,e){const i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}performFill(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),rR(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}_addBoundingBoxMargin(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}_updateBoundingBox(t,e,i,n,o){void 0!==i&&this.resize(i,n,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o)}getDimensionsFromLabel(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);let n=this.textSize.width,o=this.textSize.height;const r=14;return 0===n&&(n=r,o=r),{width:n,height:o}}}let e$=class extends t${constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),fT(t,this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}updateBoundingBox(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o);const r=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(r)}distanceToBorder(t,e){t&&this.resize(t);const i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}};class i$ extends t${constructor(t,e,i){super(t,e,i),this.labelOffset=0,this.selected=!1}setOptions(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}setImages(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}switchImages(t){const e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){const t=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=t}}_getImagePadding(){const t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const e=this.options.imagePadding;"object"==typeof e?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}_resizeImage(){let t,e;if(!1===this.options.shapeProperties.useImageSize){let i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else{const i=this._getImagePadding();t=this.imageObj.width+i.left+i.right,e=this.imageObj.height+i.top+i.bottom}this.width=t,this.height=e,this.radius=.5*this.width}_drawRawCircle(t,e,i,n){this.initContextForDraw(t,n),aT(t,e,i,n.size),this.performFill(t,n)}_drawImageAtPosition(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);let i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),o=this.left+n.left,r=this.top+n.top,s=this.width-n.left-n.right,a=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(t,i,o,r,s,a),this.disableShadow(t,e)}}_drawImageLabel(t,e,i,n,o){let r=0;if(void 0!==this.height){r=.5*this.height;const e=this.labelModule.getTextSize(t,n,o);e.lineCount>=1&&(r+=e.height/2)}const s=i+r;this.options.label&&(this.labelOffset=r),this.labelModule.draw(t,e,s,n,o,"hanging")}}let n$=class extends i${constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,o)}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}distanceToBorder(t){return t&&this.resize(t),.5*this.width}};class o$ extends i${constructor(t,e,i,n,o){super(t,e,i),this.setImages(n,o)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;const n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){const t=2*this.options.size;return this.width=t,this.height=t,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,n,o,r){this.switchImages(n),this.resize();let s=e,a=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,s,a,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,s,a,n,o),this.updateBoundingBox(e,i)}updateBoundingBox(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(t){return t&&this.resize(t),.5*this.width}}class r$ extends t${constructor(t,e,i){super(t,e,i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){var o,r;this.labelModule.getTextSize(t,e,i);const s=2*n.size;this.width=null!==(o=this.customSizeWidth)&&void 0!==o?o:s,this.height=null!==(r=this.customSizeHeight)&&void 0!==r?r:s,this.radius=.5*this.width}}_drawShape(t,e,i,n,o,r,s,a){return this.resize(t,r,s,a),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,a),bT(e)(t,n,o,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(r?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,n,o)),{drawExternalLabel:()=>{if(void 0!==this.options.label){this.labelModule.calculateLabelSize(t,r,s,n,o,"hanging");const e=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(t,n,e,r,s,"hanging")}this.updateBoundingBox(n,o)}}}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function s$(t,e){var i=HF(t);if(WG){var n=WG(t);e&&(n=NA(n).call(n,function(e){return nK(t,e).enumerable})),i.push.apply(i,n)}return i}function a$(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?Cz(i=s$(Object(o),!0)).call(i,function(e){GX(t,e,o[e])}):vK?CK(t,vK(o)):Cz(n=s$(Object(o))).call(n,function(e){BK(t,e,nK(o,e))})}return t}class h$ extends r${constructor(t,e,i,n){super(t,e,i,n),this.ctxRenderer=n}draw(t,e,i,n,o,r){this.resize(t,n,o,r),this.left=e-this.width/2,this.top=i-this.height/2,t.save();const s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:n,hover:o},style:a$({},r),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){const e=s.drawExternalLabel;s.drawExternalLabel=()=>{t.save(),e(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class c$ extends t${constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i),o=n.width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),gT(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let d$=class extends r${constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"diamond",4,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class l$ extends r${constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"circle",2,e,i,n,o,r)}distanceToBorder(t){return t&&this.resize(t),this.options.size}}class u$ extends t${constructor(t,e,i){super(t,e,i)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){const n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,r),pT(t,this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,e,i,n,o)}distanceToBorder(t,e){t&&this.resize(t);const i=.5*this.width,n=.5*this.height,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}class f$ extends t${constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,n,o,r){return this.resize(t,n,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,o,r),{drawExternalLabel:()=>{if(void 0!==this.options.label){const e=5;this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+e,n)}this.updateBoundingBox(e,i)}}}updateBoundingBox(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){const t=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+t)}}_icon(t,e,i,n,o,r){const s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:n?"bold":"",(null!=this.options.icon.weight&&n?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let p$=class extends i${constructor(t,e,i,n,o){super(t,e,i),this.setImages(n,o)}resize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;const n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){const t=2*this.options.size;return this.width=t,void(this.height=t)}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,n,o,r){t.save(),this.switchImages(n),this.resize();let s=e,a=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){const e=this.options.borderWidth,i=this.options.borderWidthSelected||2*this.options.borderWidth,s=(n?i:e)/this.body.view.scale;t.lineWidth=Math.min(this.width,s),t.beginPath();let a=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,h=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;void 0!==r.opacity&&(a=tW(a,r.opacity),h=tW(h,r.opacity)),t.strokeStyle=a,t.fillStyle=h,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),rR(t).call(t),this.performStroke(t,r),t.closePath()}this._drawImageAtPosition(t,r),this._drawImageLabel(t,s,a,n,o),this.updateBoundingBox(e,i),t.restore()}updateBoundingBox(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class g$ extends r${constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"square",2,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class v$ extends r${constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"hexagon",4,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class y$ extends r${constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"star",4,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class m$ extends t${constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(t,r),this.updateBoundingBox(e,i,t,n,o)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}let b$=class extends r${constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"triangle",3,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}};class w$ extends r${constructor(t,e,i){super(t,e,i)}draw(t,e,i,n,o,r){return this._drawShape(t,"triangleDown",3,e,i,n,o,r)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}function _$(t,e){var i=HF(t);if(WG){var n=WG(t);e&&(n=NA(n).call(n,function(e){return nK(t,e).enumerable})),i.push.apply(i,n)}return i}function x$(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?Cz(i=_$(Object(o),!0)).call(i,function(e){GX(t,e,o[e])}):vK?CK(t,vK(o)):Cz(n=_$(Object(o))).call(n,function(e){BK(t,e,nK(o,e))})}return t}class E${constructor(t,e,i,n,o,r){this.options=dW(o),this.globalOptions=o,this.defaultOptions=r,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new JK(this.body,this.options,!1),this.setOptions(t)}attachEdge(t){var e;-1===AB(e=this.edges).call(e,t)&&this.edges.push(t)}detachEdge(t){var e;const i=AB(e=this.edges).call(e,t);var n;-1!=i&&sN(n=this.edges).call(n,i,1)}setOptions(t){const e=this.options.shape;if(!t)return;if("undefined"!==typeof t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");E$.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=_B(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=_B(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=mG(t.value)),E$.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);const i=[t,this.options,this.defaultOptions];return this.chooser=jK("node",i),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&E$.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(e),void 0!==t.hidden||void 0!==t.physics}_load_images(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"===typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(t){return 0<=t&&t<=1}static checkCoordinateOrigin(t){return void 0===t||"center"===t||"top-left"===t}static updateGroupOptions(t,e,i){var n;if(void 0===i)return;const o=t.group;if(void 0!==e&&void 0!==e.group&&o!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");const r="number"===typeof o||"string"===typeof o&&""!=o;if(!r)return;const s=i.get(o);void 0!==s.opacity&&void 0===e.opacity&&(E$.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));const a=NA(n=IG(e)).call(n,t=>null!=e[t]);a.push("font"),YH(a,t,s),t.color=iW(t.color)}static parseOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;const r=["color","fixed","shadow"];if(YH(r,t,e,i),E$.checkMass(e),void 0!==t.opacity&&(E$.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),void 0!==e.opacity&&(E$.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),e.shapeProperties&&!E$.checkCoordinateOrigin(e.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+e.shapeProperties.coordinateOrigin),lW(t,e,"shadow",n),void 0!==e.color&&null!==e.color){const i=iW(e.color);qH(t.color,i)}else!0===i&&null===e.color&&(t.color=dW(n.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"===typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"===typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"===typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),!0===i&&null===e.font&&(t.font=dW(n.font)),E$.updateGroupOptions(t,e,o),void 0!==e.scaling&&lW(t.scaling,e.scaling,"label",n.scaling)}getFormattingValues(){const t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"===typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){const e=this.options.opacity;t.borderColor=tW(t.borderColor,e),t.color=tW(t.color,e),t.shadowColor=tW(t.shadowColor,e)}return t}updateLabelModule(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),E$.updateGroupOptions(this.options,x$(x$({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);const e=this.grouplist.get(this.options.group,!1),i=[t,this.options,e,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new e$(this.options,this.body,this.labelModule);break;case"circle":this.shape=new n$(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new o$(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new h$(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new c$(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new d$(this.options,this.body,this.labelModule);break;case"dot":this.shape=new l$(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new u$(this.options,this.body,this.labelModule);break;case"icon":this.shape=new f$(this.options,this.body,this.labelModule);break;case"image":this.shape=new p$(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new g$(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new v$(this.options,this.body,this.labelModule);break;case"star":this.shape=new y$(this.options,this.body,this.labelModule);break;case"text":this.shape=new m$(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new b$(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new w$(this.options,this.body,this.labelModule);break;default:this.shape=new u$(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(t,e){return this.shape.distanceToBorder(t,e)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(t,e,i){if(void 0!==this.options.value){const n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){const t=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*t}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(t){const e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}updateBoundingBox(t){this.shape.updateBoundingBox(this.x,this.y,t)}resize(t){const e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}getItemsOnPoint(t){const e=[];return this.labelModule.visible()&&RK(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),RK(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}isOverlappingWith(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}isBoundingBoxOverlappingWith(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}static checkMass(t,e){if(void 0!==t.mass&&t.mass<=0){let i="";void 0!==e&&(i=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",kW),t.mass=1}}}class O${constructor(t,e,i,n){var o;if(this.body=t,this.images=e,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=sT(o=this.create).call(o,this),this.nodesListeners={add:(t,e)=>{this.add(e.items)},update:(t,e)=>{this.update(e.items,e.data,e.oldData)},remove:(t,e)=>{this.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;{const i=1/(e-t);return Math.max(0,(n-t)*i)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=dW(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t,e;this.body.emitter.on("refreshNodes",sT(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",sT(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",()=>{QH(this.nodesListeners,(t,e)=>{this.body.data.nodes&&this.body.data.nodes.off(e,t)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(t){if(void 0!==t){if(E$.parseOptions(this.options,t),void 0!==t.opacity&&(pV(t.opacity)||!IV(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if("undefined"!==typeof t.font||"undefined"!==typeof t.widthConstraint||"undefined"!==typeof t.heightConstraint)for(const t of HF(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(void 0!==t.size)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}setData(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.data.nodes;if(ZE("id",t))this.body.data.nodes=t;else if(uF(t))this.body.data.nodes=new KE,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new KE}if(i&&QH(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){const t=this;QH(this.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});const e=this.body.data.nodes.getIds();this.add(e,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}add(t){let e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(let o=0;o<t.length;o++){e=t[o];const i=this.body.data.nodes.get(e),r=this.create(i);n.push(r),this.body.nodes[e]=r}this.layoutEngine.positionInitially(n),!1===i&&this.body.emitter.emit("_dataChanged")}update(t,e,i){const n=this.body.nodes;let o=!1;for(let r=0;r<t.length;r++){const i=t[r];let s=n[i];const a=e[r];void 0!==s?s.setOptions(a)&&(o=!0):(o=!0,s=this.create(a),n[i]=s)}o||void 0===i||(o=KV(e).call(e,function(t,e){const n=i[e];return n&&n.level!==t.level})),!0===o?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(t){const e=this.body.nodes;for(let i=0;i<t.length;i++){const n=t[i];delete e[n]}this.body.emitter.emit("_dataChanged")}create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E$;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];QH(this.body.nodes,(e,i)=>{const n=this.body.data.nodes.get(i);void 0!==n&&(!0===t&&e.setOptions({x:null,y:null}),e.setOptions({fixed:!1}),e.setOptions(n))})}getPositions(t){const e={};if(void 0!==t){if(!0===uF(t)){for(let i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){const n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){const i=this.body.nodes[t];e[t]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(let i=0;i<this.body.nodeIndices.length;i++){const t=this.body.nodes[this.body.nodeIndices[i]];e[this.body.nodeIndices[i]]={x:Math.round(t.x),y:Math.round(t.y)}}return e}getPosition(t){if(void 0==t)throw new TypeError("No id was specified for getPosition method.");if(void 0==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}storePositions(){const t=[],e=this.body.data.nodes.getDataSet();for(const i of e.get()){const e=i.id,n=this.body.nodes[e],o=Math.round(n.x),r=Math.round(n.y);i.x===o&&i.y===r||t.push({id:e,x:o,y:r})}e.update(t)}getBoundingBox(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}getConnectedNodes(t,e){const i=[];if(void 0!==this.body.nodes[t]){const n=this.body.nodes[t],o={};for(let t=0;t<n.edges.length;t++){const r=n.edges[t];"to"!==e&&r.toId==n.id?void 0===o[r.fromId]&&(i.push(r.fromId),o[r.fromId]=!0):"from"!==e&&r.fromId==n.id&&void 0===o[r.toId]&&(i.push(r.toId),o[r.toId]=!0)}}return i}getConnectedEdges(t){const e=[];if(void 0!==this.body.nodes[t]){const i=this.body.nodes[t];for(let t=0;t<i.edges.length;t++)e.push(i.edges[t].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}moveNode(t,e,i){void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),Kj(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}var S$,C$,k$,T$,D$,M$,I$,P$={};function F$(){if(S$)return P$;S$=1;var t=rk(),e=Math.hypot,i=Math.abs,n=Math.sqrt,o=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:o},{hypot:function(t,e){var o,r,s=0,a=0,h=arguments.length,c=0;while(a<h)o=i(arguments[a++]),c<o?(r=c/o,s=s*r*r+1,c=o):o>0?(r=o/c,s+=r*r):s+=o;return c===1/0?1/0:c*n(s)}}),P$}function z$(){if(k$)return C$;k$=1,F$();var t=ES();return C$=t.Math.hypot,C$}function N$(){if(D$)return T$;D$=1;var t=z$();return T$=t,T$}function A$(){return I$||(I$=1,M$=N$()),M$}var B$=A$(),j$=JE(B$);class R${static transform(t,e){uF(t)||(t=[t]);const i=e.point.x,n=e.point.y,o=e.angle,r=e.length;for(let s=0;s<t.length;++s){const e=t[s],a=e.x*Math.cos(o)-e.y*Math.sin(o),h=e.x*Math.sin(o)+e.y*Math.cos(o);e.x=i+r*a,e.y=n+r*h}}static drawPath(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}let L$=class extends R${static draw(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);const i=null!=e.imageWidth?e.imageWidth:e.image.width,n=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-i/2,0,i,n),t.restore()}return!1}};class H$ extends R${static draw(t,e){const i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return R$.transform(i,e),R$.drawPath(t,i),!0}}class W${static draw(t,e){const i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return R$.transform(i,e),R$.drawPath(t,i),!0}}class U${static draw(t,e){const i={x:-.4,y:0};R$.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=e.angle-n/2,r=e.angle+n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,o,r,!1),t.stroke(),!0}}class q${static draw(t,e){const i={x:-.3,y:0};R$.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=e.angle+n/2,r=e.angle+3*n/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,o,r,!1),t.stroke(),!0}}class V${static draw(t,e){const i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return R$.transform(i,e),R$.drawPath(t,i),!0}}class Y${static draw(t,e){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return R$.transform(i,e),R$.drawPath(t,i),!0}}class X${static draw(t,e){const i={x:-.4,y:0};return R$.transform(i,e),aT(t,i.x,i.y,.4*e.length),!0}}class G${static draw(t,e){const i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return R$.transform(i,e),R$.drawPath(t,i),!0}}class K${static draw(t,e){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return R$.transform(i,e),R$.drawPath(t,i),!0}}class $${static draw(t,e){const i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return R$.transform(i,e),R$.drawPath(t,i),!0}}class Z${static draw(t,e){const i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return R$.transform(i,e),R$.drawPath(t,i),!0}}class Q${static draw(t,e){let i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return L$.draw(t,e);case"circle":return X$.draw(t,e);case"box":return K$.draw(t,e);case"crow":return W$.draw(t,e);case"curve":return U$.draw(t,e);case"diamond":return $$.draw(t,e);case"inv_curve":return q$.draw(t,e);case"triangle":return V$.draw(t,e);case"inv_triangle":return Y$.draw(t,e);case"bar":return G$.draw(t,e);case"vee":return Z$.draw(t,e);case"arrow":default:return H$.draw(t,e)}}}function J$(t,e){var i=HF(t);if(WG){var n=WG(t);e&&(n=NA(n).call(n,function(e){return nK(t,e).enumerable})),i.push.apply(i,n)}return i}function tZ(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?Cz(i=J$(Object(o),!0)).call(i,function(e){GX(t,e,o[e])}):vK?CK(t,vK(o)):Cz(n=J$(Object(o))).call(n,function(e){BK(t,e,nK(o,e))})}return t}class eZ{constructor(t,e,i){GX(this,"color",{}),GX(this,"colorDirty",!0),GX(this,"hoverWidth",1.5),GX(this,"selectionWidth",2),this._body=e,this._labelModule=i,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(t,e,i,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}_drawLine(t,e,i,n,o){if(this.from!=this.to)this._line(t,e,i,n,o);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}}_drawDashedLine(t,e,i,n,o){t.lineCap="round";const r=uF(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(r),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)vT(t,this.from.x,this.from.y,this.to.x,this.to.y,r);else{const[i,n,o]=this._getCircleData(t);this._circle(t,e,i,n,o)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}findBorderPosition(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}findBorderPositions(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};{var e;const[i,n]=WP(e=this._getCircleData(t)).call(e,0,2);return{from:this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(t){const e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);const i=HK(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}_pointOnCircle(t,e,i,n){const o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}_findBorderPositionCircle(t,e,i){const n=i.x,o=i.y;let r=i.low,s=i.high;const a=i.direction,h=10,c=this.options.selfReference.size,d=.05;let l,u=.5*(r+s),f=0;!0===this.options.arrowStrikethrough&&(-1===a?f=this.options.endPointOffset.from:1===a&&(f=this.options.endPointOffset.to));let p=0;do{u=.5*(r+s),l=this._pointOnCircle(n,o,c,u);const i=Math.atan2(t.y-l.y,t.x-l.x),h=t.distanceToBorder(e,i)+f,g=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2)),v=h-g;if(Math.abs(v)<d)break;v>0?a>0?r=u:s=u:a>0?s=u:r=u,++p}while(r<=s&&p<h);return tZ(tZ({},l),{},{t:u})}getLineWidth(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){const i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(n=tW(this.from.options.color.border,e.opacity),o=tW(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?o=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,o),i}return"to"===e.inheritsColor?tW(this.to.options.color.border,e.opacity):tW(this.from.options.color.border,e.opacity)}return tW(e.color,e.opacity)}_circle(t,e,i,n,o){this.enableShadow(t,e);let r=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,a=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:-1}),h=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:1});r=Math.atan2(a.y-n,a.x-i),s=Math.atan2(h.y-n,h.x-i)}t.beginPath(),t.arc(i,n,o,r,s,!1),t.stroke(),this.disableShadow(t,e)}getDistanceToEdge(t,e,i,n,o,r){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,n,o,r);{const[t,e,i]=this._getCircleData(void 0),n=t-o,s=e-r;return Math.abs(Math.sqrt(n*n+s*s)-i)}}_getDistanceToLine(t,e,i,n,o,r){const s=i-t,a=n-e,h=s*s+a*a;let c=((o-t)*s+(r-e)*a)/h;c>1?c=1:c<0&&(c=0);const d=t+c*s,l=e+c*a,u=d-o,f=l-r;return Math.sqrt(u*u+f*f)}getArrowData(t,e,i,n,o,r){let s,a,h,c,d,l,u;const f=r.width;"from"===e?(h=this.from,c=this.to,d=r.fromArrowScale<0,l=Math.abs(r.fromArrowScale),u=r.fromArrowType):"to"===e?(h=this.to,c=this.from,d=r.toArrowScale<0,l=Math.abs(r.toArrowScale),u=r.toArrowType):(h=this.to,c=this.from,d=r.middleArrowScale<0,l=Math.abs(r.middleArrowScale),u=r.middleArrowType);const p=15*l+3*f;if(h!=c){const n=j$(h.x-c.x,h.y-c.y),o=p/n;if("middle"!==e)if(!0===this.options.smooth.enabled){const n=this._findBorderPosition(h,t,{via:i}),r=this.getPoint(n.t+o*("from"===e?1:-1),i);s=Math.atan2(n.y-r.y,n.x-r.x),a=n}else s=Math.atan2(h.y-c.y,h.x-c.x),a=this._findBorderPosition(h,t);else{const t=(d?-o:o)/2,e=this.getPoint(.5+t,i),n=this.getPoint(.5-t,i);s=Math.atan2(e.y-n.y,e.x-n.x),a=this.getPoint(.5,i)}}else{const[i,n,o]=this._getCircleData(t);if("from"===e){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,r=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:-1});s=-2*r.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=r}else if("to"===e){const e=this.options.selfReference.angle,o=this.options.selfReference.angle+Math.PI,r=this._findBorderPositionCircle(this.from,t,{x:i,y:n,low:e,high:o,direction:1});s=-2*r.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=r}else{const t=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(i,n,o,t),s=-2*t*Math.PI+1.5*Math.PI+.1*Math.PI}}const g=a.x-.9*p*Math.cos(s),v=a.y-.9*p*Math.sin(s),y={x:g,y:v};return{point:a,core:y,angle:s,length:p,type:u}}drawArrowHead(t,e,i,n,o){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width;const r=Q$.draw(t,o);r&&(this.enableShadow(t,e),rR(t).call(t),this.disableShadow(t,e))}enableShadow(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}drawBackground(t,e){if(!1!==e.background){const i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}setStrokeDashed(t,e){if(!1!==e)if(void 0!==t.setLineDash){const i=uF(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function iZ(t,e){var i=HF(t);if(WG){var n=WG(t);e&&(n=NA(n).call(n,function(e){return nK(t,e).enumerable})),i.push.apply(i,n)}return i}function nZ(t){for(var e=1;e<arguments.length;e++){var i,n,o=null!=arguments[e]?arguments[e]:{};e%2?Cz(i=iZ(Object(o),!0)).call(i,function(e){GX(t,e,o[e])}):vK?CK(t,vK(o)):Cz(n=iZ(Object(o))).call(n,function(e){BK(t,e,nK(o,e))})}return t}class oZ extends eZ{constructor(t,e,i){super(t,e,i)}_findBorderPositionBezier(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates();const n=10,o=.2;let r,s,a=!1,h=1,c=0,d=this.to,l=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(d=this.from,a=!0,l=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(l=0);let u=0;do{s=.5*(c+h),r=this.getPoint(s,i);const t=Math.atan2(d.y-r.y,d.x-r.x),n=d.distanceToBorder(e,t)+l,f=Math.sqrt(Math.pow(r.x-d.x,2)+Math.pow(r.y-d.y,2)),p=n-f;if(Math.abs(p)<o)break;p<0?!1===a?c=s:h=s:!1===a?h=s:c=s,++u}while(c<=h&&u<n);return nZ(nZ({},r),{},{t:s})}_getDistanceToBezierEdge(t,e,i,n,o,r,s){let a,h,c,d,l,u=1e9,f=t,p=e;for(h=1;h<10;h++)c=.1*h,d=Math.pow(1-c,2)*t+2*c*(1-c)*s.x+Math.pow(c,2)*i,l=Math.pow(1-c,2)*e+2*c*(1-c)*s.y+Math.pow(c,2)*n,h>0&&(a=this._getDistanceToLine(f,p,d,l,o,r),u=a<u?a:u),f=d,p=l;return u}_bezierCurve(t,e,i,n){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=n&&null!=n.x?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){return this._getViaCoordinates()}}class rZ extends oZ{constructor(t,e,i){super(t,e,i),GX(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(t){super.setOptions(t);let e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}setupSupportNode(){if(void 0===this.via){const t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}_line(t,e,i){this._bezierCurve(t,e,i)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){const[e,i,n]=this._getCircleData(),o=2*Math.PI*(1-t);return{x:e+n*Math.sin(o),y:i+n-n*(1-Math.cos(o))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e,this.via)}_getDistanceToEdge(t,e,i,n,o,r){return this._getDistanceToBezierEdge(t,e,i,n,o,r,this.via)}}class sZ extends oZ{constructor(t,e,i){super(t,e,i)}_line(t,e,i){this._bezierCurve(t,e,i)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const t=this.options.smooth.roundness,e=this.options.smooth.type;let i=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if("discrete"===e||"diagonalCross"===e){let o,r;o=r=i<=n?t*n:t*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(r=-r);let s=this.from.x+o,a=this.from.y+r;return"discrete"===e&&(i<=n?s=i<t*n?this.from.x:s:a=n<t*i?this.from.y:a),{x:s,y:a}}if("straightCross"===e){let e=(1-t)*i,o=(1-t)*n;return i<=n?(e=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(e=-e),o=0),{x:this.to.x+e,y:this.to.y+o}}if("horizontal"===e){let e=(1-t)*i;return this.from.x<this.to.x&&(e=-e),{x:this.to.x+e,y:this.from.y}}if("vertical"===e){let e=(1-t)*n;return this.from.y<this.to.y&&(e=-e),{x:this.from.x,y:this.to.y+e}}if("curvedCW"===e){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const e=Math.sqrt(i*i+n*n),o=Math.PI,r=Math.atan2(n,i),s=(r+(.5*t+.5)*o)%(2*o);return{x:this.from.x+(.5*t+.5)*e*Math.sin(s),y:this.from.y+(.5*t+.5)*e*Math.cos(s)}}if("curvedCCW"===e){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const e=Math.sqrt(i*i+n*n),o=Math.PI,r=Math.atan2(n,i),s=(r+(.5*-t+.5)*o)%(2*o);return{x:this.from.x+(.5*t+.5)*e*Math.sin(s),y:this.from.y+(.5*t+.5)*e*Math.cos(s)}}{let e,o;e=o=i<=n?t*n:t*i,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(o=-o);let r=this.from.x+e,s=this.from.y+o;return i<=n?r=this.from.x<=this.to.x?this.to.x<r?this.to.x:r:this.to.x>r?this.to.x:r:s=this.from.y>=this.to.y?this.to.y>s?this.to.y:s:this.to.y<s?this.to.y:s,{x:r,y:s}}}_findBorderPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}_getDistanceToEdge(t,e,i,n,o,r){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,o,r,s)}getPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();const i=t,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:o}}}class aZ extends oZ{constructor(t,e,i){super(t,e,i)}_getDistanceToBezierEdge2(t,e,i,n,o,r,s,a){let h=1e9,c=t,d=e;const l=[0,0,0,0];for(let u=1;u<10;u++){const f=.1*u;l[0]=Math.pow(1-f,3),l[1]=3*f*Math.pow(1-f,2),l[2]=3*Math.pow(f,2)*(1-f),l[3]=Math.pow(f,3);const p=l[0]*t+l[1]*s.x+l[2]*a.x+l[3]*i,g=l[0]*e+l[1]*s.y+l[2]*a.y+l[3]*n;if(u>0){const t=this._getDistanceToLine(c,d,p,g,o,r);h=t<h?t:h}c=p,d=g}return h}}class hZ extends aZ{constructor(t,e,i){super(t,e,i)}_line(t,e,i){const n=i[0],o=i[1];this._bezierCurve(t,e,n,o)}_getViaCoordinates(){const t=this.from.x-this.to.x,e=this.from.y-this.to.y;let i,n,o,r;const s=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,r=this.to.y,i=this.from.x-s*t,o=this.to.x+s*t):(n=this.from.y-s*e,r=this.to.y+s*e,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:r}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e)}_getDistanceToEdge(t,e,i,n,o,r){let[s,a]=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(t,e,i,n,o,r,s,a)}getPoint(t){let[e,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();const n=t,o=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],r=o[0]*this.fromPoint.x+o[1]*e.x+o[2]*i.x+o[3]*this.toPoint.x,s=o[0]*this.fromPoint.y+o[1]*e.y+o[2]*i.y+o[3]*this.toPoint.y;return{x:r,y:s}}}class cZ extends eZ{constructor(t,e,i){super(t,e,i)}_line(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){}getPoint(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}_findBorderPosition(t,e){let i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);const o=Math.atan2(i.y-n.y,i.x-n.x),r=i.x-n.x,s=i.y-n.y,a=Math.sqrt(r*r+s*s),h=t.distanceToBorder(e,o),c=(a-h)/a;return{x:(1-c)*n.x+c*i.x,y:(1-c)*n.y+c*i.y,t:0}}_getDistanceToEdge(t,e,i,n,o,r){return this._getDistanceToLine(t,e,i,n,o,r)}}class dZ{constructor(t,e,i,n,o){if(void 0===e)throw new Error("No body provided");this.options=dW(n),this.globalOptions=n,this.defaultOptions=o,this.body=e,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new JK(this.body,this.options,!0),this.setOptions(t)}setOptions(t){if(!t)return;let e="undefined"!==typeof t.physics&&this.options.physics!==t.physics||"undefined"!==typeof t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||"undefined"!==typeof t.from&&this.options.from!==t.from||"undefined"!==typeof t.to&&this.options.to!==t.to;dZ.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=mG(t.value));const i=[t,this.options,this.defaultOptions];return this.chooser=jK("edge",i),this.updateLabelModule(t),e=this.updateEdgeType()||e,this._setInteractionWidths(),this.connect(),e}static parseOptions(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(VH(r,t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(IV(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==n.endPointOffset.from?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(IV(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==n.endPointOffset.to?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),LK(e.label)?t.label=e.label:LK(t.label)||(t.label=void 0),lW(t,e,"smooth",n),lW(t,e,"shadow",n),lW(t,e,"background",n),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=ij(n.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),lW(t.scaling,e.scaling,"label",n.scaling)):!0===i&&null===e.scaling&&(t.scaling=ij(n.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"===typeof e.arrows){const i=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=AB(i).call(i,"to"),t.arrows.middle.enabled=-1!=AB(i).call(i,"middle"),t.arrows.from.enabled=-1!=AB(i).call(i,"from")}else{if("object"!==typeof e.arrows)throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+bj(e.arrows));lW(t.arrows,e.arrows,"to",n.arrows),lW(t.arrows,e.arrows,"middle",n.arrows),lW(t.arrows,e.arrows,"from",n.arrows)}else!0===i&&null===e.arrows&&(t.arrows=ij(n.arrows));if(void 0!==e.color&&null!==e.color){const r=HH(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,s=t.color;if(o)XH(s,n.color,!1,i);else for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&delete s[t];if(HH(s))s.color=s,s.highlight=s,s.hover=s,s.inherit=!1,void 0===r.opacity&&(s.opacity=1);else{let t=!1;void 0!==r.color&&(s.color=r.color,t=!0),void 0!==r.highlight&&(s.highlight=r.highlight,t=!0),void 0!==r.hover&&(s.hover=r.hover,t=!0),void 0!==r.inherit&&(s.inherit=r.inherit),void 0!==r.opacity&&(s.opacity=Math.min(1,Math.max(0,r.opacity))),!0===t?s.inherit=!1:void 0===s.inherit&&(s.inherit="from")}}else!0===i&&null===e.color&&(t.color=dW(n.color));!0===i&&null===e.font&&(t.font=dW(n.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}getFormattingValues(){const t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,n=this.options.color.inherit,o={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){const t=this.options.selectionWidth;"function"===typeof t?o.width=t(o.width):"number"===typeof t&&(o.width+=t),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){const t=this.options.hoverWidth;"function"===typeof t?o.width=t(o.width):"number"===typeof t&&(o.width+=t),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"===typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}updateLabelModule(t){const e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const t=this.options.smooth;let e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof rZ&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof hZ&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof sZ&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof cZ&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new rZ(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new hZ(this.options,this.body,this.labelModule):this.edgeType=new sZ(this.options,this.body,this.labelModule):this.edgeType=new cZ(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(t,e,i){if(void 0!==this.options.value){const n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){const t=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*t}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){"function"===typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"===typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(t){const e=this.getFormattingValues();if(e.hidden)return;const i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}drawArrows(t){const e=this.getFormattingValues();if(e.hidden)return;const i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core),e.fromArrowSrc&&(n.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(n.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(n.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core),e.toArrowSrc&&(n.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(n.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(n.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(n.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(n.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(n.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,n.to)}drawLabel(t,e){if(void 0!==this.options.label){const i=this.from,n=this.to;let o;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,e),t.save();const i=this._getRotation(t);0!=i.angle&&(t.translate(i.x,i.y),t.rotate(i.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;const e=HK(t,this.options.selfReference.angle,this.options.selfReference.size,i);o=this._pointOnCircle(e.x,e.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}getItemsOnPoint(t){const e=[];if(this.labelModule.visible()){const i=this._getRotation();RK(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}const i={left:t.x,top:t.y};return this.isOverlappingWith(i)&&e.push({edgeId:this.id}),e}isOverlappingWith(t){if(this.connected){const e=10,i=this.from.x,n=this.from.y,o=this.to.x,r=this.to.y,s=t.left,a=t.top,h=this.edgeType.getDistanceToEdge(i,n,o,r,s,a);return h<e}return!1}_getRotation(t){const e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);const n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;const o=this.from.y-this.to.y,r=this.from.x-this.to.x;let s=Math.atan2(o,r);return(s<-1&&r<0||s>0&&r<0)&&(s+=Math.PI),n.angle=s,n}_pointOnCircle(t,e,i,n){return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}class lZ{constructor(t,e,i){var n;this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=sT(n=this.create).call(n,this),this.edgesListeners={add:(t,e)=>{this.add(e.items)},update:(t,e)=>{this.update(e.items)},remove:(t,e)=>{this.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){if(e===t)return.5;{const i=1/(e-t);return Math.max(0,(n-t)*i)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},XH(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");let n=!1;for(const o in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,o)){const e=i.body.edges[o],r=i.body.data.edges.get(o);if(null!=r){const i=r.smooth;void 0!==i&&!0===i.enabled&&"dynamic"===i.type&&(void 0===t?e.setOptions({smooth:!1}):e.setOptions({smooth:{type:t}}),n=!0)}}!0===e&&!0===n&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",sT(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",sT(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",()=>{QH(this.edgesListeners,(t,e)=>{this.body.data.edges&&this.body.data.edges.off(e,t)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(t){if(void 0!==t){dZ.parseOptions(this.options,t,!0,this.defaultOptions,!0);let e=!1;if(void 0!==t.smooth)for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&(e=this.body.edges[t].updateEdgeType()||e);if(void 0!==t.font)for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&this.body.edges[t].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}setData(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.data.edges;if(ZE("id",t))this.body.data.edges=t;else if(uF(t))this.body.data.edges=new KE,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new KE}if(i&&QH(this.edgesListeners,(t,e)=>{i.off(e,t)}),this.body.edges={},this.body.data.edges){QH(this.edgesListeners,(t,e)=>{this.body.data.edges.on(e,t)});const t=this.body.data.edges.getIds();this.add(t,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}add(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.edges,n=this.body.data.edges;for(let o=0;o<t.length;o++){const e=t[o],r=i[e];r&&r.disconnect();const s=n.get(e,{showInternalIds:!0});i[e]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}update(t){const e=this.body.edges,i=this.body.data.edges;let n=!1;for(let o=0;o<t.length;o++){const r=t[o],s=i.get(r),a=e[r];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[r]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===t.length)return;const i=this.body.edges;QH(t,t=>{const e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}refresh(){QH(this.body.edges,(t,e)=>{const i=this.body.data.edges.get(e);void 0!==i&&t.setOptions(i)})}create(t){return new dZ(t,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let t;const e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const e=i[t];e.from=null,e.to=null,e.connect()}}getConnectedNodes(t){const e=[];if(void 0!==this.body.edges[t]){const i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const t=[];QH(this.body.edges,(e,i)=>{const n=this.body.nodes[e.toId],o=this.body.nodes[e.fromId];void 0!==n&&!0===n.isCluster||void 0!==o&&!0===o.isCluster||void 0!==n&&void 0!==o||t.push(i)}),this.remove(t,!1)}_addMissingEdges(){const t=this.body.data.edges;if(void 0===t||null===t)return;const e=this.body.edges,i=[];Cz(t).call(t,(t,n)=>{const o=e[n];void 0===o&&i.push(n)}),this.add(i,!0)}}class uZ{constructor(t,e,i){this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(i),this._rng=TH("BARNES HUT SOLVER")}setOptions(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){let t;const e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(let r=0;r<n;r++)t=e[i[r]],t.options.mass>0&&this._getForceContributions(o.root,t)}}_getForceContributions(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}_getForceContribution(t,e){if(t.childrenCount>0){const i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,o=Math.sqrt(i*i+n*n);o*t.calcSize>this.thetaInversed?this._calculateForces(o,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,i,n,e,t)}}_calculateForces(t,e,i,n,o){0===t&&(t=.1,e=t),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));const r=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(t,3),s=e*r,a=i*r;this.physicsBody.forces[n.id].x+=s,this.physicsBody.forces[n.id].y+=a}_formBarnesHutTree(t,e){let i;const n=e.length;let o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y;for(let g=1;g<n;g++){const i=t[e[g]],n=i.x,h=i.y;i.options.mass>0&&(n<o&&(o=n),n>s&&(s=n),h<r&&(r=h),h>a&&(a=h))}const h=Math.abs(s-o)-Math.abs(a-r);h>0?(r-=.5*h,a+=.5*h):(o+=.5*h,s-=.5*h);const c=1e-5,d=Math.max(c,Math.abs(s-o)),l=.5*d,u=.5*(o+s),f=.5*(r+a),p={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:u-l,maxX:u+l,minY:f-l,maxY:f+l},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(p.root);for(let g=0;g<n;g++)i=t[e[g]],i.options.mass>0&&this._placeInTree(p.root,i);return p}_updateBranchMass(t,e){const i=t.centerOfMass,n=t.mass+e.options.mass,o=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=o,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=o,t.mass=n;const r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}_placeInTree(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);const n=t.children.NW.range;let o;o=n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}_placeInRegion(t,e,i){const n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e);break}}_splitBranch(t){let e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}_insertRegion(t,e){let i,n,o,r;const s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY+s,r=t.range.maxY;break}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}_debug(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}_drawBranch(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}class fZ{constructor(t,e,i){this._rng=TH("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n,o,r,s,a;const h=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,l=this.options.nodeDistance,u=-2/3/l,f=4/3;for(let p=0;p<c.length-1;p++){s=h[c[p]];for(let g=p+1;g<c.length;g++)a=h[c[g]],t=a.x-s.x,e=a.y-s.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*this._rng(),t=i),i<2*l&&(r=i<.5*l?1:u*i+f,r/=i,n=t*r,o=e*r,d[s.id].x-=n,d[s.id].y-=o,d[a.id].x+=n,d[a.id].y+=o)}}}class pZ{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance;for(let o=0;o<e.length-1;o++){const r=t[e[o]];for(let s=o+1;s<e.length;s++){const o=t[e[s]];if(r.level===o.level){const t=n+this.overlapAvoidanceFactor*((r.shape.radius||0)/2+(o.shape.radius||0)/2),e=o.x-r.x,s=o.y-r.y,a=Math.sqrt(e*e+s*s),h=.05;let c;c=a<t?-Math.pow(h*a,2)+Math.pow(h*t,2):0,0!==a&&(c/=a);const d=e*c,l=s*c;i[r.id].x-=d,i[r.id].y-=l,i[o.id].x+=d,i[o.id].y+=l}}}}}class gZ{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e;const i=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let o,r,s;for(let a=0;a<i.length;a++)e=n[i[a]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,o=e.to,r=e.edgeType.via,s=e.from,this._calculateSpringForce(o,r,.5*t),this._calculateSpringForce(r,s,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}_calculateSpringForce(t,e,i){const n=t.x-e.x,o=t.y-e.y,r=Math.max(Math.sqrt(n*n+o*o),.01),s=this.options.springConstant*(i-r)/r,a=n*s,h=o*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}class vZ{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n,o,r,s,a;const h=this.body.edges,c=.5,d=this.physicsBody.physicsEdgeIndices,l=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces;for(let b=0;b<l.length;b++){const t=l[b];u[t].springFx=0,u[t].springFy=0}for(let b=0;b<d.length;b++)e=h[d[b]],!0===e.connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=Math.sqrt(i*i+n*n),a=0===a?.01:a,s=this.options.springConstant*(t-a)/a,o=i*s,r=n*s,e.to.level!=e.from.level?(void 0!==u[e.toId]&&(u[e.toId].springFx-=o,u[e.toId].springFy-=r),void 0!==u[e.fromId]&&(u[e.fromId].springFx+=o,u[e.fromId].springFy+=r)):(void 0!==u[e.toId]&&(u[e.toId].x-=c*o,u[e.toId].y-=c*r),void 0!==u[e.fromId]&&(u[e.fromId].x+=c*o,u[e.fromId].y+=c*r)));let f,p;s=1;for(let b=0;b<l.length;b++){const t=l[b];f=Math.min(s,Math.max(-s,u[t].springFx)),p=Math.min(s,Math.max(-s,u[t].springFy)),u[t].x+=f,u[t].y+=p}let g=0,v=0;for(let b=0;b<l.length;b++){const t=l[b];g+=u[t].x,v+=u[t].y}const y=g/l.length,m=v/l.length;for(let b=0;b<l.length;b++){const t=l[b];u[t].x-=y,u[t].y-=m}}}class yZ{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,n;const o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces;for(let a=0;a<r.length;a++){const h=r[a];n=o[h],t=-n.x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}}_calculateForces(t,e,i,n,o){const r=0===t?0:this.options.centralGravity/t;n[o.id].x=e*r,n[o.id].y=i*r}}class mZ extends uZ{constructor(t,e,i){super(t,e,i),this._rng=TH("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(t,e,i,n,o){0===t&&(t=.1*this._rng(),e=t),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));const r=n.edges.length+1,s=this.options.gravitationalConstant*o.mass*n.options.mass*r/Math.pow(t,2),a=e*s,h=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=h}}class bZ extends yZ{constructor(t,e,i){super(t,e,i)}_calculateForces(t,e,i,n,o){if(t>0){const t=o.edges.length+1,r=this.options.centralGravity*t*o.options.mass;n[o.id].x=e*r,n[o.id].y=i*r}}}class wZ{constructor(t){this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Kk(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),!0===this.ready&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{!0===this.ready&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,YH(["stabilization"],this.options,t),lW(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());const e=this.options.wind;e&&(("number"!==typeof e.x||pV(e.x))&&(e.x=0),("number"!==typeof e.y||pV(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}init(){let t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new mZ(this.body,this.physicsBody,t),this.edgesSolver=new gZ(this.body,this.physicsBody,t),this.gravitySolver=new bZ(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new fZ(this.body,this.physicsBody,t),this.edgesSolver=new gZ(this.body,this.physicsBody,t),this.gravitySolver=new yZ(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new pZ(this.body,this.physicsBody,t),this.edgesSolver=new vZ(this.body,this.physicsBody,t),this.gravitySolver=new yZ(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new uZ(this.body,this.physicsBody,t),this.edgesSolver=new gZ(this.body,this.physicsBody,t),this.gravitySolver=new yZ(this.body,this.physicsBody,t)),this.modelOptions=t}initPhysics(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=sT(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}stopSimulation(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const t=az();this.physicsTick();const e=az()-t;(e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}_emitStabilized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&Kj(()=>{this.body.emitter.emit("stabilized",{iterations:t}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){const t=1.2;!0===this._evaluateStepQuality()?this.timestep=t*this.timestep:this.timestep/t<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/t))}physicsTick(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled){const t=this.adaptiveCounter%this.adaptiveInterval===0;t?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const t=this.body.nodes,e=this.body.edges;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(let i=0;i<this.physicsBody.physicsNodeIndices.length;i++){const t=this.physicsBody.physicsNodeIndices[i];this.physicsBody.forces[t]={x:0,y:0},void 0===this.physicsBody.velocities[t]&&(this.physicsBody.velocities[t]={x:0,y:0})}for(const i in this.physicsBody.velocities)void 0===t[i]&&delete this.physicsBody.velocities[i]}revert(){const t=HF(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<t.length;n++){const o=t[n];void 0!==e[o]?!0===e[o].options.physics&&(this.referenceState[o]={positions:{x:e[o].x,y:e[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,e[o].x=this.previousStates[o].x,e[o].y=this.previousStates[o].y):delete this.previousStates[o]}}_evaluateStepQuality(){let t,e,i;const n=this.body.nodes,o=this.referenceState,r=.3;for(const s in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,s)&&void 0!==n[s]&&(t=n[s].x-o[s].positions.x,e=n[s].y-o[s].positions.y,i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i>r))return!1;return!0}moveNodes(){const t=this.physicsBody.physicsNodeIndices;let e=0,i=0;const n=5;for(let o=0;o<t.length;o++){const n=t[o],r=this._performStep(n);e=Math.max(e,r),i+=r}this.adaptiveTimestepEnabled=i/t.length<n,this.stabilized=e<this.options.minVelocity}calculateComponentVelocity(t,e,i){const n=this.modelOptions.damping*t,o=(e-n)/i;t+=o*this.timestep;const r=this.options.maxVelocity||1e9;return Math.abs(t)>r&&(t=t>0?r:-r),t}_performStep(t){const e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);const n=this.physicsBody.velocities[t];this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0);const o=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2));return o}_freezeNodes(){const t=this.body.nodes;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){const i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}_restoreFrozenNodes(){const t=this.body.nodes;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}stabilize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!==typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,Kj(()=>this._stabilizationBatch(),0)):this.ready=!0}_startStabilizing(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const t=()=>!1===this.stabilized&&this.stabilizationIterations<this.targetIterations,e=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&e();let i=0;while(t()&&i<this.options.stabilization.updateInterval)this.physicsTick(),i++;var n;(e(),t())?Kj(sT(n=this._stabilizationBatch).call(n,this),0):this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(t){for(let e=0;e<this.physicsBody.physicsNodeIndices.length;e++){const i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],o=this.physicsBody.forces[i],r=20,s=.03,a=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),h=Math.min(Math.max(5,a),15),c=3*h,d=rW((180-180*Math.min(1,Math.max(0,s*a)))/360,1,1),l={x:n.x+r*o.x,y:n.y+r*o.y};t.lineWidth=h,t.strokeStyle=d,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(l.x,l.y),t.stroke();const u=Math.atan2(o.y,o.x);t.fillStyle=d,Q$.draw(t,{type:"arrow",point:l,angle:u,length:c}),rR(t).call(t)}}}const _Z=[];for(let c2=0;c2<256;++c2)_Z.push((c2+256).toString(16).slice(1));function xZ(t,e=0){return(_Z[t[e+0]]+_Z[t[e+1]]+_Z[t[e+2]]+_Z[t[e+3]]+"-"+_Z[t[e+4]]+_Z[t[e+5]]+"-"+_Z[t[e+6]]+_Z[t[e+7]]+"-"+_Z[t[e+8]]+_Z[t[e+9]]+"-"+_Z[t[e+10]]+_Z[t[e+11]]+_Z[t[e+12]]+_Z[t[e+13]]+_Z[t[e+14]]+_Z[t[e+15]]).toLowerCase()}let EZ;const OZ=new Uint8Array(16);function SZ(){if(!EZ){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");EZ=crypto.getRandomValues.bind(crypto)}return EZ(OZ)}const CZ="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var kZ,TZ,DZ,MZ,IZ={randomUUID:CZ};function PZ(t,e,i){t=t||{};const n=t.random??t.rng?.()??SZ();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=15&n[6]|64,n[8]=63&n[8]|128,xZ(n)}function FZ(t,e,i){return IZ.randomUUID&&!t?IZ.randomUUID():PZ(t)}class zZ{constructor(){}static getRange(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(let a=0;a<i.length;a++)e=t[i[a]],r>e.shape.boundingBox.left&&(r=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}static getRangeCore(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(let a=0;a<i.length;a++)e=t[i[a]],r>e.x&&(r=e.x),s<e.x&&(s=e.x),n>e.y&&(n=e.y),o<e.y&&(o=e.y);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}static findCenter(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}static cloneOptions(t,e){const i={};return void 0===e||"node"===e?(XH(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):XH(i,t.options,!0),i}}class NZ extends E${constructor(t,e,i,n,o,r){super(t,e,i,n,o,r),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(t){const e=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!e.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],QH(e.edges,t=>{delete this.containedEdges[t.id]}),QH(e.containedNodes,(t,e)=>{this.containedNodes[e]=t}),e.containedNodes={},QH(e.containedEdges,(t,e)=>{this.containedEdges[e]=t}),e.containedEdges={},QH(e.edges,t=>{QH(this.edges,e=>{var i,n;const o=AB(i=e.clusteringEdgeReplacingIds).call(i,t.id);-1!==o&&(QH(t.clusteringEdgeReplacingIds,t=>{e.clusteringEdgeReplacingIds.push(t),this.body.edges[t].edgeReplacedById=e.id}),sN(n=e.clusteringEdgeReplacingIds).call(n,o,1))})}),e.edges=[]}}class AZ{constructor(t){this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Kk(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(t,e){void 0===t?t=this._getHubSize():"object"===typeof t&&(e=this._checkOptions(t),t=this._getHubSize());const i=[];for(let n=0;n<this.body.nodeIndices.length;n++){const e=this.body.nodes[this.body.nodeIndices[n]];e.edges.length>=t&&i.push(e.id)}for(let n=0;n<i.length;n++)this.clusterByConnection(i[n],e,!0);this.body.emitter.emit("_dataChanged")}cluster(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);const i={},n={};QH(this.body.nodes,(e,o)=>{e.options&&!0===t.joinCondition(e.options)&&(i[o]=e,QH(e.edges,t=>{void 0===this.clusteredEdges[t.id]&&(n[t.id]=t)}))}),this._cluster(i,n,t,e)}clusterByEdgeCount(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);const n=[],o={};let r,s,a;for(let h=0;h<this.body.nodeIndices.length;h++){const i={},c={},d=this.body.nodeIndices[h],l=this.body.nodes[d];if(void 0===o[d]){a=0,s=[];for(let t=0;t<l.edges.length;t++)r=l.edges[t],void 0===this.clusteredEdges[r.id]&&(r.toId!==r.fromId&&a++,s.push(r));if(a===t){const t=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;const i=zZ.cloneOptions(t);return e.joinCondition(i)};let a=!0;for(let e=0;e<s.length;e++){r=s[e];const n=this._getConnectedId(r,d);if(!t(l)){a=!1;break}c[r.id]=r,i[d]=l,i[n]=this.body.nodes[n],o[d]=!0}if(HF(i).length>0&&HF(c).length>0&&!0===a){const t=function(){for(let t=0;t<n.length;++t)for(const e in i)if(void 0!==n[t].nodes[e])return n[t]},e=t();if(void 0!==e){for(const t in i)void 0===e.nodes[t]&&(e.nodes[t]=i[t]);for(const t in c)void 0===e.edges[t]&&(e.edges[t]=c[t])}else n.push({nodes:i,edges:c})}}}}for(let h=0;h<n.length;h++)this._cluster(n[h].nodes,n[h].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}clusterOutliers(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}clusterBridges(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}clusterByConnection(t,e){var i;let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");const o=this.body.nodes[t];e=this._checkOptions(e,o),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);const r={},s={},a=o.id,h=zZ.cloneOptions(o);r[a]=o;for(let d=0;d<o.edges.length;d++){const t=o.edges[d];if(void 0===this.clusteredEdges[t.id]){const i=this._getConnectedId(t,a);if(void 0===this.clusteredNodes[i])if(i!==a)if(void 0===e.joinCondition)s[t.id]=t,r[i]=this.body.nodes[i];else{const n=zZ.cloneOptions(this.body.nodes[i]);!0===e.joinCondition(h,n)&&(s[t.id]=t,r[i]=this.body.nodes[i])}else s[t.id]=t}}const c=kF(i=HF(r)).call(i,function(t){return r[t].id});for(const d in r){if(!Object.prototype.hasOwnProperty.call(r,d))continue;const t=r[d];for(let e=0;e<t.edges.length;e++){const i=t.edges[e];AB(c).call(c,this._getConnectedId(i,t.id))>-1&&(s[i.id]=i)}}this._cluster(r,s,e,n)}_createClusterEdges(t,e,i,n){let o,r,s,a,h,c;const d=HF(t),l=[];for(let p=0;p<d.length;p++){r=d[p],s=t[r];for(let n=0;n<s.edges.length;n++)o=s.edges[n],void 0===this.clusteredEdges[o.id]&&(o.toId==o.fromId?e[o.id]=o:o.toId==r?(a=i.id,h=o.fromId,c=h):(a=o.toId,h=i.id,c=a),void 0===t[c]&&l.push({edge:o,fromId:h,toId:a}))}const u=[],f=function(t){for(let e=0;e<u.length;e++){const i=u[e],n=t.fromId===i.fromId&&t.toId===i.toId,o=t.fromId===i.toId&&t.toId===i.fromId;if(n||o)return i}return null};for(let p=0;p<l.length;p++){const t=l[p],e=t.edge;let i=f(t);null===i?(i=this._createClusteredEdge(t.fromId,t.toId,e,n),u.push(i)):i.clusteringEdgeReplacingIds.push(e.id),this.body.edges[e.id].edgeReplacedById=i.id,this._backupEdgeOptions(e),e.setOptions({physics:!1})}}_checkOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}_cluster(t,e,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=[];for(const c in t)Object.prototype.hasOwnProperty.call(t,c)&&void 0!==this.clusteredNodes[c]&&o.push(c);for(let c=0;c<o.length;++c)delete t[o[c]];if(0==HF(t).length)return;if(1==HF(t).length&&1!=i.clusterNodeProperties.allowSingleNodeCluster)return;let r=XH({},i.clusterNodeProperties);if(void 0!==i.processProperties){const n=[];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const i=zZ.cloneOptions(t[e]);n.push(i)}const o=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"clusterEdge:"!==t.substr(0,12)){const i=zZ.cloneOptions(e[t],"edge");o.push(i)}if(r=i.processProperties(r,n,o),!r)throw new Error("The processProperties function does not return properties!")}void 0===r.id&&(r.id="cluster:"+FZ());const s=r.id;let a;void 0===r.label&&(r.label="cluster"),void 0===r.x&&(a=this._getClusterPosition(t),r.x=a.x),void 0===r.y&&(void 0===a&&(a=this._getClusterPosition(t)),r.y=a.y),r.id=s;const h=this.body.functions.createNode(r,NZ);h.containedNodes=t,h.containedEdges=e,h.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[r.id]=h,this._clusterEdges(t,e,r,i.clusterEdgeProperties),r.id=void 0,!0===n&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}_restoreEdge(t){const e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}isCluster(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}_getClusterPosition(t){const e=HF(t);let i,n=t[e[0]].x,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].y;for(let a=1;a<e.length;a++)i=t[e[a]],n=i.x<n?i.x:n,o=i.x>o?i.x:o,r=i.y<r?i.y:r,s=i.y>s?i.y:s;return{x:.5*(n+o),y:.5*(r+s)}}openCluster(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");const o=this.findNode(t),r=AB(o).call(o,t)-1;if(r>=0){const e=o[r],n=this.body.nodes[e];return n._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}const s=n.containedNodes,a=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"===typeof e.releaseFunction){const t={},i={x:n.x,y:n.y};for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)){const i=this.body.nodes[e];t[e]={x:i.x,y:i.y}}const o=e.releaseFunction(i,t);for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)){const t=this.body.nodes[e];void 0!==o[e]&&(t.x=void 0===o[e].x?n.x:o[e].x,t.y=void 0===o[e].y?n.y:o[e].y)}}else QH(s,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const t=this.body.nodes[c];t.vx=n.vx,t.vy=n.vy,t.setOptions({physics:!0}),delete this.clusteredNodes[c]}const h=[];for(let c=0;c<n.edges.length;c++)h.push(n.edges[c]);for(let c=0;c<h.length;c++){const e=h[c],i=this._getConnectedId(e,t),n=this.clusteredNodes[i];for(let t=0;t<e.clusteringEdgeReplacingIds.length;t++){const o=e.clusteringEdgeReplacingIds[t],r=this.body.edges[o];if(void 0!==r)if(void 0!==n){const t=this.body.nodes[n.clusterId];t.containedEdges[r.id]=r,delete a[r.id];let e=r.fromId,o=r.toId;r.toId==i?o=n.clusterId:e=n.clusterId,this._createClusteredEdge(e,o,r,t.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(r)}e.remove()}for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&this._restoreEdge(a[c]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(t){const e=[];if(!0===this.isCluster(t)){const i=this.body.nodes[t].containedNodes;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(this.body.nodes[t].id)}return e}findNode(t){const e=[],i=100;let n,o=0;while(void 0!==this.clusteredNodes[t]&&o<i){if(n=this.body.nodes[t],void 0===n)return[];e.push(n.id),t=this.clusteredNodes[t].clusterId,o++}return n=this.body.nodes[t],void 0===n?[]:(e.push(n.id),Xz(e).call(e),e)}updateClusteredNode(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}updateEdge(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");const i=this.getClusteredEdges(t);for(let n=0;n<i.length;n++){const t=this.body.edges[i[n]];t.setOptions(e)}this.body.emitter.emit("_dataChanged")}getClusteredEdges(t){const e=[],i=100;let n=0;while(void 0!==t&&void 0!==this.body.edges[t]&&n<i)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return Xz(e).call(e),e}getBaseEdge(t){return this.getBaseEdges(t)[0]}getBaseEdges(t){const e=[t],i=[],n=[],o=100;let r=0;while(e.length>0&&r<o){const t=e.pop();if(void 0===t)continue;const o=this.body.edges[t];if(void 0===o)continue;r++;const s=o.clusteringEdgeReplacingIds;if(void 0===s)n.push(t);else for(let n=0;n<s.length;++n){const t=s[n];-1===AB(e).call(e,s)&&-1===AB(i).call(i,s)&&e.push(t)}i.push(t)}return n}_getConnectedId(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}_getHubSize(){let t=0,e=0,i=0,n=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodes[this.body.nodeIndices[a]];o.edges.length>n&&(n=o.edges.length),t+=o.edges.length,e+=Math.pow(o.edges.length,2),i+=1}t/=i,e/=i;const o=e-Math.pow(t,2),r=Math.sqrt(o);let s=Math.floor(t+2*r);return s>n&&(s=n),s}_createClusteredEdge(t,e,i,n,o){const r=zZ.cloneOptions(i,"edge");XH(r,n),r.from=t,r.to=e,r.id="clusterEdge:"+FZ(),void 0!==o&&XH(r,o);const s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}_clusterEdges(t,e,i,n){if(e instanceof dZ){const t=e,i={};i[t.id]=t,e=i}if(t instanceof E$){const e=t,i={};i[e.id]=e,t=i}if(void 0===i||null===i)throw new Error("_clusterEdges: parameter clusterNode required");void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n);for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&void 0!==this.body.edges[o]){const t=this.body.edges[o];this._backupEdgeOptions(t),t.setOptions({physics:!1})}for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(this.clusteredNodes[o]={clusterId:i.id,node:this.body.nodes[o]},this.body.nodes[o].setOptions({physics:!1}))}_getClusterNodeForNode(t){if(void 0===t)return;const e=this.clusteredNodes[t];if(void 0===e)return;const i=e.clusterId;return void 0!==i?this.body.nodes[i]:void 0}_filter(t,e){const i=[];return QH(t,t=>{e(t)&&i.push(t)}),i}_updateState(){let t;const e=[],i={},n=t=>{QH(this.body.nodes,e=>{!0===e.isCluster&&t(e)})};for(t in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,t))continue;const i=this.body.nodes[t];void 0===i&&e.push(t)}n(function(t){for(let i=0;i<e.length;i++)delete t.containedNodes[e[i]]});for(let a=0;a<e.length;a++)delete this.clusteredNodes[e[a]];QH(this.clusteredEdges,t=>{const e=this.body.edges[t];void 0!==e&&e.endPointsValid()||(i[t]=t)}),n(function(t){QH(t.containedEdges,(t,e)=>{t.endPointsValid()||i[e]||(i[e]=e)})}),QH(this.body.edges,(t,e)=>{let n=!0;const o=t.clusteringEdgeReplacingIds;if(void 0!==o){let t=0;QH(o,e=>{const i=this.body.edges[e];void 0!==i&&i.endPointsValid()&&(t+=1)}),n=t>0}t.endPointsValid()&&n||(i[e]=e)}),n(t=>{QH(i,e=>{delete t.containedEdges[e],QH(t.edges,(n,o)=>{n.id!==e?n.clusteringEdgeReplacingIds=this._filter(n.clusteringEdgeReplacingIds,function(t){return!i[t]}):t.edges[o]=null}),t.edges=this._filter(t.edges,function(t){return null!==t})})}),QH(i,t=>{delete this.clusteredEdges[t]}),QH(i,t=>{delete this.body.edges[t]});const o=HF(this.body.edges);QH(o,t=>{const e=this.body.edges[t],i=this._isClusteredNode(e.fromId)||this._isClusteredNode(e.toId);if(i!==this._isClusteredEdge(e.id))if(i){const t=this._getClusterNodeForNode(e.fromId);void 0!==t&&this._clusterEdges(this.body.nodes[e.fromId],e,t);const i=this._getClusterNodeForNode(e.toId);void 0!==i&&this._clusterEdges(this.body.nodes[e.toId],e,i)}else delete this._clusterEdges[t],this._restoreEdge(e)});let r=!1,s=!0;while(s){const t=[];n(function(e){const i=HF(e.containedNodes).length,n=!0===e.options.allowSingleNodeCluster;(n&&i<1||!n&&i<2)&&t.push(e.id)});for(let e=0;e<t.length;++e)this.openCluster(t[e],{},!1);s=t.length>0,r=r||s}r&&this._updateState()}_isClusteredNode(t){return void 0!==this.clusteredNodes[t]}_isClusteredEdge(t){return void 0!==this.clusteredEdges[t]}}class BZ{constructor(t,e){this.body=t,this.canvas=e,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Kk(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Kj(()=>{var t;this.zooming=!1,sT(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{!1===this.renderingActive&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",sT(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(t){if(void 0!==t){const e=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];VH(e,this.options,t)}}_startRendering(){var t;!0===this.renderingActive&&(void 0===this.requestAnimationFrameRequestId&&(this.requestAnimationFrameRequestId=window.requestAnimationFrame(sT(t=this._renderStep).call(t,this),this.simulationInterval)))}_renderStep(){!0===this.renderingActive&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();const i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,o),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){const{drawExternalLabels:n}=this._drawNodes(i,t);e.drawExternalLabels=n}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,n,o)}}_resizeNodes(){this.canvas.setTransform();const t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);const e=this.body.nodes;let i;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i=e[n],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}_drawNodes(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.body.nodes,n=this.body.nodeIndices;let o;const r=[],s=[],a=20,h=this.canvas.DOMtoCanvas({x:-a,y:-a}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+a,y:this.canvas.frame.canvas.clientHeight+a}),d={top:h.y,left:h.x,bottom:c.y,right:c.x},l=[];for(let g=0;g<n.length;g++)if(o=i[n[g]],o.hover)s.push(n[g]);else if(o.isSelected())r.push(n[g]);else if(!0===e){const e=o.draw(t);null!=e.drawExternalLabel&&l.push(e.drawExternalLabel)}else if(!0===o.isBoundingBoxOverlappingWith(d)){const e=o.draw(t);null!=e.drawExternalLabel&&l.push(e.drawExternalLabel)}else o.updateBoundingBox(t,o.selected);let u;const f=r.length,p=s.length;for(u=0;u<f;u++){o=i[r[u]];const e=o.draw(t);null!=e.drawExternalLabel&&l.push(e.drawExternalLabel)}for(u=0;u<p;u++){o=i[s[u]];const e=o.draw(t);null!=e.drawExternalLabel&&l.push(e.drawExternalLabel)}return{drawExternalLabels:()=>{for(const t of l)t()}}}_drawEdges(t){const e=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=e[i[n]];!0===o.connected&&o.draw(t)}}_drawArrows(t){const e=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=e[i[n]];!0===o.connected&&o.drawArrows(t)}}_drawSelectionBox(t){if(this.body.selectionBox.show){t.beginPath();const e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}function jZ(){if(TZ)return kZ;TZ=1,zj();var t=ES();return kZ=t.setInterval,kZ}function RZ(){return MZ||(MZ=1,DZ=jZ()),DZ}var LZ=RZ(),HZ=JE(LZ);function WZ(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function UZ(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}class qZ{constructor(t){this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Kk(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var t;this.body.emitter.once("resize",t=>{0!==t.width&&(this.body.view.translation.x=.5*t.width),0!==t.height&&(this.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",sT(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(t){if(void 0!==t){const e=["width","height","autoResize"];VH(e,this.options,t)}if(this._cleanUp(),!0===this.options.autoResize){var e;if(window.ResizeObserver){const t=new ResizeObserver(()=>{const t=this.setSize();!0===t&&this.body.emitter.emit("_requestRedraw")}),{frame:e}=this;t.observe(e),this._cleanupCallbacks.push(()=>{t.unobserve(e)})}else{const t=HZ(()=>{const t=this.setSize();!0===t&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(t)})}const t=sT(e=this._onResize).call(e,this);window.addEventListener("resize",t),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",t)})}}_cleanUp(){var t,e,i;Cz(t=Xz(e=sN(i=this._cleanupCallbacks).call(i,0)).call(e)).call(t,t=>{try{t()}catch(e){console.error(e)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}_setCameraState(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}_prepareValue(t){if("number"===typeof t)return t+"px";if("string"===typeof t){if(-1!==AB(t).call(t,"%")||-1!==AB(t).call(t,"px"))return t;if(-1===AB(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}_create(){while(this.body.container.hasChildNodes())this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new SW(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:SW.DIRECTION_ALL}),WZ(this.hammer,t=>{this.body.eventListeners.onTouch(t)}),this.hammer.on("tap",t=>{this.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",t=>{this.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",t=>{this.body.eventListeners.onHold(t)}),this.hammer.on("panstart",t=>{this.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",t=>{this.body.eventListeners.onDrag(t)}),this.hammer.on("panend",t=>{this.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",t=>{this.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",t=>{this.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",t=>{this.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",t=>{this.body.eventListeners.onContext(t)}),this.hammerFrame=new SW(this.frame),UZ(this.hammerFrame,t=>{this.body.eventListeners.onRelease(t)})}setSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);let i=!1;const n=this.frame.canvas.width,o=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{const t=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),e=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===t&&this.frame.canvas.height===e||this._getCameraState(r),this.frame.canvas.width!==t&&(this.frame.canvas.width=t,i=!0),this.frame.canvas.height!==e&&(this.frame.canvas.height=e,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");let e=1;"undefined"!==typeof window&&(e=window.devicePixelRatio||1);const i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/i}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(t){return(t-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(t){return(t-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.y}canvasToDOM(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}DOMtoCanvas(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}function VZ(t,e){const i=Kk({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!==t&&void 0!==t?t:{});if(!uF(i.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===i.nodes.length&&(i.nodes=e),!("number"===typeof i.minZoomLevel&&i.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"===typeof i.maxZoomLevel&&i.minZoomLevel<=i.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return i}class YZ{constructor(t,e){var i,n;this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",sT(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",sT(n=this.releaseNode).call(n,this))}setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}fit(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=VZ(t,this.body.nodeIndices);const i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let o,r;if(0===i||0===n)r=1,o=zZ.getRange(this.body.nodes,t.nodes);else if(!0===e){let e=0;for(const t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){const i=this.body.nodes[t];!0===i.predefinedPosition&&(e+=1)}if(e>.5*this.body.nodeIndices.length)return void this.fit(t,!1);o=zZ.getRange(this.body.nodes,t.nodes);const s=this.body.nodeIndices.length;r=12.662/(s+7.4147)+.0964822;const a=Math.min(i/600,n/600);r*=a}else{this.body.emitter.emit("_resizeNodes"),o=zZ.getRange(this.body.nodes,t.nodes);const e=1.1*Math.abs(o.maxX-o.minX),s=1.1*Math.abs(o.maxY-o.minY),a=i/e,h=n/s;r=a<=h?a:h}r>t.maxZoomLevel?r=t.maxZoomLevel:r<t.minZoomLevel&&(r=t.minZoomLevel);const s=zZ.findCenter(o),a={position:s,scale:r,animation:t.animation};this.moveTo(a)}focus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){const i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}moveTo(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!IV(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!IV(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!IV(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!IV(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}animateView(t){if(void 0===t)return;this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;const e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};var n,o;(this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration)?void 0!=this.lockedOnNodeId?(this.viewFunction=sT(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=sT(o=this._transitionRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}_lockedRedraw(){const t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},n=this.body.view.translation,o={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}releaseNode(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;const e=uW[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1){var i;if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId)this.viewFunction=sT(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function XZ(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,o={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s["left"]={code:37,shift:!1},s["up"]={code:38,shift:!1},s["right"]={code:39,shift:!1},s["down"]={code:40,shift:!1},s["space"]={code:32,shift:!1},s["enter"]={code:13,shift:!1},s["shift"]={code:16,shift:void 0},s["esc"]={code:27,shift:!1},s["backspace"]={code:8,shift:!1},s["tab"]={code:9,shift:!1},s["ctrl"]={code:17,shift:!1},s["alt"]={code:18,shift:!1},s["delete"]={code:46,shift:!1},s["pageup"]={code:33,shift:!1},s["pagedown"]={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){c(t,"keydown")},h=function(t){c(t,"keyup")},c=function(t,e){if(void 0!==r[e][t.keyCode]){for(var n=r[e][t.keyCode],o=0;o<n.length;o++)(void 0===n[o].shift||1==n[o].shift&&1==t.shiftKey||0==n[o].shift&&0==t.shiftKey)&&n[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=r[i][s[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)o[a].fn==e&&o[a].shift==s[t].shift||n.push(r[i][s[t].code][a]);r[i][s[t].code]=n}else r[i][s[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",h,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",h,!0),o}class GZ{constructor(t,e){this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{void 0!==this.keycharm&&this.keycharm.destroy()}),this.options={}}setOptions(t){void 0!==t&&(this.options=t,this.create())}create(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(0!=this.navigationHammers.length){for(let t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM["wrapper"]&&this.navigationDOM["wrapper"].parentNode&&this.navigationDOM["wrapper"].parentNode.removeChild(this.navigationDOM["wrapper"]),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],e=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM["wrapper"]=document.createElement("div"),this.navigationDOM["wrapper"].className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM["wrapper"]);for(let r=0;r<t.length;r++){this.navigationDOM[t[r]]=document.createElement("div"),this.navigationDOM[t[r]].className="vis-button vis-"+t[r],this.navigationDOM["wrapper"].appendChild(this.navigationDOM[t[r]]);const o=new SW(this.navigationDOM[t[r]]);var i,n;if("_fit"===e[r])WZ(o,sT(i=this._fit).call(i,this));else WZ(o,sT(n=this.bindToRedraw).call(n,this,e[r]));this.navigationHammers.push(o)}const o=new SW(this.canvas.frame);UZ(o,()=>{this._stopMovement()}),this.navigationHammers.push(o),this.iconsCreated=!0}bindToRedraw(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=sT(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}unbindFromRedraw(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}_fit(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}_stopMovement(){for(const t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=e/t,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,r=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=e,this.body.view.translation={x:o,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){var t,e,i,n,o,r,s,a,h,c,d,l,u,f,p,g,v,y,m,b,w,_,x,E;(void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled)&&(!0===this.options.keyboard.bindToWindow?this.keycharm=XZ({container:window,preventDefault:!0}):this.keycharm=XZ({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(sT(t=this.keycharm).call(t,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),sT(e=this.keycharm).call(e,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),sT(i=this.keycharm).call(i,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),sT(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),sT(o=this.keycharm).call(o,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),sT(r=this.keycharm).call(r,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),sT(s=this.keycharm).call(s,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),sT(a=this.keycharm).call(a,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),sT(h=this.keycharm).call(h,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),sT(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),sT(d=this.keycharm).call(d,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),sT(l=this.keycharm).call(l,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),sT(u=this.keycharm).call(u,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),sT(f=this.keycharm).call(f,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),sT(p=this.keycharm).call(p,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),sT(g=this.keycharm).call(g,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),sT(v=this.keycharm).call(v,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),sT(y=this.keycharm).call(y,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),sT(m=this.keycharm).call(m,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),sT(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),sT(w=this.keycharm).call(w,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),sT(_=this.keycharm).call(_,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),sT(x=this.keycharm).call(x,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),sT(E=this.keycharm).call(E,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")))}}class KZ{constructor(t,e,i){var n,o,r,s,a,h,c,d,l,u,f,p,g;this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new GZ(t,e),this.body.eventListeners.onTap=sT(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=sT(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=sT(r=this.onDoubleTap).call(r,this),this.body.eventListeners.onHold=sT(s=this.onHold).call(s,this),this.body.eventListeners.onDragStart=sT(a=this.onDragStart).call(a,this),this.body.eventListeners.onDrag=sT(h=this.onDrag).call(h,this),this.body.eventListeners.onDragEnd=sT(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=sT(d=this.onMouseWheel).call(d,this),this.body.eventListeners.onPinch=sT(l=this.onPinch).call(l,this),this.body.eventListeners.onMouseMove=sT(u=this.onMouseMove).call(u,this),this.body.eventListeners.onRelease=sT(f=this.onRelease).call(f,this),this.body.eventListeners.onContext=sT(p=this.onContext).call(p,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=sT(g=this.getPointer).call(g,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Kk(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(t){if(void 0!==t){const e=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];YH(e,this.options,t),lW(this.options,t,"keyboard"),t.tooltip&&(Kk(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=iW(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}getPointer(t){return{x:t.x-$H(this.canvas.frame.canvas),y:t.y-ZH(this.canvas.frame.canvas)}}onTouch(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}onTap(t){const e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}onDoubleTap(t){const e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}onHold(t){const e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}onRelease(t){if((new Date).valueOf()-this.touchTime>10){const e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}onContext(t){const e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}checkSelectionChanges(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===e?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}_determineDifference(t,e){const i=function(t,e){const i=[];for(let n=0;n<t.length;n++){const o=t[n];-1===AB(e).call(e,o)&&i.push(o)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}onDragStart(t){if(this.drag.dragging)return;void 0===this.drag.pointer&&this.onTouch(t);const e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Kk({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;const e=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)}}else if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);for(const t of this.selectionHandler.getSelectedNodes()){const e={id:t.id,node:t,x:t.x,y:t.y,xFixed:t.options.fixed.x,yFixed:t.options.fixed.y};t.options.fixed.x=!0,t.options.fixed.y=!0,this.drag.selection.push(e)}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}onDrag(t){if(!0===this.drag.pinched)return;this.body.emitter.emit("unlockNode");const e=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,e);const n=e.x-this.drag.pointer.x,o=e.y-this.drag.pointer.y;Cz(i).call(i,t=>{const e=t.node;!1===t.xFixed&&(e.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(t.x)+n)),!1===t.yFixed&&(e.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(t.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);const i=e.x-this.drag.pointer.x,n=e.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+n},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(t){if(this.drag.dragging=!1,this.body.selectionBox.show){var e;this.body.selectionBox.show=!1;const i=this.body.selectionBox.position,n={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=NA(e=this.body.nodeIndices).call(e,t=>{const e=this.body.nodes[t];return e.x>=n.minX&&e.x<=n.maxX&&e.y>=n.minY&&e.y<=n.maxY});Cz(o).call(o,t=>this.selectionHandler.selectObject(this.body.nodes[t]));const r=this.getPointer(t.center);this.selectionHandler.commitAndEmit(r,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const e=this.drag.selection;e&&e.length?(Cz(e).call(e,function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(t){const e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch["scale"]&&(this.pinch.scale=1);const i=this.pinch.scale*t.scale;this.zoom(i,e)}zoom(t,e){if(!0===this.options.zoomView){const i=this.body.view.scale;let n;t<1e-5&&(t=1e-5),t>10&&(t=10),void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const o=this.body.view.translation,r=t/i,s=(1-r)*e.x+o.x*r,a=(1-r)*e.y+o.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},void 0!=n){const t=this.canvas.canvasToDOM(n);this.drag.pointer.x=t.x,this.drag.pointer.y=t.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}onMouseWheel(t){if(!0===this.options.zoomView){if(0!==t.deltaY){let e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);const i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}onMouseMove(t){const e=this.getPointer({x:t.clientX,y:t.clientY});let i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(e),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(e.x+3,e.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Kj(()=>this._checkShowPopup(e),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,e)}_checkShowPopup(t){const e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id;let r=!1,s="node";if(void 0===this.popupObj){const t=this.body.nodeIndices,e=this.body.nodes;let i;const o=[];for(let s=0;s<t.length;s++)i=e[t[s]],!0===i.isOverlappingWith(n)&&(r=!0,void 0!==i.getTitle()&&o.push(t[s]));o.length>0&&(this.popupObj=e[o[o.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){const t=this.body.edgeIndices,e=this.body.edges;let i;const o=[];for(let r=0;r<t.length;r++)i=e[t[r]],!0===i.isOverlappingWith(n)&&!0===i.connected&&void 0!==i.getTitle()&&o.push(t[r]);o.length>0&&(this.popupObj=e[o[o.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new CW(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(t){const e=this.selectionHandler._pointerToPositionObject(t);let i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),!0===i)){const e=this.selectionHandler.getNodeAt(t);i=void 0!==e&&e.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var $Z,ZZ,QZ={},JZ={};function tQ(){if($Z)return JZ;$Z=1;var t=fq(),e=vq();return t("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),JZ}function eQ(){return ZZ||(ZZ=1,tQ()),QZ}var iQ,nQ,oQ,rQ,sQ,aQ,hQ,cQ,dQ,lQ,uQ,fQ,pQ,gQ,vQ,yQ,mQ,bQ,wQ,_Q,xQ,EQ={};function OQ(){if(nQ)return iQ;nQ=1;var t=IS(),e=TypeError;return iQ=function(i){if("object"==typeof i&&"size"in i&&"has"in i&&"add"in i&&"delete"in i&&"keys"in i)return i;throw new e(t(i)+" is not a set")},iQ}function SQ(){if(rQ)return oQ;rQ=1;var t=OS(),e=Sq(),i=t("Set"),n=i.prototype;return oQ={Set:i,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},oQ}function CQ(){if(aQ)return sQ;aQ=1;var t=IO();return sQ=function(e,i,n){var o,r,s=n?e:e.iterator,a=e.next;while(!(o=t(a,s)).done)if(r=i(o.value),void 0!==r)return r},sQ}function kQ(){if(cQ)return hQ;cQ=1;var t=CQ();return hQ=function(e,i,n){return n?t(e.keys(),i,!0):e.forEach(i)},hQ}function TQ(){if(lQ)return dQ;lQ=1;var t=SQ(),e=kQ(),i=t.Set,n=t.add;return dQ=function(t){var o=new i;return e(t,function(t){n(o,t)}),o},dQ}function DQ(){return fQ||(fQ=1,uQ=function(t){return t.size}),uQ}function MQ(){return gQ||(gQ=1,pQ=function(t){return{iterator:t,next:t.next,done:!1}}),pQ}function IQ(){if(yQ)return vQ;yQ=1;var t=PS(),e=ik(),i=IO(),n=ak(),o=MQ(),r="Invalid size",s=RangeError,a=TypeError,h=Math.max,c=function(e,i){this.set=e,this.size=h(i,0),this.has=t(e.has),this.keys=t(e.keys)};return c.prototype={getIterator:function(){return o(e(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},vQ=function(t){e(t);var i=+t.size;if(i!==i)throw new a(r);var o=n(i);if(o<0)throw new s(r);return new c(t,o)},vQ}function PQ(){if(bQ)return mQ;bQ=1;var t=OQ(),e=SQ(),i=TQ(),n=DQ(),o=IQ(),r=kQ(),s=CQ(),a=e.has,h=e.remove;return mQ=function(e){var c=t(this),d=o(e),l=i(c);return n(c)<=d.size?r(c,function(t){d.includes(t)&&h(l,t)}):s(d.getIterator(),function(t){a(l,t)&&h(l,t)}),l},mQ}function FQ(){return _Q||(_Q=1,wQ=function(){return!1}),wQ}function zQ(){if(xQ)return EQ;xQ=1;var t=rk(),e=PQ(),i=mO(),n=FQ(),o=!n("difference",function(t){return 0===t.size}),r=o||i(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var i=t++>1;return e.has(1)&&e.clear(),{done:i,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size});return t({target:"Set",proto:!0,real:!0,forced:r},{difference:e}),EQ}var NQ,AQ,BQ,jQ={};function RQ(){if(AQ)return NQ;AQ=1;var t=OQ(),e=SQ(),i=DQ(),n=IQ(),o=kQ(),r=CQ(),s=e.Set,a=e.add,h=e.has;return NQ=function(e){var c=t(this),d=n(e),l=new s;return i(c)>d.size?r(d.getIterator(),function(t){h(c,t)&&a(l,t)}):o(c,function(t){d.includes(t)&&a(l,t)}),l},NQ}function LQ(){if(BQ)return jQ;BQ=1;var t=rk(),e=mO(),i=RQ(),n=FQ(),o=!n("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||e(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))});return t({target:"Set",proto:!0,real:!0,forced:o},{intersection:i}),jQ}var HQ,WQ,UQ,qQ={};function VQ(){if(WQ)return HQ;WQ=1;var t=OQ(),e=SQ().has,i=DQ(),n=IQ(),o=kQ(),r=CQ(),s=dq();return HQ=function(a){var h=t(this),c=n(a);if(i(h)<=c.size)return!1!==o(h,function(t){if(c.includes(t))return!1},!0);var d=c.getIterator();return!1!==r(d,function(t){if(e(h,t))return s(d,"normal",!1)})},HQ}function YQ(){if(UQ)return qQ;UQ=1;var t=rk(),e=VQ(),i=FQ(),n=!i("isDisjointFrom",function(t){return!t});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),qQ}var XQ,GQ,KQ,$Q={};function ZQ(){if(GQ)return XQ;GQ=1;var t=OQ(),e=DQ(),i=kQ(),n=IQ();return XQ=function(o){var r=t(this),s=n(o);return!(e(r)>s.size)&&!1!==i(r,function(t){if(!s.includes(t))return!1},!0)},XQ}function QQ(){if(KQ)return $Q;KQ=1;var t=rk(),e=ZQ(),i=FQ(),n=!i("isSubsetOf",function(t){return t});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),$Q}var JQ,tJ,eJ,iJ={};function nJ(){if(tJ)return JQ;tJ=1;var t=OQ(),e=SQ().has,i=DQ(),n=IQ(),o=CQ(),r=dq();return JQ=function(s){var a=t(this),h=n(s);if(i(a)<h.size)return!1;var c=h.getIterator();return!1!==o(c,function(t){if(!e(a,t))return r(c,"normal",!1)})},JQ}function oJ(){if(eJ)return iJ;eJ=1;var t=rk(),e=nJ(),i=FQ(),n=!i("isSupersetOf",function(t){return!t});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),iJ}var rJ,sJ,aJ,hJ,cJ,dJ={};function lJ(){if(sJ)return rJ;sJ=1;var t=OQ(),e=SQ(),i=TQ(),n=IQ(),o=CQ(),r=e.add,s=e.has,a=e.remove;return rJ=function(e){var h=t(this),c=n(e).getIterator(),d=i(h);return o(c,function(t){s(h,t)?a(d,t):r(d,t)}),d},rJ}function uJ(){return hJ||(hJ=1,aJ=function(t){try{var e=new Set,i={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](i);return 1===n.size&&4===n.values().next().value}catch(o){return!1}}),aJ}function fJ(){if(cJ)return dJ;cJ=1;var t=rk(),e=lJ(),i=uJ(),n=FQ(),o=!n("symmetricDifference")||!i("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:o},{symmetricDifference:e}),dJ}var pJ,gJ,vJ,yJ,mJ,bJ,wJ,_J,xJ,EJ={};function OJ(){if(gJ)return pJ;gJ=1;var t=OQ(),e=SQ().add,i=TQ(),n=IQ(),o=CQ();return pJ=function(r){var s=t(this),a=n(r).getIterator(),h=i(s);return o(a,function(t){e(h,t)}),h},pJ}function SJ(){if(vJ)return EJ;vJ=1;var t=rk(),e=OJ(),i=uJ(),n=FQ(),o=!n("union")||!i("union");return t({target:"Set",proto:!0,real:!0,forced:o},{union:e}),EJ}function CJ(){if(mJ)return yJ;mJ=1,yP(),eQ(),zQ(),LQ(),YQ(),QQ(),oJ(),fJ(),SJ(),Rq();var t=ES();return yJ=t.Set,yJ}function kJ(){if(wJ)return bJ;wJ=1;var t=CJ();return bP(),bJ=t,bJ}function TJ(){return xJ||(xJ=1,_J=kJ()),_J}var DJ,MJ,IJ,PJ,FJ,zJ,NJ,AJ,BJ,jJ,RJ=TJ(),LJ=JE(RJ),HJ={},WJ={};function UJ(){if(MJ)return DJ;MJ=1;var t=_O(),e=pq(),i=sq().getWeakData,n=uq(),o=ik(),r=bS(),s=xS(),a=lq(),h=nM(),c=gC(),d=iM(),l=d.set,u=d.getterFor,f=h.find,p=h.findIndex,g=t([].splice),v=0,y=function(t){return t.frozen||(t.frozen=new m)},m=function(){this.entries=[]},b=function(t,e){return f(t.entries,function(t){return t[0]===e})};return m.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var i=b(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=p(this.entries,function(e){return e[0]===t});return~e&&g(this.entries,e,1),!!~e}},DJ={getConstructor:function(t,h,d,f){var p=t(function(t,e){n(t,g),l(t,{type:h,id:v++,frozen:null}),r(e)||a(e,t[f],{that:t,AS_ENTRIES:d})}),g=p.prototype,m=u(h),b=function(t,e,n){var r=m(t),s=i(o(e),!0);return!0===s?y(r).set(e,n):s[r.id]=n,t};return e(g,{delete:function(t){var e=m(this);if(!s(t))return!1;var n=i(t);return!0===n?y(e)["delete"](t):n&&c(n,e.id)&&delete n[e.id]},has:function(t){var e=m(this);if(!s(t))return!1;var n=i(t);return!0===n?y(e).has(t):n&&c(n,e.id)}}),e(g,d?{get:function(t){var e=m(this);if(s(t)){var n=i(t);if(!0===n)return y(e).get(t);if(n)return n[e.id]}},set:function(t,e){return b(this,t,e)}}:{add:function(t){return b(this,t,!0)}}),p}},DJ}function qJ(){if(IJ)return WJ;IJ=1;var t,e=rq(),i=yO(),n=_O(),o=pq(),r=sq(),s=fq(),a=UJ(),h=xS(),c=iM().enforce,d=mO(),l=eM(),u=Object,f=Array.isArray,p=u.isExtensible,g=u.isFrozen,v=u.isSealed,y=u.freeze,m=u.seal,b=!i.ActiveXObject&&"ActiveXObject"in i,w=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,a),x=_.prototype,E=n(x.set),O=function(){return e&&d(function(){var t=y([]);return E(new _,t,1),!g(t)})};if(l)if(b){t=a.getConstructor(w,"WeakMap",!0),r.enable();var S=n(x["delete"]),C=n(x.has),k=n(x.get);o(x,{delete:function(e){if(h(e)&&!p(e)){var i=c(this);return i.frozen||(i.frozen=new t),S(this,e)||i.frozen["delete"](e)}return S(this,e)},has:function(e){if(h(e)&&!p(e)){var i=c(this);return i.frozen||(i.frozen=new t),C(this,e)||i.frozen.has(e)}return C(this,e)},get:function(e){if(h(e)&&!p(e)){var i=c(this);return i.frozen||(i.frozen=new t),C(this,e)?k(this,e):i.frozen.get(e)}return k(this,e)},set:function(e,i){if(h(e)&&!p(e)){var n=c(this);n.frozen||(n.frozen=new t),C(this,e)?E(this,e,i):n.frozen.set(e,i)}else E(this,e,i);return this}})}else O()&&o(x,{set:function(t,e){var i;return f(t)&&(g(t)?i=y:v(t)&&(i=m)),E(this,t,e),i&&i(t),this}});return WJ}function VJ(){return PJ||(PJ=1,qJ()),HJ}function YJ(){if(zJ)return FJ;zJ=1,yP(),VJ();var t=ES();return FJ=t.WeakMap,FJ}function XJ(){if(AJ)return NJ;AJ=1;var t=YJ();return bP(),NJ=t,NJ}function GJ(){return jJ||(jJ=1,BJ=XJ()),BJ}var KJ=GJ(),$J=JE(KJ);function ZJ(t,e,i){QJ(t,e),e.set(t,i)}function QJ(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JJ(t,e,i){return t.set(e0(t,e),i),i}function t0(t,e){return t.get(e0(t,e))}function e0(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function i0(t,e){const i=new LJ;for(const n of e)t.has(n)||i.add(n);return i}var n0=new $J,o0=new $J;class r0{constructor(){ZJ(this,n0,new LJ),ZJ(this,o0,new LJ)}get size(){return t0(o0,this).size}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e)t0(o0,this).add(n)}delete(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(const n of e)t0(o0,this).delete(n)}clear(){t0(o0,this).clear()}getSelection(){return[...t0(o0,this)]}getChanges(){return{added:[...i0(t0(n0,this),t0(o0,this))],deleted:[...i0(t0(o0,this),t0(n0,this))],previous:[...new LJ(t0(n0,this))],current:[...new LJ(t0(o0,this))]}}commit(){const t=this.getChanges();JJ(n0,this,t0(o0,this)),JJ(o0,this,new LJ(t0(n0,this)));for(const e of t.added)e.select();for(const e of t.deleted)e.unselect();return t}}var s0=new $J,a0=new $J,h0=new $J;class c0{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};ZJ(this,s0,new r0),ZJ(this,a0,new r0),ZJ(this,h0,void 0),JJ(h0,this,t)}get sizeNodes(){return t0(s0,this).size}get sizeEdges(){return t0(a0,this).size}getNodes(){return t0(s0,this).getSelection()}getEdges(){return t0(a0,this).getSelection()}addNodes(){t0(s0,this).add(...arguments)}addEdges(){t0(a0,this).add(...arguments)}deleteNodes(t){t0(s0,this).delete(t)}deleteEdges(t){t0(a0,this).delete(t)}clear(){t0(s0,this).clear(),t0(a0,this).clear()}commit(){const t={nodes:t0(s0,this).commit(),edges:t0(a0,this).commit()};for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t0(h0,this).call(this,t,...i),t}}class d0{constructor(t,e){this.body=t,this.canvas=e,this._selectionAccumulator=new c0,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Kk(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(t){if(void 0!==t){const e=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];VH(e,this.options,t)}}selectOnPoint(t){let e=!1;if(!0===this.options.selectable){const i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}selectAdditionalOnPoint(t){let e=!1;if(!0===this.options.selectable){const i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}_initBaseEvent(t,e){const i={};return i["pointer"]={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i["event"]=t,i}generateClickEvent(t,e,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=this._initBaseEvent(e,i);if(!0===o)r.nodes=[],r.edges=[];else{const t=this.getSelection();r.nodes=t.nodes,r.edges=t.edges}void 0!==n&&(r["previousSelection"]=n),"click"==t&&(r.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(r.controlEdge=e.controlEdge),this.body.emitter.emit(t,r)}selectObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof E$?(!0===e&&this._selectionAccumulator.addEdges(...t.edges),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}deselectObject(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}_getAllNodesOverlappingWith(t){const e=[],i=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}return e}_pointerToPositionObject(t){const e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}getNodeAt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}_getEdgesOverlappingWith(t,e){const i=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const o=this.body.edgeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}}_getAllEdgesOverlappingWith(t){const e=[];return this._getEdgesOverlappingWith(t,e),e}getEdgeAt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.canvas.DOMtoCanvas(t);let n=10,o=null;const r=this.body.edges;for(let s=0;s<this.body.edgeIndices.length;s++){const t=this.body.edgeIndices[s],e=r[t];if(e.connected){const r=e.from.x,s=e.from.y,a=e.to.x,h=e.to.y,c=e.edgeType.getDistanceToEdge(r,s,a,h,i.x,i.y);c<n&&(o=t,n=c)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}_addToHover(t){t instanceof E$?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}_removeFromSelection(t){t instanceof E$?(this._selectionAccumulator.deleteNodes(t),this._selectionAccumulator.deleteEdges(...t.edges)):this._selectionAccumulator.deleteEdges(t)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(t){for(let e=0;e<t.edges.length;e++){const i=t.edges[e];i.hover=!0,this._addToHover(i)}}emitBlurEvent(t,e,i){const n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof E$?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(t,e,i){const n=this._initBaseEvent(t,e);let o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof E$?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}hoverObject(t,e){let i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));let n=!1;for(const o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(void 0===i||i instanceof E$&&i.id!=o||i instanceof dZ)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(const o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===n?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===i||i instanceof dZ&&i.id!=o||i instanceof E$&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(void 0!==i){const o=HF(this.hoverObj.edges).length,r=HF(this.hoverObj.nodes).length,s=i instanceof dZ&&0===o&&0===r,a=i instanceof E$&&0===o&&0===r;(n||s||a)&&(n=this.emitHoverEvent(t,e,i)),i instanceof E$&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===n&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(t,e){let i=!1;const n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,o),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,o),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var t;return kF(t=this._selectionAccumulator.getNodes()).call(t,t=>t.id)}getSelectedEdgeIds(){var t;return kF(t=this._selectionAccumulator.getEdges()).call(t,t=>t.id)}setSelection(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(const i of t.nodes){const t=this.body.nodes[i];if(!t)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(t,e.highlightEdges)}if(t.edges)for(const i of t.edges){const t=this.body.edges[i];if(!t)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(t)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}selectEdges(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}updateSelection(){for(const t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(const t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}getClickedItems(t){const e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,o=this.body.nodes;for(let a=n.length-1;a>=0;a--){const t=o[n[a]],r=t.getItemsOnPoint(e);i.push.apply(i,r)}const r=this.body.edgeIndices,s=this.body.edges;for(let a=r.length-1;a>=0;a--){const t=s[r[a]],n=t.getItemsOnPoint(e);i.push.apply(i,n)}return i}}var l0,u0,f0,p0,g0,v0,y0,m0,b0,w0,_0,x0,E0,O0,S0,C0,k0,T0={};function D0(){if(u0)return l0;u0=1;var t=Zk(),e=Math.floor,i=function(n,o){var r=n.length;if(r<8){var s,a,h=1;while(h<r){a=h,s=n[h];while(a&&o(n[a-1],s)>0)n[a]=n[--a];a!==h++&&(n[a]=s)}}else{var c=e(r/2),d=i(t(n,0,c),o),l=i(t(n,c),o),u=d.length,f=l.length,p=0,g=0;while(p<u||g<f)n[p+g]=p<u&&g<f?o(d[p],l[g])<=0?d[p++]:l[g++]:p<u?d[p++]:l[g++]}return n};return l0=i,l0}function M0(){if(p0)return f0;p0=1;var t=CS(),e=t.match(/firefox\/(\d+)/i);return f0=!!e&&+e[1],f0}function I0(){if(v0)return g0;v0=1;var t=CS();return g0=/MSIE|Trident/.test(t),g0}function P0(){if(m0)return y0;m0=1;var t=CS(),e=t.match(/AppleWebKit\/(\d+)\./);return y0=!!e&&+e[1],y0}function F0(){if(b0)return T0;b0=1;var t=rk(),e=_O(),i=PS(),n=pC(),o=dk(),r=$z(),s=hD(),a=mO(),h=D0(),c=cz(),d=M0(),l=I0(),u=kS(),f=P0(),p=[],g=e(p.sort),v=e(p.push),y=a(function(){p.sort(void 0)}),m=a(function(){p.sort(null)}),b=c("sort"),w=!a(function(){if(u)return u<70;if(!(d&&d>3)){if(l)return!0;if(f)return f<603;var t,e,i,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)p.push({k:e+n,v:i})}for(p.sort(function(t,e){return e.v-t.v}),n=0;n<p.length;n++)e=p[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}),_=y||!m||!b||!w,x=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:s(e)>s(i)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(t){void 0!==t&&i(t);var e=n(this);if(w)return void 0===t?g(e):g(e,t);var s,a,c=[],d=o(e);for(a=0;a<d;a++)a in e&&v(c,e[a]);h(c,x(t)),s=o(c),a=0;while(a<s)e[a]=c[a++];while(a<d)r(e,a++);return e}}),T0}function z0(){if(_0)return w0;_0=1,F0();var t=tT();return w0=t("Array","sort"),w0}function N0(){if(E0)return x0;E0=1;var t=SS(),e=z0(),i=Array.prototype;return x0=function(n){var o=n.sort;return n===i||t(i,n)&&o===i.sort?e:o},x0}function A0(){if(S0)return O0;S0=1;var t=N0();return O0=t,O0}function B0(){return k0||(k0=1,C0=A0()),C0}var j0,R0,L0,H0,W0,U0,q0,V0,Y0,X0,G0,K0,$0,Z0=B0(),Q0=JE(Z0),J0={};function t1(){if(R0)return j0;R0=1;var t=PS(),e=pC(),i=mS(),n=dk(),o=TypeError,r="Reduce of empty array with no initial value",s=function(s){return function(a,h,c,d){var l=e(a),u=i(l),f=n(l);if(t(h),0===f&&c<2)throw new o(r);var p=s?f-1:0,g=s?-1:1;if(c<2)while(1){if(p in u){d=u[p],p+=g;break}if(p+=g,s?p<0:f<=p)throw new o(r)}for(;s?p>=0:f>p;p+=g)p in u&&(d=h(d,u[p],p,l));return d}};return j0={left:s(!1),right:s(!0)},j0}function e1(){if(H0)return L0;H0=1;var t=xj();return L0="NODE"===t,L0}function i1(){if(W0)return J0;W0=1;var t=rk(),e=t1().left,i=cz(),n=kS(),o=e1(),r=!o&&n>79&&n<83,s=r||!i("reduce");return t({target:"Array",proto:!0,forced:s},{reduce:function(t){var i=arguments.length;return e(this,t,i,i>1?arguments[1]:void 0)}}),J0}function n1(){if(q0)return U0;q0=1,i1();var t=tT();return U0=t("Array","reduce"),U0}function o1(){if(Y0)return V0;Y0=1;var t=SS(),e=n1(),i=Array.prototype;return V0=function(n){var o=n.reduce;return n===i||t(i,n)&&o===i.reduce?e:o},V0}function r1(){if(G0)return X0;G0=1;var t=o1();return X0=t,X0}function s1(){return $0||($0=1,K0=r1()),K0}var a1=s1(),h1=JE(a1);class c1{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(t){return this.fake_use(t),this.abstract()}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}getTreeSize(t){return this.fake_use(t),this.abstract()}sort(t){this.fake_use(t),this.abstract()}fix(t,e){this.fake_use(t,e),this.abstract()}shift(t,e){this.fake_use(t,e),this.abstract()}}class d1 extends c1{constructor(t){super(),this.layout=t}curveType(){return"horizontal"}getPosition(t){return t.x}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}getTreeSize(t){const e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}sort(t){Q0(t).call(t,function(t,e){return t.x-e.x})}fix(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}shift(t,e){this.layout.body.nodes[t].x+=e}}class l1 extends c1{constructor(t){super(),this.layout=t}curveType(){return"vertical"}getPosition(t){return t.y}setPosition(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}getTreeSize(t){const e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}sort(t){Q0(t).call(t,function(t,e){return t.y-e.y})}fix(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}shift(t,e){this.layout.body.nodes[t].y+=e}}var u1,f1,p1,g1,v1,y1,m1,b1,w1,_1={};function x1(){if(u1)return _1;u1=1;var t=rk(),e=nM().every,i=cz(),n=i("every");return t({target:"Array",proto:!0,forced:!n},{every:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),_1}function E1(){if(p1)return f1;p1=1,x1();var t=tT();return f1=t("Array","every"),f1}function O1(){if(v1)return g1;v1=1;var t=SS(),e=E1(),i=Array.prototype;return g1=function(n){var o=n.every;return n===i||t(i,n)&&o===i.every?e:o},g1}function S1(){if(m1)return y1;m1=1;var t=O1();return y1=t,y1}function C1(){return w1||(w1=1,b1=S1()),b1}var k1=C1(),T1=JE(k1);function D1(t,e){const i=new LJ;return Cz(t).call(t,t=>{var e;Cz(e=t.edges).call(e,t=>{t.connected&&i.add(t)})}),Cz(i).call(i,t=>{const i=t.from.id,n=t.to.id;null==e[i]&&(e[i]=0),(null==e[n]||e[i]>=e[n])&&(e[n]=e[i]+1)}),e}function M1(t){return P1(e=>{var i,n;return T1(i=NA(n=e.edges).call(n,e=>t.has(e.toId))).call(i,t=>t.to===e)},(t,e)=>e>t,"from",t)}function I1(t){return P1(e=>{var i,n;return T1(i=NA(n=e.edges).call(n,e=>t.has(e.toId))).call(i,t=>t.from===e)},(t,e)=>e<t,"to",t)}function P1(t,e,i,n){var o;const r=ij(null),s=h1(o=[...XK(n).call(n)]).call(o,(t,e)=>t+1+e.edges.length,0),a=i+"Id",h="to"===i?1:-1;for(const[l,u]of n){if(!n.has(l)||!t(u))continue;r[l]=0;const o=[u];let f,p=0;while(f=o.pop()){var c,d;if(!n.has(l))continue;const t=r[f.id]+h;if(Cz(c=NA(d=f.edges).call(d,t=>t.connected&&t.to!==t.from&&t[i]!==f&&n.has(t.toId)&&n.has(t.fromId))).call(c,n=>{const s=n[a],h=r[s];(null==h||e(t,h))&&(r[s]=t,o.push(n[i]))}),p>s)return D1(n,r);++p}}return r}class F1{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}checkIfTree(){for(const t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}ensureLevel(t){void 0===this.levels[t]&&(this.levels[t]=0)}getMaxLevel(t){const e={},i=t=>{if(void 0!==e[t])return e[t];let n=this.levels[t];if(this.childrenReference[t]){const e=this.childrenReference[t];if(e.length>0)for(let t=0;t<e.length;t++)n=Math.max(n,i(e[t]))}return e[t]=n,n};return i(t)}levelDownstream(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}setMinLevelToZero(){var t;const e=new qq;let i=0;const n=Q0(t=[...new LJ(iB(this.levels))]).call(t,(t,e)=>t-e);for(const o of n)e.set(o,i++);for(const o in this.levels)Object.prototype.hasOwnProperty.call(this.levels,o)&&(this.levels[o]=e.get(this.levels[o]))}getTreeSize(t,e){let i=1e9,n=-1e9,o=1e9,r=-1e9;for(const s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){const e=t[s];i=Math.min(e.x,i),n=Math.max(e.x,n),o=Math.min(e.y,o),r=Math.max(e.y,r)}return{min_x:i,max_x:n,min_y:o,max_y:r}}hasSameParent(t,e){const i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(let o=0;o<i.length;o++)for(let t=0;t<n.length;t++)if(i[o]==n[t])return!0;return!1}inSameSubNetwork(t,e){return this.trees[t.id]===this.trees[e.id]}getLevels(){return HF(this.distributionOrdering)}addToOrdering(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);let i=!1;const n=this.distributionOrdering[e];for(const o in n)if(n[o]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}class z1{constructor(t){this.body=t,this._resetRNG(Math.random()+":"+az()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Kk(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(!0!==this.options.hierarchical.enabled)return;const t=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",t,!1)})}setOptions(t,e){if(void 0!==t){const i=this.options.hierarchical,n=i.enabled;if(VH(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),lW(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),XH(e,this.optionsBackup)}return e}_resetRNG(t){this.initialRandomSeed=t,this._rng=TH(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(t){if(!0===this.options.hierarchical.enabled){const e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===typeof t.physics?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});let i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"===typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{const e=t.edges.smooth;void 0!==e.type&&"dynamic"!==e.type&&(i=e.type),this.optionsBackup.edges={smooth:{enabled:void 0===e.enabled||e.enabled,type:void 0===e.type?"dynamic":e.type,roundness:void 0===e.roundness?.5:e.roundness,forceDirection:void 0!==e.forceDirection&&e.forceDirection}},t.edges.smooth={enabled:void 0===e.enabled||e.enabled,type:i,roundness:void 0===e.roundness?.5:e.roundness,forceDirection:void 0!==e.forceDirection&&e.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}positionInitially(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);const e=t.length+50;for(let i=0;i<t.length;i++){const n=t[i],o=2*Math.PI*this._rng();void 0===n.x&&(n.x=e*Math.cos(o)),void 0===n.y&&(n.y=e*Math.sin(o))}}}layoutNetwork(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){const t=this.body.nodeIndices;let e=0;for(let i=0;i<t.length;i++){const n=this.body.nodes[t[i]];!0===n.predefinedPosition&&(e+=1)}if(e<.5*t.length){const e=10;let i=0;const n=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>n){const r=t.length;while(t.length>n&&i<=e){i+=1;const e=t.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const n=t.length;if(e==n&&i%3!==0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}i>e&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();const r=70;for(let s=0;s<t.length;s++){const e=this.body.nodes[t[s]];!1===e.predefinedPosition&&(e.x+=(.5-this._rng())*r,e.y+=(.5-this._rng())*r)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const t=zZ.getRangeCore(this.body.nodes,this.body.nodeIndices),e=zZ.findCenter(t);for(let i=0;i<this.body.nodeIndices.length;i++){const t=this.body.nodes[this.body.nodeIndices[i]];t.x-=e.x,t.y-=e.y}}_declusterAll(){let t=!0;while(!0===t){t=!1;for(let e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){let t,e,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new F1,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(t=this.body.nodes[e],void 0!==t.options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(!0===n){const t=this.options.hierarchical.sortMethod;"hubsize"===t?this._determineLevelsByHubsize():"directed"===t?this._determineLevelsDirected():"custom"===t&&this._determineLevelsCustomCallback()}for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.hierarchical.ensureLevel(e);const t=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(t),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var t=this;let e=!1;const i={},n=()=>{const t=r();let e=0;for(let i=0;i<t.length-1;i++){const n=t[i].max-t[i+1].min;e+=n+this.options.hierarchical.treeSpacing,o(i+1,e)}},o=(t,e)=>{const i=this.hierarchical.trees;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&i[n]===t&&this.direction.shift(n,e)},r=()=>{const t=[];for(let e=0;e<this.hierarchical.numTrees();e++)t.push(this.direction.getTreeSize(e));return t},s=(t,e)=>{if(!e[t.id]&&(e[t.id]=!0,this.hierarchical.childrenReference[t.id])){const i=this.hierarchical.childrenReference[t.id];if(i.length>0)for(let t=0;t<i.length;t++)s(this.body.nodes[i[t]],e)}},a=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,n=1e9,o=1e9,r=1e9,s=-1e9;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const h=t.body.nodes[a],c=t.hierarchical.levels[h.id],d=t.direction.getPosition(h),[l,u]=t._getSpaceAroundNode(h,e);n=Math.min(l,n),o=Math.min(u,o),c<=i&&(r=Math.min(d,r),s=Math.max(d,s))}return[r,s,n,o]},h=(t,e)=>{const i=this.hierarchical.getMaxLevel(t.id),n=this.hierarchical.getMaxLevel(e.id);return Math.min(i,n)},c=(t,e,i)=>{const n=this.hierarchical;for(let o=0;o<e.length;o++){const r=e[o],s=n.distributionOrdering[r];if(s.length>1)for(let e=0;e<s.length-1;e++){const o=s[e],r=s[e+1];n.hasSameParent(o,r)&&n.inSameSubNetwork(o,r)&&t(o,r,i)}}},d=function(i,n){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t.direction.getPosition(i),c=t.direction.getPosition(n),d=Math.abs(c-r),l=t.options.hierarchical.nodeSpacing;if(d>l){const r={},c={};s(i,r),s(n,c);const d=h(i,n),u=a(r,d),f=a(c,d),p=u[1],g=f[0],v=f[2],y=Math.abs(p-g);if(y>l){let i=p-g+l;i<-v+l&&(i=-v+l),i<0&&(t._shiftBlock(n.id,i),e=!0,!0===o&&t._centerParent(n))}}},l=(t,n)=>{const o=n.id,r=n.edges,h=this.hierarchical.levels[n.id],c=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,d={},l=[];for(let e=0;e<r.length;e++){const t=r[e];if(t.toId!=t.fromId){const i=t.toId==o?t.from:t.to;d[r[e].id]=i,this.hierarchical.levels[i.id]<h&&l.push(t)}}const u=(t,e)=>{let i=0;for(let n=0;n<e.length;n++)if(void 0!==d[e[n].id]){const o=this.direction.getPosition(d[e[n].id])-t;i+=o/Math.sqrt(o*o+c)}return i},f=(t,e)=>{let i=0;for(let n=0;n<e.length;n++)if(void 0!==d[e[n].id]){const o=this.direction.getPosition(d[e[n].id])-t;i-=c*Math.pow(o*o+c,-1.5)}return i},p=(t,e)=>{let i=this.direction.getPosition(n);const o={};for(let n=0;n<t;n++){const t=u(i,e),r=f(i,e),s=40,a=Math.max(-s,Math.min(s,Math.round(t/r)));if(i-=a,void 0!==o[i])break;o[i]=n}return i},g=t=>{const o=this.direction.getPosition(n);if(void 0===i[n.id]){const t={};s(n,t),i[n.id]=t}const r=a(i[n.id]),h=r[2],c=r[3],d=t-o;let l=0;d>0?l=Math.min(d,c-this.options.hierarchical.nodeSpacing):d<0&&(l=-Math.min(-d,h-this.options.hierarchical.nodeSpacing)),0!=l&&(this._shiftBlock(n.id,l),e=!0)},v=t=>{const i=this.direction.getPosition(n),[o,r]=this._getSpaceAroundNode(n),s=t-i;let a=i;s>0?a=Math.min(i+(r-this.options.hierarchical.nodeSpacing),t):s<0&&(a=Math.max(i-(o-this.options.hierarchical.nodeSpacing),t)),a!==i&&(this.direction.setPosition(n,a),e=!0)};let y=p(t,l);g(y),y=p(t,r),v(y)},u=t=>{let i=this.hierarchical.getLevels();i=Xz(i).call(i);for(let n=0;n<t;n++){e=!1;for(let t=0;t<i.length;t++){const e=i[t],n=this.hierarchical.distributionOrdering[e];for(let t=0;t<n.length;t++)l(1e3,n[t])}if(!0!==e)break}},f=t=>{let i=this.hierarchical.getLevels();i=Xz(i).call(i);for(let n=0;n<t;n++)if(e=!1,c(d,i,!0),!0!==e)break},p=()=>{for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this._centerParent(this.body.nodes[t])},g=()=>{let t=this.hierarchical.getLevels();t=Xz(t).call(t);for(let e=0;e<t.length;e++){const i=t[e],n=this.hierarchical.distributionOrdering[i];for(let t=0;t<n.length;t++)this._centerParent(n[t])}};!0===this.options.hierarchical.blockShifting&&(f(5),p()),!0===this.options.hierarchical.edgeMinimization&&u(20),!0===this.options.hierarchical.parentCentralization&&g(),n()}_getSpaceAroundNode(t,e){let i=!0;void 0===e&&(i=!1);const n=this.hierarchical.levels[t.id];if(void 0!==n){const o=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[n];let a=1e9,h=1e9;if(0!==o){const t=s[o-1];if(!0===i&&void 0===e[t.id]||!1===i){const e=this.direction.getPosition(t);a=r-e}}if(o!=s.length-1){const t=s[o+1];if(!0===i&&void 0===e[t.id]||!1===i){const e=this.direction.getPosition(t);h=Math.min(h,e-r)}}return[a,h]}return[0,0]}_centerParent(t){if(this.hierarchical.parentReference[t.id]){const e=this.hierarchical.parentReference[t.id];for(let t=0;t<e.length;t++){const i=e[t],n=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){const t=this._getCenterPosition(o),e=this.direction.getPosition(n),[i,r]=this._getSpaceAroundNode(n),s=e-t;(s<0&&Math.abs(s)<r-this.options.hierarchical.nodeSpacing||s>0&&Math.abs(s)<i-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(n,t)}}}}_placeNodesByHierarchy(t){this.positionedNodes={};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e;let n=HF(t[i]);n=this._indexArrayToNodes(n),Q0(e=this.direction).call(e,n);let o=0;for(let t=0;t<n.length;t++){const e=n[t];if(void 0===this.positionedNodes[e.id]){const r=this.options.hierarchical.nodeSpacing;let s=r*o;o>0&&(s=this.direction.getPosition(n[t-1])+r),this.direction.setPosition(e,s,i),this._validatePositionAndContinue(e,i,s),o++}}}}_placeBranchNodes(t,e){var i;const n=this.hierarchical.childrenReference[t];if(void 0===n)return;const o=[];for(let s=0;s<n.length;s++)o.push(this.body.nodes[n[s]]);Q0(i=this.direction).call(i,o);for(let s=0;s<o.length;s++){const i=o[s],n=this.hierarchical.levels[i.id];if(!(n>e&&void 0===this.positionedNodes[i.id]))return;{const e=this.options.hierarchical.nodeSpacing;let r;r=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(o[s-1])+e,this.direction.setPosition(i,r,n),this._validatePositionAndContinue(i,n,r)}}const r=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[t],r,e)}_validatePositionAndContinue(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){const o=n+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}_indexArrayToNodes(t){const e=[];for(let i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}_getDistribution(){const t={};let e,i;for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){i=this.body.nodes[e];const n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,n),void 0===t[n]&&(t[n]={}),t[n][e]=i}return t}_getActiveEdges(t){const e=[];return QH(t.edges,t=>{var i;-1!==AB(i=this.body.edgeIndices).call(i,t.id)&&e.push(t)}),e}_getHubSizes(){const t={},e=this.body.nodeIndices;QH(e,e=>{const i=this.body.nodes[e],n=this._getActiveEdges(i).length;t[n]=!0});const i=[];return QH(t,t=>{i.push(Number(t))}),Q0(i).call(i,function(t,e){return e-t}),i}_determineLevelsByHubsize(){const t=(t,e)=>{this.hierarchical.levelDownstream(t,e)},e=this._getHubSizes();for(let i=0;i<e.length;++i){const n=e[i];if(0===n)break;QH(this.body.nodeIndices,e=>{const i=this.body.nodes[e];n===this._getActiveEdges(i).length&&this._crawlNetwork(t,e)})}}_determineLevelsCustomCallback(){const t=1e5,e=function(t,e,i){},i=(i,n,o)=>{let r=this.hierarchical.levels[i.id];void 0===r&&(r=this.hierarchical.levels[i.id]=t);const s=e(zZ.cloneOptions(i,"node"),zZ.cloneOptions(n,"node"),zZ.cloneOptions(o,"edge"));this.hierarchical.levels[n.id]=r+s};this._crawlNetwork(i),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var t;const e=h1(t=this.body.nodeIndices).call(t,(t,e)=>(t.set(e,this.body.nodes[e]),t),new qq);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=I1(e):this.hierarchical.levels=M1(e),this.hierarchical.setMinLevelToZero()}_generateMap(){const t=(t,e)=>{this.hierarchical.levels[e.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,e.id)};this._crawlNetwork(t),this.hierarchical.checkIfTree()}_crawlNetwork(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1?arguments[1]:void 0;const i={},n=(e,o)=>{if(void 0===i[e.id]){let r;this.hierarchical.setTreeIndex(e,o),i[e.id]=!0;const s=this._getActiveEdges(e);for(let i=0;i<s.length;i++){const a=s[i];!0===a.connected&&(r=a.toId==e.id?a.from:a.to,e.id!=r.id&&(t(e,r,a),n(r,o)))}}};if(void 0===e){let t=0;for(let e=0;e<this.body.nodeIndices.length;e++){const o=this.body.nodeIndices[e];if(void 0===i[o]){const e=this.body.nodes[o];n(e,t),t+=1}}}else{const t=this.body.nodes[e];if(void 0===t)return void console.error("Node not found:",e);n(t)}}_shiftBlock(t,e){const i={},n=t=>{if(i[t])return;i[t]=!0,this.direction.shift(t,e);const o=this.hierarchical.childrenReference[t];if(void 0!==o)for(let e=0;e<o.length;e++)n(o[e])};n(t)}_findCommonParent(t,e){const i={},n=(t,e)=>{const i=this.hierarchical.parentReference[e];if(void 0!==i)for(let o=0;o<i.length;o++){const e=i[o];t[e]=!0,n(t,e)}},o=(t,e)=>{const i=this.hierarchical.parentReference[e];if(void 0!==i)for(let n=0;n<i.length;n++){const r=i[n];if(void 0!==t[r])return{foundParent:r,withChild:e};const s=o(t,r);if(null!==s.foundParent)return s}return{foundParent:null,withChild:e}};return n(i,t),o(i,e)}setDirectionStrategy(){const t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new d1(this):new l1(this)}_getCenterPosition(t){let e=1e9,i=-1e9;for(let n=0;n<t.length;n++){let o;if(void 0!==t[n].id)o=t[n];else{const e=t[n];o=this.body.nodes[e]}const r=this.direction.getPosition(o);e=Math.min(e,r),i=Math.max(i,r)}return.5*(e+i)}}class N1{constructor(t,e,i,n){var o,r;this.body=t,this.canvas=e,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Kk(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",sT(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",sT(r=this._restore).call(r,this))}_restore(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}setOptions(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"===typeof t?this.options.enabled=t:(this.options.enabled=!0,XH(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}toggleEditMode(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=i+n,r=this.options.locales[this.options.locale];let s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(r),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(r)),1===i&&"function"===typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(r)):1===n&&0===i&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(r)),0!==o&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(r)),this._bindElementEvents(this.closeDiv,sT(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",sT(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e;const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t["addDescription"]||this.options.locales["en"]["addDescription"]),this._bindElementEvents(this.closeDiv,sT(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",sT(t=this._performAddNode).call(t,this))}editNode(){!0!==this.editMode&&this.enableEditMode(),this._clean();const t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!==typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){const e=XH({},t.options,!1);if(e.x=t.x,e.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(e,t=>{null!==t&&void 0!==t&&"editNode"===this.inMode&&this.body.data.nodes.getDataSet().update(t),this.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale]["editClusterError"]||this.options.locales["en"]["editClusterError"])}else this.showManipulatorToolbar()}addEdgeMode(){var t,e,i,n,o;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var r;const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t["edgeDescription"]||this.options.locales["en"]["edgeDescription"]),this._bindElementEvents(this.closeDiv,sT(r=this.toggleEditMode).call(r,this))}this._temporaryBindUI("onTouch",sT(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",sT(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",sT(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",sT(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",sT(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"===typeof this.options.editEdge&&"function"===typeof this.options.editEdge.editWithoutDrag&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId)){const t=this.body.edges[this.edgeBeingEditedId];return void this._performEditEdge(t.from.id,t.to.id)}if(!0===this.guiEnabled){var t;const e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e["editEdgeDescription"]||this.options.locales["en"]["editEdgeDescription"]),this._bindElementEvents(this.closeDiv,sT(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var e,i,n,o;const t=this.body.edges[this.edgeBeingEditedId],r=this._getNewTargetNode(t.from.x,t.from.y),s=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(r.id),this.temporaryIds.nodes.push(s.id),this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id),this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id),this._temporaryBindUI("onTouch",sT(e=this._controlNodeTouch).call(e,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",sT(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",sT(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",sT(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",e=>{const i=t.edgeType.findBorderPositions(e);!1===r.selected&&(r.x=i.from.x,r.y=i.from.y),!1===s.selected&&(s.x=i.to.x,s.y=i.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";const t=this.selectionHandler.getSelectedNodeIds(),e=this.selectionHandler.getSelectedEdgeIds();let i;if(t.length>0){for(let e=0;e<t.length;e++)if(!0===this.body.nodes[t[e]].isCluster)return void alert(this.options.locales[this.options.locale]["deleteClusterError"]||this.options.locales["en"]["deleteClusterError"]);"function"===typeof this.options.deleteNode&&(i=this.options.deleteNode)}else e.length>0&&"function"===typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"===typeof i){const n={nodes:t,edges:e};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(n,t=>{null!==t&&void 0!==t&&"delete"===this.inMode?(this.body.data.edges.getDataSet().remove(t.edges),this.body.data.nodes.getDataSet().remove(t.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(e),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){var t,e;(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv)&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e["close"])&&void 0!==t?t:this.options.locales["en"]["close"]),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}_getNewTargetNode(t,e){const i=XH({},this.options.controlNodeStyle);i.id="targetNode"+FZ(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;const n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}_createEditButton(){var t;this._clean(),this.manipulationDOM={},LH(this.editModeDiv);const e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",e["edit"]||this.options.locales["en"]["edit"]);this.editModeDiv.appendChild(i),this._bindElementEvents(i,sT(t=this.toggleEditMode).call(t,this))}_clean(){this.inMode=!1,!0===this.guiEnabled&&(LH(this.editModeDiv),LH(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const e of sN(t=this._domEventListenerCleanupQueue).call(t,0)){var t;e()}}_removeManipulationDOM(){this._clean(),LH(this.manipulationDiv),LH(this.editModeDiv),LH(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}_createAddNodeButton(t){var e;const i=this._createButton("addNode","vis-add",t["addNode"]||this.options.locales["en"]["addNode"]);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,sT(e=this.addNodeMode).call(e,this))}_createAddEdgeButton(t){var e;const i=this._createButton("addEdge","vis-connect",t["addEdge"]||this.options.locales["en"]["addEdge"]);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,sT(e=this.addEdgeMode).call(e,this))}_createEditNodeButton(t){var e;const i=this._createButton("editNode","vis-edit",t["editNode"]||this.options.locales["en"]["editNode"]);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,sT(e=this.editNode).call(e,this))}_createEditEdgeButton(t){var e;const i=this._createButton("editEdge","vis-edit",t["editEdge"]||this.options.locales["en"]["editEdge"]);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,sT(e=this.editEdgeMode).call(e,this))}_createDeleteButton(t){var e;let i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";const n=this._createButton("delete",i,t["del"]||this.options.locales["en"]["del"]);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,sT(e=this.deleteSelected).call(e,this))}_createBackButton(t){var e;const i=this._createButton("back","vis-back",t["back"]||this.options.locales["en"]["back"]);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,sT(e=this.showManipulatorToolbar).call(e,this))}_createButton(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}_createDescription(t){this.manipulationDOM["descriptionLabel"]=document.createElement("div"),this.manipulationDOM["descriptionLabel"].className="vis-none",this.manipulationDOM["descriptionLabel"].innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM["descriptionLabel"])}_temporaryBindEvent(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}_temporaryBindUI(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+bj(HF(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}_unbindTemporaryUIs(){for(const t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let t=0;t<this.temporaryEventFunctions.length;t++){const e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}_bindElementEvents(t,e){const i=new SW(t,{});WZ(i,e),this._domEventListenerCleanupQueue.push(()=>{i.destroy()});const n=t=>{let{keyCode:i,key:n}=t;"Enter"!==n&&" "!==n&&13!==i&&32!==i||e()};t.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{t.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let o=0;o<this.temporaryIds.edges.length;o++){var t;this.body.edges[this.temporaryIds.edges[o]].disconnect(),delete this.body.edges[this.temporaryIds.edges[o]];const i=AB(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[o]);var e;if(-1!==i)sN(e=this.body.edgeIndices).call(e,i,1)}for(let o=0;o<this.temporaryIds.nodes.length;o++){var i;delete this.body.nodes[this.temporaryIds.nodes[o]];const t=AB(i=this.body.nodeIndices).call(i,this.temporaryIds.nodes[o]);var n;if(-1!==t)sN(n=this.body.nodeIndices).call(n,t,1)}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=Kk({},this.body.view.translation)}_controlNodeDragStart(){const t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const r=i.isOverlappingWith(e),s=n.isOverlappingWith(e);!0===r?(this.selectedControlNode=i,o.edgeType.from=i):!0===s&&(this.selectedControlNode=n,o.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(t){this.body.emitter.emit("disablePhysics");const e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0===this.selectedControlNode)return;this.selectionHandler.unselectAll();const o=this.selectionHandler._getAllNodesOverlappingWith(i);let r;for(let s=o.length-1;s>=0;s--)if(o[s]!==this.selectedControlNode.id){r=this.body.nodes[o[s]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(!0===r.isCluster)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{const t=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===t.id?this._performEditEdge(r.id,n.to.id):this._performEditEdge(n.from.id,r.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=Kk({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{const t=this._getNewTargetNode(i.x,i.y);this.body.nodes[t.id]=t,this.body.nodeIndices.push(t.id);const e=this.body.functions.createEdge({id:"connectionEdge"+FZ(),from:i.id,to:t.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[e.id]=e,this.body.edgeIndices.push(e.id),this.temporaryIds.nodes.push(t.id),this.temporaryIds.edges.push(e.id)}this.touchTime=(new Date).valueOf()}}_dragControlNode(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e);let n;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let r;for(let a=o.length-1;a>=0;a--){var s;if(-1===AB(s=this.temporaryIds.nodes).call(s,o[a])){r=this.body.nodes[o[a]];break}}if(t.controlEdge={from:n,to:r?r.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){const t=this.body.nodes[this.temporaryIds.nodes[0]];t.x=this.canvas._XconvertDOMtoCanvas(e.x),t.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}_finishConnect(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e);let n;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let r;for(let a=o.length-1;a>=0;a--){var s;if(-1===AB(s=this.temporaryIds.nodes).call(s,o[a])){r=this.body.nodes[o[a]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(n,r.id)),t.controlEdge={from:n,to:r?r.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}_dragStartEdge(t){const e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}_performAddNode(t){const e={id:FZ(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"===typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(e,t=>{null!==t&&void 0!==t&&"addNode"===this.inMode&&this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(e),this.showManipulatorToolbar()}_performAddEdge(t,e){const i={from:t,to:e};if("function"===typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,t=>{null!==t&&void 0!==t&&"addEdge"===this.inMode&&(this.body.data.edges.getDataSet().add(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(t,e){const i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if("object"===typeof n&&(n=n.editWithoutDrag),"function"===typeof n){if(2!==n.length)throw new Error("The function for edit does not support two arguments (data, callback)");n(i,t=>{null===t||void 0===t||"editEdge"!==this.inMode?(this.body.edges[i.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(t),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const A1="string",B1="boolean",j1="number",R1="array",L1="object",H1="dom",W1="any",U1=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],q1={borderWidth:{number:j1},borderWidthSelected:{number:j1,undefined:"undefined"},brokenImage:{string:A1,undefined:"undefined"},chosen:{label:{boolean:B1,function:"function"},node:{boolean:B1,function:"function"},__type__:{object:L1,boolean:B1}},color:{border:{string:A1},background:{string:A1},highlight:{border:{string:A1},background:{string:A1},__type__:{object:L1,string:A1}},hover:{border:{string:A1},background:{string:A1},__type__:{object:L1,string:A1}},__type__:{object:L1,string:A1}},opacity:{number:j1,undefined:"undefined"},fixed:{x:{boolean:B1},y:{boolean:B1},__type__:{object:L1,boolean:B1}},font:{align:{string:A1},color:{string:A1},size:{number:j1},face:{string:A1},background:{string:A1},strokeWidth:{number:j1},strokeColor:{string:A1},vadjust:{number:j1},multi:{boolean:B1,string:A1},bold:{color:{string:A1},size:{number:j1},face:{string:A1},mod:{string:A1},vadjust:{number:j1},__type__:{object:L1,string:A1}},boldital:{color:{string:A1},size:{number:j1},face:{string:A1},mod:{string:A1},vadjust:{number:j1},__type__:{object:L1,string:A1}},ital:{color:{string:A1},size:{number:j1},face:{string:A1},mod:{string:A1},vadjust:{number:j1},__type__:{object:L1,string:A1}},mono:{color:{string:A1},size:{number:j1},face:{string:A1},mod:{string:A1},vadjust:{number:j1},__type__:{object:L1,string:A1}},__type__:{object:L1,string:A1}},group:{string:A1,number:j1,undefined:"undefined"},heightConstraint:{minimum:{number:j1},valign:{string:A1},__type__:{object:L1,boolean:B1,number:j1}},hidden:{boolean:B1},icon:{face:{string:A1},code:{string:A1},size:{number:j1},color:{string:A1},weight:{string:A1,number:j1},__type__:{object:L1}},id:{string:A1,number:j1},image:{selected:{string:A1,undefined:"undefined"},unselected:{string:A1,undefined:"undefined"},__type__:{object:L1,string:A1}},imagePadding:{top:{number:j1},right:{number:j1},bottom:{number:j1},left:{number:j1},__type__:{object:L1,number:j1}},label:{string:A1,undefined:"undefined"},labelHighlightBold:{boolean:B1},level:{number:j1,undefined:"undefined"},margin:{top:{number:j1},right:{number:j1},bottom:{number:j1},left:{number:j1},__type__:{object:L1,number:j1}},mass:{number:j1},physics:{boolean:B1},scaling:{min:{number:j1},max:{number:j1},label:{enabled:{boolean:B1},min:{number:j1},max:{number:j1},maxVisible:{number:j1},drawThreshold:{number:j1},__type__:{object:L1,boolean:B1}},customScalingFunction:{function:"function"},__type__:{object:L1}},shadow:{enabled:{boolean:B1},color:{string:A1},size:{number:j1},x:{number:j1},y:{number:j1},__type__:{object:L1,boolean:B1}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:B1,array:R1},borderRadius:{number:j1},interpolation:{boolean:B1},useImageSize:{boolean:B1},useBorderWithImage:{boolean:B1},coordinateOrigin:{string:["center","top-left"]},__type__:{object:L1}},size:{number:j1},title:{string:A1,dom:H1,undefined:"undefined"},value:{number:j1,undefined:"undefined"},widthConstraint:{minimum:{number:j1},maximum:{number:j1},__type__:{object:L1,boolean:B1,number:j1}},x:{number:j1},y:{number:j1},__type__:{object:L1}},V1={configure:{enabled:{boolean:B1},filter:{boolean:B1,string:A1,array:R1,function:"function"},container:{dom:H1},showButton:{boolean:B1},__type__:{object:L1,boolean:B1,string:A1,array:R1,function:"function"}},edges:{arrows:{to:{enabled:{boolean:B1},scaleFactor:{number:j1},type:{string:U1},imageHeight:{number:j1},imageWidth:{number:j1},src:{string:A1},__type__:{object:L1,boolean:B1}},middle:{enabled:{boolean:B1},scaleFactor:{number:j1},type:{string:U1},imageWidth:{number:j1},imageHeight:{number:j1},src:{string:A1},__type__:{object:L1,boolean:B1}},from:{enabled:{boolean:B1},scaleFactor:{number:j1},type:{string:U1},imageWidth:{number:j1},imageHeight:{number:j1},src:{string:A1},__type__:{object:L1,boolean:B1}},__type__:{string:["from","to","middle"],object:L1}},endPointOffset:{from:{number:j1},to:{number:j1},__type__:{object:L1,number:j1}},arrowStrikethrough:{boolean:B1},background:{enabled:{boolean:B1},color:{string:A1},size:{number:j1},dashes:{boolean:B1,array:R1},__type__:{object:L1,boolean:B1}},chosen:{label:{boolean:B1,function:"function"},edge:{boolean:B1,function:"function"},__type__:{object:L1,boolean:B1}},color:{color:{string:A1},highlight:{string:A1},hover:{string:A1},inherit:{string:["from","to","both"],boolean:B1},opacity:{number:j1},__type__:{object:L1,string:A1}},dashes:{boolean:B1,array:R1},font:{color:{string:A1},size:{number:j1},face:{string:A1},background:{string:A1},strokeWidth:{number:j1},strokeColor:{string:A1},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:j1},multi:{boolean:B1,string:A1},bold:{color:{string:A1},size:{number:j1},face:{string:A1},mod:{string:A1},vadjust:{number:j1},__type__:{object:L1,string:A1}},boldital:{color:{string:A1},size:{number:j1},face:{string:A1},mod:{string:A1},vadjust:{number:j1},__type__:{object:L1,string:A1}},ital:{color:{string:A1},size:{number:j1},face:{string:A1},mod:{string:A1},vadjust:{number:j1},__type__:{object:L1,string:A1}},mono:{color:{string:A1},size:{number:j1},face:{string:A1},mod:{string:A1},vadjust:{number:j1},__type__:{object:L1,string:A1}},__type__:{object:L1,string:A1}},hidden:{boolean:B1},hoverWidth:{function:"function",number:j1},label:{string:A1,undefined:"undefined"},labelHighlightBold:{boolean:B1},length:{number:j1,undefined:"undefined"},physics:{boolean:B1},scaling:{min:{number:j1},max:{number:j1},label:{enabled:{boolean:B1},min:{number:j1},max:{number:j1},maxVisible:{number:j1},drawThreshold:{number:j1},__type__:{object:L1,boolean:B1}},customScalingFunction:{function:"function"},__type__:{object:L1}},selectionWidth:{function:"function",number:j1},selfReferenceSize:{number:j1},selfReference:{size:{number:j1},angle:{number:j1},renderBehindTheNode:{boolean:B1},__type__:{object:L1}},shadow:{enabled:{boolean:B1},color:{string:A1},size:{number:j1},x:{number:j1},y:{number:j1},__type__:{object:L1,boolean:B1}},smooth:{enabled:{boolean:B1},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:j1},forceDirection:{string:["horizontal","vertical","none"],boolean:B1},__type__:{object:L1,boolean:B1}},title:{string:A1,undefined:"undefined"},width:{number:j1},widthConstraint:{maximum:{number:j1},__type__:{object:L1,boolean:B1,number:j1}},value:{number:j1,undefined:"undefined"},__type__:{object:L1}},groups:{useDefaultGroups:{boolean:B1},__any__:q1,__type__:{object:L1}},interaction:{dragNodes:{boolean:B1},dragView:{boolean:B1},hideEdgesOnDrag:{boolean:B1},hideEdgesOnZoom:{boolean:B1},hideNodesOnDrag:{boolean:B1},hover:{boolean:B1},keyboard:{enabled:{boolean:B1},speed:{x:{number:j1},y:{number:j1},zoom:{number:j1},__type__:{object:L1}},bindToWindow:{boolean:B1},autoFocus:{boolean:B1},__type__:{object:L1,boolean:B1}},multiselect:{boolean:B1},navigationButtons:{boolean:B1},selectable:{boolean:B1},selectConnectedEdges:{boolean:B1},hoverConnectedEdges:{boolean:B1},tooltipDelay:{number:j1},zoomView:{boolean:B1},zoomSpeed:{number:j1},__type__:{object:L1}},layout:{randomSeed:{undefined:"undefined",number:j1,string:A1},improvedLayout:{boolean:B1},clusterThreshold:{number:j1},hierarchical:{enabled:{boolean:B1},levelSeparation:{number:j1},nodeSpacing:{number:j1},treeSpacing:{number:j1},blockShifting:{boolean:B1},edgeMinimization:{boolean:B1},parentCentralization:{boolean:B1},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:L1,boolean:B1}},__type__:{object:L1}},manipulation:{enabled:{boolean:B1},initiallyActive:{boolean:B1},addNode:{boolean:B1,function:"function"},addEdge:{boolean:B1,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:L1,boolean:B1,function:"function"}},deleteNode:{boolean:B1,function:"function"},deleteEdge:{boolean:B1,function:"function"},controlNodeStyle:q1,__type__:{object:L1,boolean:B1}},nodes:q1,physics:{enabled:{boolean:B1},barnesHut:{theta:{number:j1},gravitationalConstant:{number:j1},centralGravity:{number:j1},springLength:{number:j1},springConstant:{number:j1},damping:{number:j1},avoidOverlap:{number:j1},__type__:{object:L1}},forceAtlas2Based:{theta:{number:j1},gravitationalConstant:{number:j1},centralGravity:{number:j1},springLength:{number:j1},springConstant:{number:j1},damping:{number:j1},avoidOverlap:{number:j1},__type__:{object:L1}},repulsion:{centralGravity:{number:j1},springLength:{number:j1},springConstant:{number:j1},nodeDistance:{number:j1},damping:{number:j1},__type__:{object:L1}},hierarchicalRepulsion:{centralGravity:{number:j1},springLength:{number:j1},springConstant:{number:j1},nodeDistance:{number:j1},damping:{number:j1},avoidOverlap:{number:j1},__type__:{object:L1}},maxVelocity:{number:j1},minVelocity:{number:j1},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:B1},iterations:{number:j1},updateInterval:{number:j1},onlyDynamicEdges:{boolean:B1},fit:{boolean:B1},__type__:{object:L1,boolean:B1}},timestep:{number:j1},adaptiveTimestep:{boolean:B1},wind:{x:{number:j1},y:{number:j1},__type__:{object:L1}},__type__:{object:L1,boolean:B1}},autoResize:{boolean:B1},clickToUse:{boolean:B1},locale:{string:A1},locales:{__any__:{any:W1},__type__:{object:L1}},height:{string:A1},width:{string:A1},__type__:{object:L1}},Y1={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},X1=(t,e,i)=>{var n;return!(!WN(t).call(t,"physics")||!WN(n=Y1.physics.solver).call(n,e)||i.physics.solver===e||"wind"===e)};class G1{constructor(){}getDistances(t,e,i){const n={},o=t.edges;for(let s=0;s<e.length;s++){const t=e[s],i={};n[t]=i;for(let n=0;n<e.length;n++)i[e[n]]=s==n?0:1e9}for(let s=0;s<i.length;s++){const t=o[i[s]];!0===t.connected&&void 0!==n[t.fromId]&&void 0!==n[t.toId]&&(n[t.fromId][t.toId]=1,n[t.toId][t.fromId]=1)}const r=e.length;for(let s=0;s<r;s++){const t=e[s],i=n[t];for(let o=0;o<r-1;o++){const s=e[o],a=n[s];for(let h=o+1;h<r;h++){const o=e[h],r=n[o],c=Math.min(a[o],a[t]+i[o]);a[o]=c,r[s]=c}}}return n}}class K1{constructor(t,e,i){this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new G1}setOptions(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}solve(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const o=.01,r=1;let s=0;const a=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=5;let c=1e9,d=0,l=0,u=0,f=0,p=0;while(c>o&&s<a){s+=1,[d,c,l,u]=this._getHighestEnergyNode(i),f=c,p=0;while(f>r&&p<h)p+=1,this._moveNode(d,l,u),[f,l,u]=this._getEnergy(d)}}_getHighestEnergyNode(t){const e=this.body.nodeIndices,i=this.body.nodes;let n=0,o=e[0],r=0,s=0;for(let a=0;a<e.length;a++){const h=e[a];if(!0!==i[h].predefinedPosition||!0===i[h].isCluster&&!0===t||!0!==i[h].options.fixed.x||!0!==i[h].options.fixed.y){const[t,e,i]=this._getEnergy(h);n<t&&(n=t,o=h,r=e,s=i)}}return[o,n,r,s]}_getEnergy(t){const[e,i]=this.E_sums[t],n=Math.sqrt(e**2+i**2);return[n,e,i]}_moveNode(t,e,i){const n=this.body.nodeIndices,o=this.body.nodes;let r=0,s=0,a=0;const h=o[t].x,c=o[t].y,d=this.K_matrix[t],l=this.L_matrix[t];for(let b=0;b<n.length;b++){const e=n[b];if(e!==t){const t=o[e].x,i=o[e].y,n=d[e],u=l[e],f=1/((h-t)**2+(c-i)**2)**1.5;r+=n*(1-u*(c-i)**2*f),s+=n*(u*(h-t)*(c-i)*f),a+=n*(1-u*(h-t)**2*f)}}const u=r,f=s,p=e,g=a,v=i,y=(p/u+v/f)/(f/u-g/f),m=-(f*y+p)/u;o[t].x+=m,o[t].y+=y,this._updateE_matrix(t)}_createL_matrix(t){const e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(let n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(let o=0;o<e.length;o++)this.L_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]}}_createK_matrix(t){const e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(let n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(let o=0;o<e.length;o++)this.K_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]**-2}}_createE_matrix(){const t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(let i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(let i=0;i<t.length;i++){const n=t[i],o=e[n].x,r=e[n].y;let s=0,a=0;for(let h=i;h<t.length;h++){const c=t[h];if(c!==n){const t=e[c].x,d=e[c].y,l=1/Math.sqrt((o-t)**2+(r-d)**2);this.E_matrix[n][h]=[this.K_matrix[n][c]*(o-t-this.L_matrix[n][c]*(o-t)*l),this.K_matrix[n][c]*(r-d-this.L_matrix[n][c]*(r-d)*l)],this.E_matrix[c][i]=this.E_matrix[n][h],s+=this.E_matrix[n][h][0],a+=this.E_matrix[n][h][1]}}this.E_sums[n]=[s,a]}}_updateE_matrix(t){const e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],o=this.K_matrix[t],r=this.L_matrix[t],s=i[t].x,a=i[t].y;let h=0,c=0;for(let d=0;d<e.length;d++){const l=e[d];if(l!==t){const t=n[d],e=t[0],u=t[1],f=i[l].x,p=i[l].y,g=1/Math.sqrt((s-f)**2+(a-p)**2),v=o[l]*(s-f-r[l]*(s-f)*g),y=o[l]*(a-p-r[l]*(a-p)*g);n[d]=[v,y],h+=v,c+=y;const m=this.E_sums[l];m[0]+=v-e,m[1]+=y-u}}this.E_sums[t]=[h,c]}}function $1(t,e,i){var n,o,r,s;if(!(this instanceof $1))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:_U,clickToUse:!1},Kk(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:sT(n=this.on).call(n,this),off:sT(o=this.off).call(o,this),emit:sT(r=this.emit).call(r,this),once:sT(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new OU(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Vq,this.canvas=new qZ(this.body),this.selectionHandler=new d0(this.body,this.canvas),this.interactionHandler=new KZ(this.body,this.canvas,this.selectionHandler),this.view=new YZ(this.body,this.canvas),this.renderer=new BZ(this.body,this.canvas),this.physics=new wZ(this.body),this.layoutEngine=new z1(this.body),this.clustering=new AZ(this.body),this.manipulation=new N1(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new O$(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new lZ(this.body,this.images,this.groups),this.body.modules["kamadaKawai"]=new K1(this.body,150,.05),this.body.modules["clustering"]=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}VT($1.prototype),$1.prototype.setOptions=function(t){if(null===t&&(t=void 0),void 0!==t){const e=TW.validate(t,V1);!0===e&&console.error("%cErrors have been found in the supplied options object.",kW);const i=["locale","locales","clickToUse"];if(VH(i,this.options,t),void 0!==t.locale&&(t.locale=xU(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new OW(this,this.body.container,Y1,this.canvas.pixelRatio,X1)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){const t={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};XH(t.nodes,this.nodesHandler.options),XH(t.edges,this.edgesHandler.options),XH(t.layout,this.layoutEngine.options),XH(t.interaction,this.selectionHandler.options),XH(t.interaction,this.renderer.options),XH(t.interaction,this.interactionHandler.options),XH(t.manipulation,this.manipulation.options),XH(t.physics,this.physics.options),XH(t.global,this.canvas.options),XH(t.global,this.options),this.configurator.setModuleOptions(t)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new EW(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},$1.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const n=e[i],o=t[n.fromId],r=t[n.toId],s=void 0!==o&&void 0!==r,a=!this.clustering._isClusteredEdge(i)&&!1===n.options.hidden&&s&&!1===o.options.hidden&&!1===r.options.hidden;a&&this.body.edgeIndices.push(n.id)}},$1.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})},$1.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=hU(t.dot);return void this.setData(e)}if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=cU(t.gephi);return void this.setData(e)}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},$1.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];LH(this.body.container)},$1.prototype._updateValueRange=function(t){let e,i,n,o=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),n=void 0===n?r:Math.max(r,n),o+=r)}if(void 0!==i&&void 0!==n)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(i,n,o)},$1.prototype.isActive=function(){return!this.activator||this.activator.active},$1.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},$1.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},$1.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},$1.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},$1.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},$1.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},$1.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},$1.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},$1.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},$1.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},$1.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},$1.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},$1.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},$1.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},$1.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},$1.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},$1.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},$1.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},$1.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},$1.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},$1.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},$1.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},$1.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},$1.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},$1.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},$1.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},$1.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},$1.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},$1.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},$1.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},$1.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},$1.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},$1.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},$1.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},$1.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},$1.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},$1.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},$1.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},$1.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},$1.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},$1.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},$1.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},$1.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},$1.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},$1.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},$1.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},$1.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},$1.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},$1.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},$1.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},$1.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},$1.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var Z1={physics:{maxVelocity:75,solver:"repulsion",repulsion:{centralGravity:.1,nodeDistance:120}}};function Q1(t,e,i,n){var o=null;function r(t){o=t,1==p.isCluster(o)?n(!1,!0,!1):d.indexOf(p.body.nodes[o].options.meaning)>-1?n(!0,!1,!0):n(!0,!1,!1)}function s(){o=null,n(!1,!1,!1)}var a={},h={};e.forEach(function(t,e){a[t.meaning]?a[t.meaning].push(e):a[t.meaning]=[e],void 0===h[t.phrase]?h[t.phrase]=e:console.warn("Duplicate phrase:",t.phrase)}),console.log("Groups before filtering:",a),console.log("Keyed data:",h);var c=e.map(function(t,e){return{id:e,label:'"'+t.phrase+'"\nlit. '+t.lit+"\nmeaning: "+t.meaning,meaning:t.meaning}});console.log("Nodes:",c);var d=Object.keys(a).filter(function(t){return a[t].length>1}),l=Object.values(a).flatMap(function(t){for(var e=[],i=0;i<t.length;i++)for(var n=i+1;n<t.length;n++)e.push({from:t[i],to:t[n],width:20,color:{color:"#888888",opacity:.3}});return e});console.log("Cluster edges:",l);var u=e.map(function(t,e){return[e,t.related]}).filter(function(t){return Array.isArray(t[1])&&t[1].length>0}).flatMap(function(t){return t[1].filter(function(t){return void 0!==h[t]||(console.warn("Undefined related phrase referenced:",t),!1)}).map(function(e){return[t[0],h[e]].sort()})}).map(function(t){return{from:t[0],to:t[1],color:"#ff0000"}});console.log("Related edges:",u);var f=[l,u].flatMap(function(t){return t}),p=new $1(t,{nodes:c,edges:f},Z1);function g(t){p.clustering.cluster({joinCondition:function(e){return e.meaning===t},processProperties:function(e,i,n){return Object.assign(e,{id:"cluster: "+t,label:"("+i.length+" elements)\nmeaning: "+t})}})}function v(){var t=p.body.nodes[o].options.label;function e(e){alert("Could not copy text:\n"+t+"\n"+e)}navigator&&navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).catch(e):e("")}function y(){p.openCluster(o),n(!1,!1,!1)}function m(){g(p.body.nodes[o].options.meaning),n(!1,!1,!1)}return d.forEach(g),p.on("dragStart",function(t){1==t.nodes.length&&r(t.nodes[0])}),p.on("selectNode",function(t){1==t.nodes.length?r(t.nodes[0]):s()}),p.on("deselectNode",function(t){s()}),p.on("afterDrawing",function(t){if(null!==o){var e=p.body.nodes[o];if(e){var n=p.canvasToDOM(e);i(n.x,n.y)}}}),{onCopy:v,onExpand:y,onCollapse:m}}var J1={name:"VisWrapper",props:["data"],data:function(){return{networkContainerId:"VisNetwork",networkContainer:null,onCopy:function(){},onExpand:function(){},onCollapse:function(){},floatingMenuLeft:0,floatingMenuTop:0,showCopy:!1,showExpand:!1,showCollapse:!1}},computed:{floatingMenuStyle:function(){return{position:"absolute",left:this.floatingMenuLeft+"px",top:this.floatingMenuTop+"px",opacity:.75,"z-index":10}}},methods:{setFloatingMenuCoords:function(t,e){var i=document.body.getBoundingClientRect(),n=this.networkContainer.getBoundingClientRect();this.floatingMenuLeft=Math.trunc(n.left-i.left+t)-70,this.floatingMenuTop=Math.trunc(n.top-i.top+e)-50},setShowButtons:function(t,e,i){this.showCopy=t,this.showExpand=e,this.showCollapse=i}},mounted:function(){this.networkContainer=document.getElementById(this.networkContainerId);var t=Q1(this.networkContainer,this.data,this.setFloatingMenuCoords,this.setShowButtons);this.onCopy=t.onCopy,this.onExpand=t.onExpand,this.onCollapse=t.onCollapse}},t2=J1,e2=i(845),i2=(0,e2.A)(t2,a,h,!1,null,null,null),n2=i2.exports;function o2(t){return t.length<3?(console.warn("Incomplete block!\n",t.join("\n")),[]):[{phrase:t[0],meaning:t[1],lit:t[2],related:t.slice(3).map(function(t){return t.replace(/ ?-> ?/,"")})}]}var r2={components:{Notifications:s.A,VisWrapper:n2},mixins:[r.A],data:function(){return{graphData:null}},mounted:function(){var t=this;this.plainAxios("fetching expressions",function(e){return e.get(t.$dataUrl+"/expressions/expressions.txt")},function(e){return t.graphData=e.trim().split(/\n{2,}/).flatMap(function(t){return o2(t.split("\n"))})})}},s2=r2,a2=(0,e2.A)(s2,n,o,!1,null,null,null),h2=a2.exports},6034:function(t,e,i){var n=i(6518),o=i(2357).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},7452:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},7588:function(t,e,i){var n=i(6518),o=i(9565),r=i(2652),s=i(9306),a=i(8551),h=i(1767),c=i(9539),d=i(4549),l=d("forEach",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:l},{forEach:function(t){a(this);try{s(t)}catch(n){c(this,"throw",n)}if(l)return o(l,this,t);var e=h(this),i=0;r(e,function(e){t(e,i++)},{IS_RECORD:!0})}})},8350:function(t,e,i){var n=i(6518),o=i(259),r=i(9306),s=i(8981),a=i(6198),h=i(1469);n({target:"Array",proto:!0},{flatMap:function(t){var e,i=s(this),n=a(i);return r(t),e=h(i,0),e.length=o(e,i,i,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},8598:function(t,e,i){var n=i(6518),o=i(9504),r=i(7055),s=i(5397),a=i(4598),h=o([].join),c=r!==Object,d=c||!a("join",",");n({target:"Array",proto:!0,forced:d},{join:function(t){return h(s(this),void 0===t?",":t)}})},8646:function(t,e,i){var n=i(9565),o=i(8551),r=i(1767),s=i(851);t.exports=function(t,e){e&&"string"===typeof t||o(t);var i=s(t);return r(o(void 0!==i?n(i,t):t))}}}]);
//# sourceMappingURL=522-legacy.3fc6764f.js.map