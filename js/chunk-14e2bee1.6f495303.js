(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14e2bee1"],{"0881":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("h3",[t._v("Filters")]),t.filters.length?t._e():r("button",{attrs:{disabled:"",loading:""}}),r("v-expansion-panels",{attrs:{popout:""}},t._l(t.filters,(function(e){return r("v-expansion-panel",{key:e.name,attrs:{hover:"",focusable:"",popout:""}},[r("v-expansion-panel-header",[t._v(" "+t._s(e.name)+" ")]),e.values.length<20?r("v-expansion-panel-content",t._l(e.values,(function(e){return r("v-checkbox",{key:e.label,attrs:{label:t.computeFilterLabel(e),disabled:!e.enabled},on:{change:function(e){return t.onFilterChange()}},model:{value:e.selected,callback:function(r){t.$set(e,"selected",r)},expression:"value.selected"}})})),1):r("v-expansion-panel-content",["Interlocutors"===e.name?r("span",[r("small",{staticStyle:{opacity:"0.66"}},[t._v("Sorry that some names which should be the same aren't and some which shouldn't be are. Data quality is difficult.")])]):t._e(),r("v-autocomplete",{attrs:{chips:"","deletable-chips":"",clearable:"",multiple:"",solo:"",items:t.computeListedItems(e)},on:{change:function(r){return t.onListedFilterChange(e)}},model:{value:e.listed,callback:function(r){t.$set(e,"listed",r)},expression:"filter.listed"}})],1)],1)})),1)],1),r("v-col",{attrs:{cols:"8"}},[t.restCallsGoing?r("v-progress-circular",{staticStyle:{width:"100%",height:"28px"},attrs:{indeterminate:""}}):r("span",[t.results.length?r("h3",[t._v(t._s(t.truncatedResults.length)+" of "+t._s(t.results.length)+" shown")]):r("h3",[t._v(" Found nothing. "),r("span",{staticStyle:{"font-size":"medium"}},[t._v(" Perhaps the filters are set in an impossible combination, or you may need to "),t.userId?r("span",[t._v("logout and login as another user")]):r("span",[t._v("login")]),t._v(" (from the left bar). ")])])]),r("v-checkbox",{attrs:{label:"Shuffle"},model:{value:t.shuffle,callback:function(e){t.shuffle=e},expression:"shuffle"}}),r("hr"),t._l(t.truncatedResults,(function(e,n){return r("p",{key:n,domProps:{innerHTML:t._s(e)}})})),t.results.length>t.resultsShown?r("v-btn",{on:{click:function(e){return t.showMore()}}},[t._v("Show more...")]):t._e(),r("Notifications",{attrs:{alerts:t.alerts,floating:!0}})],2)],1)],1)},i=[],a=(r("4de4"),r("5db7"),r("4160"),r("a630"),r("c975"),r("a15b"),r("d81d"),r("73d9"),r("b0c0"),r("b64b"),r("d3b7"),r("ac1f"),r("3ca3"),r("5319"),r("159b"),r("ddb0"),r("2cc9")),o=r("c4f7"),s=r("343b"),u=r("e5a4"),l=r("e985"),c={components:{HtmlEntry:u["a"],Notifications:l["a"]},mixins:[s["a"]],props:["userId"],data:function(){return{results:[],shuffle:!0,resultsShown:30,loginRdrHref:"/",filtersFirstLoaded:!0,filters:[]}},computed:{intermediateResults:function(){if(this.shuffle){var t=Array.from(this.results);return Object(o["a"])(t),t}return this.results},truncatedResults:function(){var t=this;return this.intermediateResults.filter((function(e,r){return r<t.resultsShown}))}},methods:{computeFilterLabel:function(t){return t.visibleCount===t.totalCount?t.label+" ("+t.visibleCount+")":t.label+" ("+t.visibleCount+"/"+t.totalCount+")"},computeListedItems:function(t){var e=this;return t.values.filter((function(t){return t.visibleCount>0||t.selected})).sort((function(t,e){return(e.selected?1e6:0)+e.visibleCount-(t.selected?1e6:0)-t.visibleCount})).map((function(t){return{text:e.computeFilterLabel(t),value:t.label,disabled:!t.enabled}}))},loadFilters:function(){var t=this,e=this.$route.query||{};function r(t){return Array.isArray(t)&&t||[t]}var n=Object.keys(e).flatMap((function(t){return r(e[t]).map((function(e){return t+"="+e}))})).join("&");this.credentialedAxios("loading filters",(function(e){return e.get(t.$apiUrl+"/diary/gagmine/filters?"+n)}),this.setFilterData)},loadFiltersFromExistingQuery:function(){var t=this;this.credentialedAxios("loading filters",(function(e){return e.get(t.$apiUrl+"/diary/gagmine/filters?"+t.query())}),(function(e){t.setFilterData(e),t.updateUrlFromSelections()}))},setFilterData:function(t){var e={};this.filters.forEach((function(t){return e[t.name]=t.values.filter((function(t){return t.selected})).map((function(t){return t.label}))})),t.forEach((function(t){t.listed=e[t.name]||[],t.values.forEach((function(e){return e.selected=t.listed.indexOf(e.label)>=0}))})),this.filters=t,this.filtersFirstLoaded&&(this.filtersFirstLoaded=!1,this.updateSelectionsFromUrl(),this.loadData())},query:function(){return this.filters.flatMap((function(t){return t.values.filter((function(t){return t.selected})).map((function(e){return t.name+"="+e.label}))})).join("&")},updateSelectionsFromUrl:function(){var t=this.$route.query||{};function e(t,e){return Array.isArray(t)&&t.indexOf(e)>=0||t===e}var r=this.filters;Object.keys(t).forEach((function(n){return r.filter((function(t){return t.name===n})).forEach((function(r){r.values.forEach((function(r){return r.selected=e(t[n],r.label)})),r.listed=r.values.filter((function(t){return t.enabled&&t.selected})).map((function(t){return t.label}))}))})),this.filters=r},loadData:function(){var t=this;this.resultsShown=30,this.credentialedAxios("loading data",(function(e){return e.get(t.$apiUrl+"/diary/gagmine/query?"+t.query())}),(function(e){return t.results=e}))},onListedFilterChange:function(t){t.values.forEach((function(e){return e.selected=t.listed.indexOf(e.label)>=0})),this.onFilterChange()},onFilterChange:function(){this.loadData(),this.loadFiltersFromExistingQuery()},updateUrlFromSelections:function(){var t={};this.filters.forEach((function(e){return t[e.name]=e.values.filter((function(t){return t.selected})).map((function(t){return t.label}))})),a["a"].replace({query:t}),this.updateLoginRdrHrefFromUrl()},updateLoginRdrHrefFromUrl:function(){this.loginRdrHref="/login-rdr?target="+encodeURIComponent(location.href)},showMore:function(){this.resultsShown+=50}},mounted:function(){this.loadFilters(),this.updateLoginRdrHrefFromUrl()}},f=c,d=(r("deff"),r("2877")),h=Object(d["a"])(f,n,i,!1,null,null,null);e["default"]=h.exports},"0cb2":function(t,e,r){var n=r("e330"),i=r("7b0b"),a=Math.floor,o=n("".charAt),s=n("".replace),u=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,f,d){var h=r+t.length,v=n.length,p=c;return void 0!==f&&(f=i(f),p=l),s(d,p,(function(i,s){var l;switch(o(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,r);case"'":return u(e,h);case"<":l=f[u(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>v){var d=a(c/10);return 0===d?i:d<=v?void 0===n[d-1]?o(s,1):n[d-1]+o(s,1):i}l=n[c-1]}return void 0===l?"":l}))}},"159b":function(t,e,r){var n=r("da84"),i=r("fdbc"),a=r("785a"),o=r("17c2"),s=r("9112"),u=function(t){if(t&&t.forEach!==o)try{s(t,"forEach",o)}catch(e){t.forEach=o}};for(var l in i)i[l]&&u(n[l]&&n[l].prototype);u(a)},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,i=r("a640"),a=i("forEach");t.exports=a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1caf":function(t,e,r){},"3ca3":function(t,e,r){"use strict";var n=r("6547").charAt,i=r("577e"),a=r("69f3"),o=r("c6d2"),s=r("4754"),u="String Iterator",l=a.set,c=a.getterFor(u);o(String,"String",(function(t){l(this,{type:u,string:i(t),index:0})}),(function(){var t,e=c(this),r=e.string,i=e.index;return i>=r.length?s(void 0,!0):(t=n(r,i),e.index+=t.length,s(t,!1))}))},4160:function(t,e,r){"use strict";var n=r("23e7"),i=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"4de4":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").filter,a=r("1dde"),o=a("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,r){"use strict";var n=r("0366"),i=r("c65b"),a=r("7b0b"),o=r("9bdd"),s=r("e95a"),u=r("68ee"),l=r("07fa"),c=r("8418"),f=r("9a1f"),d=r("35a1"),h=Array;t.exports=function(t){var e=a(t),r=u(this),v=arguments.length,p=v>1?arguments[1]:void 0,b=void 0!==p;b&&(p=n(p,v>2?arguments[2]:void 0));var m,g,y,x,L,S,F=d(e),_=0;if(!F||this===h&&s(F))for(m=l(e),g=r?new this(m):h(m);m>_;_++)S=b?p(e[_],_):e[_],c(g,_,S);else for(x=f(e,F),L=x.next,g=r?new this:[];!(y=i(L,x)).done;_++)S=b?o(x,p,[y.value,_],!0):y.value,c(g,_,S);return g.length=_,g}},5319:function(t,e,r){"use strict";var n=r("2ba4"),i=r("c65b"),a=r("e330"),o=r("d784"),s=r("d039"),u=r("825a"),l=r("1626"),c=r("7234"),f=r("5926"),d=r("50c4"),h=r("577e"),v=r("1d80"),p=r("8aa5"),b=r("dc4a"),m=r("0cb2"),g=r("14c3"),y=r("b622"),x=y("replace"),L=Math.max,S=Math.min,F=a([].concat),_=a([].push),w=a("".indexOf),M=a("".slice),E=function(t){return void 0===t?t:String(t)},$=function(){return"$0"==="a".replace(/./,"$0")}(),k=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),C=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));o("replace",(function(t,e,r){var a=k?"$":"$0";return[function(t,r){var n=v(this),a=c(t)?void 0:b(t,x);return a?i(a,t,n,r):i(e,h(n),t,r)},function(t,i){var o=u(this),s=h(t);if("string"==typeof i&&-1===w(i,a)&&-1===w(i,"$<")){var c=r(e,o,s,i);if(c.done)return c.value}var v=l(i);v||(i=h(i));var b=o.global;if(b){var y=o.unicode;o.lastIndex=0}var x=[];while(1){var $=g(o,s);if(null===$)break;if(_(x,$),!b)break;var k=h($[0]);""===k&&(o.lastIndex=p(s,d(o.lastIndex),y))}for(var C="",A=0,O=0;O<x.length;O++){$=x[O];for(var T=h($[0]),H=L(S(f($.index),s.length),0),R=[],j=1;j<$.length;j++)_(R,E($[j]));var D=$.groups;if(v){var I=F([T],R,H,s);void 0!==D&&_(I,D);var P=h(n(i,void 0,I))}else P=m(T,s,H,R,D,i);H>=A&&(C+=M(s,A,H)+P,A=H+T.length)}return C+M(s,A)}]}),!C||!$||k)},"53c4":function(t,e,r){},"5db7":function(t,e,r){"use strict";var n=r("23e7"),i=r("a2bf"),a=r("59ed"),o=r("7b0b"),s=r("07fa"),u=r("65f0");n({target:"Array",proto:!0},{flatMap:function(t){var e,r=o(this),n=s(r);return a(t),e=u(r,0),e.length=i(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},"73d9":function(t,e,r){var n=r("44d2");n("flatMap")},"785a":function(t,e,r){var n=r("cc12"),i=n("span").classList,a=i&&i.constructor&&i.constructor.prototype;t.exports=a===Object.prototype?void 0:a},"9bdd":function(t,e,r){var n=r("825a"),i=r("2a62");t.exports=function(t,e,r,a){try{return a?e(n(r)[0],r[1]):e(r)}catch(o){i(t,"throw",o)}}},a15b:function(t,e,r){"use strict";var n=r("23e7"),i=r("e330"),a=r("44ad"),o=r("fc6a"),s=r("a640"),u=i([].join),l=a!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return u(o(this),void 0===t?",":t)}})},a2bf:function(t,e,r){"use strict";var n=r("e8b5"),i=r("07fa"),a=r("3511"),o=r("0366"),s=function(t,e,r,u,l,c,f,d){var h,v,p=l,b=0,m=!!f&&o(f,d);while(b<u)b in r&&(h=m?m(r[b],b,e):r[b],c>0&&n(h)?(v=i(h),p=s(t,e,h,v,p,c-1)-1):(a(p+1),t[p]=h),p++),b++;return p};t.exports=s},a630:function(t,e,r){var n=r("23e7"),i=r("4df4"),a=r("1c7e"),o=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:i})},b64b:function(t,e,r){var n=r("23e7"),i=r("7b0b"),a=r("df75"),o=r("d039"),s=o((function(){a(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return a(i(t))}})},b727:function(t,e,r){var n=r("0366"),i=r("e330"),a=r("44ad"),o=r("7b0b"),s=r("07fa"),u=r("65f0"),l=i([].push),c=function(t){var e=1==t,r=2==t,i=3==t,c=4==t,f=6==t,d=7==t,h=5==t||f;return function(v,p,b,m){for(var g,y,x=o(v),L=a(x),S=n(p,b),F=s(L),_=0,w=m||u,M=e?w(v,F):r||d?w(v,0):void 0;F>_;_++)if((h||_ in L)&&(g=L[_],y=S(g,_,x),t))if(e)M[_]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:l(M,g)}else switch(t){case 4:return!1;case 7:l(M,g)}return f?-1:i||c?c:M}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},c4f7:function(t,e,r){"use strict";function n(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function i(t,e,r){"undefined"===typeof e&&(e=0),"undefined"===typeof r&&(r=t.length);for(var i=r-e,a=e;a<r;a++)n(t,e+Math.floor(Math.random()*i),e+Math.floor(Math.random()*i))}r.d(e,"a",(function(){return i}))},cf45:function(t,e,r){"use strict";var n=r("53c4"),i=r.n(n);i.a},d81d:function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").map,a=r("1dde"),o=a("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},ddb0:function(t,e,r){var n=r("da84"),i=r("fdbc"),a=r("785a"),o=r("e260"),s=r("9112"),u=r("b622"),l=u("iterator"),c=u("toStringTag"),f=o.values,d=function(t,e){if(t){if(t[l]!==f)try{s(t,l,f)}catch(n){t[l]=f}if(t[c]||s(t,c,e),i[e])for(var r in o)if(t[r]!==o[r])try{s(t,r,o[r])}catch(n){t[r]=o[r]}}};for(var h in i)d(n[h]&&n[h].prototype,h);d(a,"DOMTokenList")},deff:function(t,e,r){"use strict";var n=r("1caf"),i=r.n(n);i.a},e5a4:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Notifications",{attrs:{alerts:t.alerts,floating:!0}}),t.restCallsGoing?r("v-progress-circular",{staticStyle:{margin:"15px 0 0 130px"},attrs:{indeterminate:""}}):r("div",[null===t.entryHtml?r("v-icon",[t._v("mdi-account-alert")]):r("span",{domProps:{innerHTML:t._s(t.entryHtml)}})],1)],1)},i=[],a=r("343b"),o=r("e985"),s={props:["sourcePath"],components:{Notifications:o["a"]},mixins:[a["a"]],data:function(){return{entryHtml:""}},mounted:function(){var t=this;this.credentialedAxios("reading "+this.sourcePath,(function(e){return e.get(t.sourcePath)}),(function(e){return t.entryHtml=e}))}},u=s,l=r("2877"),c=Object(l["a"])(u,n,i,!1,null,null,null);e["a"]=c.exports},e985:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{"alerts-outer-floating":t.floating}},t._l(t.alerts,(function(e,n){return r("v-alert",{key:n,attrs:{dismissible:"",elevation:"7",type:e.type},on:{input:function(e){return t.$delete(t.alerts,n)}}},[t._v(" "+t._s(e.text)+" ")])})),1)},i=[],a={name:"Notifications",props:["alerts","floating"]},o=a,s=(r("cf45"),r("2877")),u=Object(s["a"])(o,n,i,!1,null,null,null);e["a"]=u.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-14e2bee1.6f495303.js.map