<html>
<head>
    <meta charset= "UTF-8">
    <link rel="stylesheet" type="text/css" href="siteresources/style.css">
    <title>Teo Nistor's Landing Page | teonistorF-8"ub.io</title>
</head>

<body>
    <h2>
        Teo Nistor's Landing Page
    </h2>
    <p>
        (This site is under indefinite construction)
    </p>
    <hr />
    <p>
        <a href="https://github.com/teonistor ">My Github page</a>
    </p>
    <p>
        <a href="https://teonistor.itch.io">My Itch page</a>
    </p>
    <p>
        <a href="story.htm">My coding story</a>
    </p>
    <p>
        Treasure hunt: <input style="margin: 16px; text-align: center;" id="password" type="password" placeholder="Code" /> <button id="loginbutton" type="button">Enter</button>
    </p>
    <p>
        I don't know why you're still here, but here's a useless button:
        <button id="uselessbutton">
            Click me!
        </button>
    </p>
</body>
    
<!-- Thanks to matteobrusa@github for some code snippets here -->
<script type="text/javascript" src="https://cdn.rawgit.com/chrisveness/crypto/master/sha1.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>

    <script type="text/javascript">

        function loadPage(pwd) {

            var hash = pwd;
            hash = Sha1.hash(pwd);
            var url = hash + ".htm";

            $.ajax({
                url: url,
                dataType: "html",
                success: function (data) {
                    window.location = url;
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    $("#password").attr("placeholder", "Nope!");
                    $("#password").val("");
                    setTimeout(function () {
                        $("#password").attr("placeholder", "Code");
                    }, 1500);
                }
            });
        }


        $("#loginbutton").on("click", function () {
            $("#password").focus();
            loadPage($("#password").val());
        });
        $("#password").keypress(function (e) {
            if (e.which == 13) {
                loadPage($("#password").val());
            }
        });

        $("#uselessbutton").on("click", function () {
            alert("Ouch!");
        });

        $("#password").focus();
    </script>
</html>
